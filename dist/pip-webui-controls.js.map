{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/color_picker/color_picker.ts","src/controls.ts","src/dependencies/translate.ts","src/image_slider/image_slider.ts","src/image_slider/image_slider_service.ts","src/image_slider/slider_button.ts","src/image_slider/slider_indicator.ts","src/markdown/markdown.ts","src/popover/popover.ts","src/popover/popover_service.ts","src/progress/routing_progress.ts","src/toast/toasts.ts","temp/pip-webui-controls-html.min.js"],"names":[],"mappings":"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","file":"pip-webui-controls.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipColorPicker', [ 'pipControls.Templates']); // 'pipFocused',\n\n    thisModule.directive('pipColorPicker',\n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    ngDisabled: '&',\n                    colors: '=pipColors',\n                    currentColor: '=ngModel',\n                    colorChange: '&ngChange'\n                },\n                templateUrl: 'color_picker/color_picker.html',\n                controller: 'pipColorPickerController'\n            };\n        }\n    );\n    thisModule.controller('pipColorPickerController',\n        function ($scope, $element, $attrs, $timeout) {\n            var\n                DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\n\n            $scope.class = $attrs.class || '';\n\n            if (!$scope.colors || _.isArray($scope.colors) && $scope.colors.length === 0) {\n                $scope.colors = DEFAULT_COLORS;\n            }\n\n            $scope.currentColor = $scope.currentColor || $scope.colors[0];\n            $scope.currentColorIndex = $scope.colors.indexOf($scope.currentColor);\n\n            $scope.disabled = function () {\n                if ($scope.ngDisabled) {\n                    return $scope.ngDisabled();\n                }\n\n                return true;\n            };\n\n            $scope.selectColor = function (index) {\n                if ($scope.disabled()) {\n                    return;\n                }\n                $scope.currentColorIndex = index;\n\n                $scope.currentColor = $scope.colors[$scope.currentColorIndex];\n\n                $timeout(function () {\n                    $scope.$apply();\n                });\n\n                if ($scope.colorChange) {\n                    $scope.colorChange();\n                }\n            };\n\n            $scope.enterSpacePress = function (event) {\n                $scope.selectColor(event.index);\n            };\n        }\n    );\n\n})();\n","﻿/// <reference path=\"../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    angular.module('pipControls', [\n        'pipMarkdown',\n        'pipColorPicker',\n        'pipRoutingProgress',\n        'pipPopover',\n        'pipImageSlider',\n        'pipToasts',\n        'pipControls.Translate'\n    ]);\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipControls.Translate', []);\n\n    thisModule.filter('translate', function ($injector) {\n        var pipTranslate = $injector.has('pipTranslate') \n            ? $injector.get('pipTranslate') : null;\n\n        return function (key) {\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\n        }\n    });\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\n\n    thisModule.directive('pipImageSlider',\n        function () {\n            return {\n                scope: {\n                    sliderIndex: '=pipImageIndex'\n                },\n                controller: function ($scope, $element, $attrs, $parse, $timeout, $interval, $pipImageSlider) {\n                    var blocks,\n                        index = 0, newIndex,\n                        direction,\n                        type = $parse($attrs.pipAnimationType)($scope),\n                        DEFAULT_INTERVAL = 4500,\n                        interval = $parse($attrs.pipAnimationInterval)($scope),\n                        timePromises,\n                        throttled;\n\n                    $element.addClass('pip-image-slider');\n                    $element.addClass('pip-animation-' + type);\n\n                    $scope.swipeStart = 0;\n                    /*\n                     if ($swipe)\n                     $swipe.bind($element, {\n                     'start': function(coords) {\n                     if (coords) $scope.swipeStart = coords.x;\n                     else $scope.swipeStart = 0;\n                     },\n                     'end': function(coords) {\n                     var delta;\n                     if (coords) {\n                     delta = $scope.swipeStart - coords.x;\n                     if (delta > 150)  $scope.nextBlock();\n                     if (delta < -150)  $scope.prevBlock();\n                     $scope.swipeStart = 0;\n                     } else $scope.swipeStart = 0;\n                     }\n                     });\n                     */\n                    setIndex();\n\n                    $timeout(function () {\n                        blocks = $element.find('.pip-animation-block');\n                        if (blocks.length > 0) {\n                            $(blocks[0]).addClass('pip-show');\n                        }\n                    });\n\n                    startInterval();\n                    throttled = _.throttle(function () {\n                        $pipImageSlider.toBlock(type, blocks, index, newIndex, direction);\n                        index = newIndex;\n                        setIndex();\n                    }, 700);\n\n                    $scope.nextBlock = function () {\n                        restartInterval();\n                        newIndex = index + 1 === blocks.length ? 0 : index + 1;\n                        direction = 'next';\n                        throttled();\n                    };\n\n                    $scope.prevBlock = function () {\n                        restartInterval();\n                        newIndex = index - 1 < 0 ? blocks.length - 1 : index - 1;\n                        direction = 'prev';\n                        throttled();\n                    };\n\n                    $scope.slideTo = function (nextIndex) {\n                        if (nextIndex === index || nextIndex > blocks.length - 1) {\n                            return;\n                        }\n\n                        restartInterval();\n                        newIndex = nextIndex;\n                        direction = nextIndex > index ? 'next' : 'prev';\n                        throttled();\n                    };\n                    \n                    if ($attrs.id) $pipImageSlider.registerSlider($attrs.id, $scope);\n\n                    function setIndex() {\n                        if ($attrs.pipImageIndex) $scope.sliderIndex = index;\n                    }\n\n                    function startInterval() {\n                        timePromises = $interval(function () {\n                            newIndex = index + 1 === blocks.length ? 0 : index + 1;\n                            direction = 'next';\n                            throttled();\n                        }, interval || DEFAULT_INTERVAL);\n                    }\n\n                    function stopInterval() {\n                        $interval.cancel(timePromises);\n                    }\n\n                    $element.on('$destroy', function () {\n                        stopInterval();\n                        $pipImageSlider.removeSlider($attrs.id);\n                    });\n\n                    function restartInterval() {\n                        stopInterval();\n                        startInterval();\n                    }\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipImageSlider.Service', []);\n\n    thisModule.service('$pipImageSlider',\n        function ($timeout) {\n\n            var ANIMATION_DURATION = 550,\n                sliders = {};\n\n            return {\n                nextCarousel: nextCarousel,\n                prevCarousel: prevCarousel,\n                toBlock: toBlock,\n                registerSlider: register,\n                removeSlider: remove,\n                getSliderScope: getSlider\n            };\n\n            function register(sliderId, sliderScope) {\n                sliders[sliderId] = sliderScope;\n            }\n            \n            function remove(sliderId) {\n                delete sliders[sliderId];\n            }\n\n            function getSlider(sliderId) {\n                return sliders[sliderId];\n            }\n\n            function nextCarousel(nextBlock, prevBlock) {\n                nextBlock.addClass('pip-next');\n                \n                $timeout(function () {\n                    nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\n                    prevBlock.addClass('animated').removeClass('pip-show');\n                }, 100);\n            }\n\n            function prevCarousel(nextBlock, prevBlock) {\n                $timeout(function () {\n                    nextBlock.addClass('animated').addClass('pip-show');\n                    prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\n                }, 100);\n            }\n\n            function toBlock(type, blocks, oldIndex, nextIndex, direction) {\n                var prevBlock = $(blocks[oldIndex]),\n                    blockIndex = nextIndex,\n                    nextBlock = $(blocks[blockIndex]);\n\n                if (type === 'carousel') {\n                    $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\n\n                    if (direction && (direction === 'prev' || direction === 'next')) {\n                        if (direction === 'prev') {\n                            prevCarousel(nextBlock, prevBlock);\n                        } else {\n                            nextCarousel(nextBlock, prevBlock);\n                        }\n                    } else {\n                        if (nextIndex && nextIndex < oldIndex) {\n                            prevCarousel(nextBlock, prevBlock);\n                        } else {\n                            nextCarousel(nextBlock, prevBlock);\n                        }\n                    }\n                } else {\n                    prevBlock.addClass('animated').removeClass('pip-show');\n                    nextBlock.addClass('animated').addClass('pip-show');\n                }\n            }\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipSliderButton', []);\n\n    thisModule.directive('pipSliderButton',\n        function () {\n            return {\n                scope: {},\n                controller: function ($scope, $element, $parse, $attrs, $pipImageSlider) {\n                    var type = $parse($attrs.pipButtonType)($scope),\n                        sliderId = $parse($attrs.pipSliderId)($scope);\n\n                    $element.on('click', function () {\n                        if (!sliderId || !type) {\n                            return;\n                        }\n\n                        $pipImageSlider.getSliderScope(sliderId)[type + 'Block']();\n                    });\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipSliderIndicator', []);\n\n    thisModule.directive('pipSliderIndicator',\n        function () {\n            return {\n                scope: false,\n                controller: function ($scope, $element, $parse, $attrs, $pipImageSlider) {\n                    var sliderId = $parse($attrs.pipSliderId)($scope),\n                        slideTo = $parse($attrs.pipSlideTo)($scope);\n\n                    $element.css('cursor', 'pointer');\n                    $element.on('click', function () {\n                        if (!sliderId || slideTo && slideTo < 0) {\n                            return;\n                        }\n\n                        $pipImageSlider.getSliderScope(sliderId).slideTo(slideTo);\n                    });\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\ndeclare var marked: any;\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipMarkdown', ['ngSanitize']);\n\n    thisModule.run(function ($injector) {\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.setTranslations('en', {\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\n                'checklist': 'Checklist',\n                'documents': 'Documents',\n                'pictures': 'Pictures',\n                'location': 'Location',\n                'time': 'Time'\n            });\n            pipTranslate.setTranslations('ru', {\n                'MARKDOWN_ATTACHMENTS': 'Вложения:',\n                'checklist': 'Список',\n                'documents': 'Документы',\n                'pictures': 'Изображения',\n                'location': 'Местонахождение',\n                'time': 'Время'\n            });\n        }\n    });\n\n    thisModule.directive('pipMarkdown',\n        function ($parse, $injector) {\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n            return {\n                restrict: 'EA',\n                scope: false,\n                link: function ($scope: any, $element, $attrs: any) {\n                    var\n                        textGetter = $parse($attrs.pipText),\n                        listGetter = $parse($attrs.pipList),\n                        clampGetter = $parse($attrs.pipLineCount);\n\n                    function describeAttachments(array) {\n                        var attachString = '',\n                            attachTypes = [];\n\n                        _.each(array, function (attach) {\n                            if (attach.type && attach.type !== 'text') {\n                                if (attachString.length === 0 && pipTranslate) {\n                                    attachString = pipTranslate.translate('MARKDOWN_ATTACHMENTS');\n                                }\n\n                                if (attachTypes.indexOf(attach.type) < 0) {\n                                    attachTypes.push(attach.type);\n                                    attachString += attachTypes.length > 1 ? ', ' : ' ';\n                                    if (pipTranslate)\n                                        attachString += pipTranslate.translate(attach.type);\n                                }\n                            }\n                        });\n\n                        return attachString;\n                    }\n\n                    function toBoolean(value) {\n                        if (value == null) return false;\n                        if (!value) return false;\n                        value = value.toString().toLowerCase();\n                        return value == '1' || value == 'true';\n                    }\n\n                    function bindText(value) {\n                        var textString, isClamped, height, options, obj;\n\n                        if (_.isArray(value)) {\n                            obj = _.find(value, function (item: any) {\n                                return item.type === 'text' && item.text;\n                            });\n\n                            textString = obj ? obj.text : describeAttachments(value);\n                        } else {\n                            textString = value;\n                        }\n\n                        isClamped = $attrs.pipLineCount && _.isNumber(clampGetter());\n                        isClamped = isClamped && textString && textString.length > 0;\n                        options = {\n                            gfm: true,\n                            tables: true,\n                            breaks: true,\n                            sanitize: true,\n                            pedantic: true,\n                            smartLists: true,\n                            smartypents: false\n                        };\n                        textString = marked(textString || '', options);\n                        if (isClamped) {\n                            height = 1.5 * clampGetter();\n                        }\n                        // Assign value as HTML\n                        $element.html('<div' + (isClamped ? listGetter() ? 'class=\"pip-markdown-content ' +\n                            'pip-markdown-list\" style=\"max-height: ' + height + 'em\">'\n                                : ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : listGetter()\n                                ? ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\n                        $element.find('a').attr('target', 'blank');\n                        if (!listGetter() && isClamped) {\n                            $element.append('<div class=\"pip-gradient-block\"></div>');\n                        }\n                    }\n\n                    // Fill the text\n                    bindText(textGetter($scope));\n\n                    // Also optimization to avoid watch if it is unnecessary\n                    if (toBoolean($attrs.pipRebind)) {\n                        $scope.$watch(textGetter, function (newValue) {\n                            bindText(newValue);\n                        });\n                    }\n\n                    $scope.$on('pipWindowResized', function () {\n                        bindText(textGetter($scope));\n                    });\n\n                    // Add class\n                    $element.addClass('pip-markdown');\n                }\n            };\n        }\n    );\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipPopover', ['pipPopover.Service']);\n\n    thisModule.directive('pipPopover', function () {\n        return {\n            restrict: 'EA',\n            scope: true,\n            templateUrl: 'popover/popover.html',\n            controller: function ($scope, $rootScope, $element, $timeout, $compile) {\n                var backdropElement, content;\n\n                backdropElement = $('.pip-popover-backdrop');\n                backdropElement.on('click keydown scroll', backdropClick);\n                backdropElement.addClass($scope.params.responsive !== false ? 'pip-responsive' : '');\n\n                $timeout(function () {\n                    position();\n                    if ($scope.params.template) {\n                        content = $compile($scope.params.template)($scope);\n                        $element.find('.pip-popover').append(content);\n                    }\n\n                    init();\n                });\n\n                $timeout(function () {\n                    calcHeight();\n                }, 200);\n\n                $scope.onPopoverClick = onPopoverClick;\n                $scope = _.defaults($scope, $scope.$parent);    // eslint-disable-line \n\n                $rootScope.$on('pipPopoverResize', onResize);\n                $(window).resize(onResize);\n\n                function init() {\n                    backdropElement.addClass('opened');\n                    $('.pip-popover-backdrop').focus();\n                    if ($scope.params.timeout) {\n                        $timeout(function () {\n                            closePopover();\n                        }, $scope.params.timeout);\n                    }\n                }\n\n                function backdropClick() {\n                    if ($scope.params.cancelCallback) {\n                        $scope.params.cancelCallback();\n                    }\n\n                    closePopover();\n                }\n\n                function closePopover() {\n                    backdropElement.removeClass('opened');\n                    $timeout(function () {\n                        backdropElement.remove();\n                    }, 100);\n                }\n\n                function onPopoverClick($e) {\n                    $e.stopPropagation();\n                }\n\n                function position() {\n                    if ($scope.params.element) {\n                        var element = $($scope.params.element),\n                            pos = element.offset(),\n                            width = element.width(),\n                            height = element.height(),\n                            docWidth = $(document).width(),\n                            docHeight = $(document).height(),\n                            popover = backdropElement.find('.pip-popover');\n\n                        if (pos) {\n                            popover\n                                .css('max-width', docWidth - (docWidth - pos.left))\n                                .css('max-height', docHeight - (pos.top + height) - 32, 0)\n                                .css('left', pos.left - popover.width() + width / 2)\n                                .css('top', pos.top + height + 16);\n                        }\n                    }\n                }\n\n                function calcHeight() {\n                    if ($scope.params.calcHeight === false) { return; }\n\n                    var popover = backdropElement.find('.pip-popover'),\n                        title = popover.find('.pip-title'),\n                        footer = popover.find('.pip-footer'),\n                        content = popover.find('.pip-content'),\n                        contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\n\n                    content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\n                }\n\n                function onResize() {\n                    backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\n                    position();\n                    calcHeight();\n                }\n            }\n        };\n    });\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipPopover.Service', []);\n\n    thisModule.service('pipPopoverService',\n        function ($compile, $rootScope, $timeout) {\n            var popoverTemplate;\n\n            popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\n\n            return {\n                show: onShow,\n                hide: onHide,\n                resize: onResize\n            };\n\n            function onShow(p) {\n                var element, scope, params, content;\n\n                element = $('body');\n                if (element.find('md-backdrop').length > 0) { return; }\n                onHide();\n                scope = $rootScope.$new();\n                params = p && _.isObject(p) ? p : {};\n                scope.params = params;\n                scope.locals = params.locals;\n                content = $compile(popoverTemplate)(scope);\n                element.append(content);\n            }\n\n            function onHide() {\n                var backdropElement = $('.pip-popover-backdrop');\n\n                backdropElement.removeClass('opened');\n                $timeout(function () {\n                    backdropElement.remove();\n                }, 100);\n            }\n\n            function onResize() {\n                $rootScope.$broadcast('pipPopoverResize');\n            }\n\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipRoutingProgress', ['ngMaterial']);\n\n    thisModule.directive('pipRoutingProgress', function () {\n        return {\n            restrict: 'EA',\n            replace: true,\n            scope: {\n                    showProgress: '&',\n                    logoUrl: '@'\n                },\n            templateUrl: 'progress/routing_progress.html',\n            controller: 'pipRoutingProgressController'\n        };\n    });\n\n    thisModule.controller('pipRoutingProgressController',\n        function ($scope, $element, $attrs) {\n            var  image = $element.children('img');          \n\n            loadProgressImage();\n\n            return;\n\n            function loadProgressImage() {\n                if ($scope.logoUrl) {\n                    image.attr('src', $scope.logoUrl);\n                }\n            }\n\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n    var thisModule = angular.module('pipToasts', ['ngMaterial', 'pipControls.Translate']);\n\n    thisModule.controller('pipToastController',\n        function ($scope, $mdToast, toast, $injector) {\n            var pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') \n                ? $injector.get('pipErrorDetailsDialog') : null;\n\n            // if (toast.type && sounds['toast_' + toast.type]) {\n            //     sounds['toast_' + toast.type].play();\n            // }\n\n            $scope.message = toast.message;\n            $scope.actions = toast.actions;\n            $scope.toast = toast;\n            \n            if (toast.actions.length === 0) {\n                $scope.actionLenght = 0;\n            } else if (toast.actions.length === 1) {\n                $scope.actionLenght = toast.actions[0].toString().length;\n            } else {\n                $scope.actionLenght = null;\n            }\n\n            $scope.showDetails = pipErrorDetailsDialog != null;\n            $scope.onDetails = function () {\n                $mdToast.hide();\n\n                if (pipErrorDetailsDialog) {\n                    pipErrorDetailsDialog.show(\n                        {\n                            error: $scope.toast.error,\n                            ok: 'Ok'\n                        },\n                        angular.noop,\n                        angular.noop\n                    );\n                }\n            };\n\n            $scope.onAction = function (action) {\n                $mdToast.hide(\n                    {\n                        action: action,\n                        id: toast.id,\n                        message: toast.message\n                    });\n            };\n        }\n    );\n\n    thisModule.service('pipToasts',\n        function ($rootScope, $mdToast) {\n            var\n                SHOW_TIMEOUT = 20000,\n                SHOW_TIMEOUT_NOTIFICATIONS = 20000,\n                toasts = [],\n                currentToast,\n                sounds = {};\n\n            /** pre-load sounds for notifications */\n                // sounds['toast_error'] = ngAudio.load('sounds/fatal.mp3');\n                // sounds['toast_notification'] = ngAudio.load('sounds/error.mp3');\n                // sounds['toast_message'] = ngAudio.load('sounds/warning.mp3');\n\n                // Remove error toasts when page is changed\n            $rootScope.$on('$stateChangeSuccess', onStateChangeSuccess);\n            $rootScope.$on('pipSessionClosed', onClearToasts);\n            $rootScope.$on('pipIdentityChanged', onClearToasts);\n\n            return {\n                showNotification: showNotification,\n                showMessage: showMessage,\n                showError: showError,\n                hideAllToasts: hideAllToasts,\n                clearToasts: clearToasts,\n                removeToastsById: removeToastsById,\n                getToastById: getToastById\n            };\n\n            // Take the next from queue and show it\n            function showNextToast() {\n                var toast;\n\n                if (toasts.length > 0) {\n                    toast = toasts[0];\n                    toasts.splice(0, 1);\n                    showToast(toast);\n                }\n            }\n\n            // Show toast\n            function showToast(toast) {\n                currentToast = toast;\n\n                $mdToast.show({\n                    templateUrl: 'toast/toast.html',\n                    hideDelay: toast.duration || SHOW_TIMEOUT,\n                    position: 'bottom left',\n                    controller: 'pipToastController',\n                    locals: {\n                        toast: currentToast,\n                        sounds: sounds\n                    }\n                })\n                    .then(\n                    function showToastOkResult(action) {\n                        if (currentToast.successCallback) {\n                            currentToast.successCallback(action);\n                        }\n                        currentToast = null;\n                        showNextToast();\n                    },\n                    function showToastCancelResult(action) {\n                        if (currentToast.cancelCallback) {\n                            currentToast.cancelCallback(action);\n                        }\n                        currentToast = null;\n                        showNextToast();\n                    }\n                );\n            }\n\n            function addToast(toast) {\n                if (currentToast && toast.type !== 'error') {\n                    toasts.push(toast);\n                } else {\n                    showToast(toast);\n                }\n            }\n\n            function removeToasts(type) {\n                var result = [];\n\n                _.each(toasts, function (toast) {\n                    if (!toast.type || toast.type !== type) {\n                        result.push(toast);\n                    }\n                });\n                toasts = _.cloneDeep(result);\n            }\n\n            function removeToastsById(id) {\n                _.remove(toasts, {id: id});\n            }\n\n            function getToastById(id) {\n                return _.find(toasts, {id: id});\n            }\n\n            function onStateChangeSuccess() {\n                // toasts = _.reject(toasts, function (toast) {\n                //     return toast.type === 'error';\n                // });\n\n                // if (currentToast && currentToast.type === 'error') {\n                //     $mdToast.cancel();\n                //     showNextToast();\n                // }\n            }\n\n            function onClearToasts() {\n                clearToasts();\n            }\n\n            // Show new notification toast at the top right\n            function showNotification(message, actions, successCallback, cancelCallback, id) {\n                // pipAssert.isDef(message, 'pipToasts.showNotification: message should be defined');\n                // pipAssert.isString(message, 'pipToasts.showNotification: message should be a string');\n                // pipAssert.isArray(actions || [], 'pipToasts.showNotification: actions should be an array');\n                // if (successCallback) {\n                //     pipAssert.isFunction(successCallback, 'showNotification: successCallback should be a function');\n                // }\n                // if (cancelCallback) {\n                //     pipAssert.isFunction(cancelCallback, 'showNotification: cancelCallback should be a function');\n                // }\n\n                addToast({\n                    id: id || null,\n                    type: 'notification',\n                    message: message,\n                    actions: actions || ['ok'],\n                    successCallback: successCallback,\n                    cancelCallback: cancelCallback,\n                    duration: SHOW_TIMEOUT_NOTIFICATIONS\n                });\n            }\n\n            // Show new message toast at the top right\n            function showMessage(message, successCallback, cancelCallback, id) {\n                // pipAssert.isDef(message, 'pipToasts.showMessage: message should be defined');\n                // pipAssert.isString(message, 'pipToasts.showMessage: message should be a string');\n                // if (successCallback) {\n                //     pipAssert.isFunction(successCallback, 'pipToasts.showMessage:successCallback should be a function');\n                // }\n                // if (cancelCallback) {\n                //     pipAssert.isFunction(cancelCallback, 'pipToasts.showMessage: cancelCallback should be a function');\n                // }\n\n                addToast({\n                    id: id || null,\n                    type: 'message',\n                    message: message,\n                    actions: ['ok'],\n                    successCallback: successCallback,\n                    cancelCallback: cancelCallback\n                });\n            }\n\n            // Show error toast at the bottom right after error occured\n            function showError(message, successCallback, cancelCallback, id, error) {\n                // pipAssert.isDef(message, 'pipToasts.showError: message should be defined');\n                // pipAssert.isString(message, 'pipToasts.showError: message should be a string');\n                // if (successCallback) {\n                //     pipAssert.isFunction(successCallback, 'pipToasts.showError: successCallback should be a function');\n                // }\n                // if (cancelCallback) {\n                //     pipAssert.isFunction(cancelCallback, 'pipToasts.showError: cancelCallback should be a function');\n                // }\n\n                addToast({\n                    id: id || null,\n                    error: error,\n                    type: 'error',\n                    message: message || 'Unknown error.',\n                    actions: ['ok'],\n                    successCallback: successCallback,\n                    cancelCallback: cancelCallback\n                });\n            }\n\n            // Hide and clear all toast when user signs out\n            function hideAllToasts() {\n                $mdToast.cancel();\n                toasts = [];\n            }\n\n            // Clear toasts by type\n            function clearToasts(type?: any) {\n                if (type) {\n                    // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\n                    removeToasts(type);\n                } else {\n                    $mdToast.cancel();\n                    toasts = [];\n                }\n            }\n        }\n    );\n\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/color_picker.html',\n    '<ul class=\"pip-color-picker {{class}}\" pip-selected=\"currentColorIndex\" pip-enter-space-press=\"enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"selectColor($index)\" aria-label=\"color\" ng-disabled=\"disabled()\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/popover.html',\n    '<div ng-if=\"params.templateUrl\" class=\"pip-popover flex layout-column\" ng-click=\"onPopoverClick($event)\" ng-include=\"params.templateUrl\"></div><div ng-if=\"params.template\" class=\"pip-popover\" ng-click=\"onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/routing_progress.html',\n    '<div class=\"pip-routing-progress layout-column layout-align-center-center\" ng-show=\"showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': toast.type==\\'error\\', \\'pip-column-toast\\': toast.actions.length > 1 || actionLenght > 4, \\'pip-no-action-toast\\': actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"message\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"actions.length > 0 || (toast.type==\\'error\\' && toast.error)\"><div class=\"flex\" ng-if=\"toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"toast.type==\\'error\\' && toast.error && showDetails\" ng-click=\"onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"onAction(action)\" ng-repeat=\"action in actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY29sb3JfcGlja2VyL2NvbG9yX3BpY2tlci50cyIsInNyYy9jb250cm9scy50cyIsInNyYy9kZXBlbmRlbmNpZXMvdHJhbnNsYXRlLnRzIiwic3JjL2ltYWdlX3NsaWRlci9pbWFnZV9zbGlkZXIudHMiLCJzcmMvaW1hZ2Vfc2xpZGVyL2ltYWdlX3NsaWRlcl9zZXJ2aWNlLnRzIiwic3JjL2ltYWdlX3NsaWRlci9zbGlkZXJfYnV0dG9uLnRzIiwic3JjL2ltYWdlX3NsaWRlci9zbGlkZXJfaW5kaWNhdG9yLnRzIiwic3JjL21hcmtkb3duL21hcmtkb3duLnRzIiwic3JjL3BvcG92ZXIvcG9wb3Zlci50cyIsInNyYy9wb3BvdmVyL3BvcG92ZXJfc2VydmljZS50cyIsInNyYy9wcm9ncmVzcy9yb3V0aW5nX3Byb2dyZXNzLnRzIiwic3JjL3RvYXN0L3RvYXN0cy50cyIsInRlbXAvcGlwLXdlYnVpLWNvbnRyb2xzLWh0bWwubWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDRUEsQ0FBQztJQUNHLFlBQVksQ0FBQztJQUViLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsQ0FBRSx1QkFBdUIsQ0FBQyxDQUFDLENBQUM7SUFFOUUsVUFBVSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsRUFDakM7UUFDSSxNQUFNLENBQUM7WUFDSCxRQUFRLEVBQUUsSUFBSTtZQUNkLEtBQUssRUFBRTtnQkFDSCxVQUFVLEVBQUUsR0FBRztnQkFDZixNQUFNLEVBQUUsWUFBWTtnQkFDcEIsWUFBWSxFQUFFLFVBQVU7Z0JBQ3hCLFdBQVcsRUFBRSxXQUFXO2FBQzNCO1lBQ0QsV0FBVyxFQUFFLGdDQUFnQztZQUM3QyxVQUFVLEVBQUUsMEJBQTBCO1NBQ3pDLENBQUM7SUFDTixDQUFDLENBQ0osQ0FBQztJQUNGLFVBQVUsQ0FBQyxVQUFVLENBQUMs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QUMsRUFBRSxDQUFDOzs7QUM3UEw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy90c2QuZC50c1wiIC8+XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIHRoaXNNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwQ29sb3JQaWNrZXInLCBbICdwaXBDb250cm9scy5UZW1wbGF0ZXMnXSk7IC8vICdwaXBGb2N1c2VkJyxcblxuICAgIHRoaXNNb2R1bGUuZGlyZWN0aXZlKCdwaXBDb2xvclBpY2tlcicsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgICAgICAgbmdEaXNhYmxlZDogJyYnLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcnM6ICc9cGlwQ29sb3JzJyxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbG9yOiAnPW5nTW9kZWwnLFxuICAgICAgICAgICAgICAgICAgICBjb2xvckNoYW5nZTogJyZuZ0NoYW5nZSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29sb3JfcGlja2VyL2NvbG9yX3BpY2tlci5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGlwQ29sb3JQaWNrZXJDb250cm9sbGVyJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICk7XG4gICAgdGhpc01vZHVsZS5jb250cm9sbGVyKCdwaXBDb2xvclBpY2tlckNvbnRyb2xsZXInLFxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkdGltZW91dCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgREVGQVVMVF9DT0xPUlMgPSBbJ3B1cnBsZScsICdsaWdodGdyZWVuJywgJ2dyZWVuJywgJ2RhcmtyZWQnLCAncGluaycsICd5ZWxsb3cnLCAnY3lhbiddO1xuXG4gICAgICAgICAgICAkc2NvcGUuY2xhc3MgPSAkYXR0cnMuY2xhc3MgfHwgJyc7XG5cbiAgICAgICAgICAgIGlmICghJHNjb3BlLmNvbG9ycyB8fCBfLmlzQXJyYXkoJHNjb3BlLmNvbG9ycykgJiYgJHNjb3BlLmNvbG9ycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY29sb3JzID0gREVGQVVMVF9DT0xPUlM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRzY29wZS5jdXJyZW50Q29sb3IgPSAkc2NvcGUuY3VycmVudENvbG9yIHx8ICRzY29wZS5jb2xvcnNbMF07XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudENvbG9ySW5kZXggPSAkc2NvcGUuY29sb3JzLmluZGV4T2YoJHNjb3BlLmN1cnJlbnRDb2xvcik7XG5cbiAgICAgICAgICAgICRzY29wZS5kaXNhYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm5nRGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5uZ0Rpc2FibGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0Q29sb3IgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRpc2FibGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUuY3VycmVudENvbG9ySW5kZXggPSBpbmRleDtcblxuICAgICAgICAgICAgICAgICRzY29wZS5jdXJyZW50Q29sb3IgPSAkc2NvcGUuY29sb3JzWyRzY29wZS5jdXJyZW50Q29sb3JJbmRleF07XG5cbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY29sb3JDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbG9yQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmVudGVyU3BhY2VQcmVzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RDb2xvcihldmVudC5pbmRleCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgKTtcblxufSkoKTtcbiIsIu+7vy8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgncGlwQ29udHJvbHMnLCBbXG4gICAgICAgICdwaXBNYXJrZG93bicsXG4gICAgICAgICdwaXBDb2xvclBpY2tlcicsXG4gICAgICAgICdwaXBSb3V0aW5nUHJvZ3Jlc3MnLFxuICAgICAgICAncGlwUG9wb3ZlcicsXG4gICAgICAgICdwaXBJbWFnZVNsaWRlcicsXG4gICAgICAgICdwaXBUb2FzdHMnLFxuICAgICAgICAncGlwQ29udHJvbHMuVHJhbnNsYXRlJ1xuICAgIF0pO1xuXG59KSgpO1xuXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy90c2QuZC50c1wiIC8+XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIHRoaXNNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwQ29udHJvbHMuVHJhbnNsYXRlJywgW10pO1xuXG4gICAgdGhpc01vZHVsZS5maWx0ZXIoJ3RyYW5zbGF0ZScsIGZ1bmN0aW9uICgkaW5qZWN0b3IpIHtcbiAgICAgICAgdmFyIHBpcFRyYW5zbGF0ZSA9ICRpbmplY3Rvci5oYXMoJ3BpcFRyYW5zbGF0ZScpIFxuICAgICAgICAgICAgPyAkaW5qZWN0b3IuZ2V0KCdwaXBUcmFuc2xhdGUnKSA6IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBwaXBUcmFuc2xhdGUgID8gcGlwVHJhbnNsYXRlLnRyYW5zbGF0ZShrZXkpIHx8IGtleSA6IGtleTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG59KSgpO1xuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvdHNkLmQudHNcIiAvPlxuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciB0aGlzTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcEltYWdlU2xpZGVyJywgWydwaXBTbGlkZXJCdXR0b24nLCAncGlwU2xpZGVySW5kaWNhdG9yJywgJ3BpcEltYWdlU2xpZGVyLlNlcnZpY2UnXSk7XG5cbiAgICB0aGlzTW9kdWxlLmRpcmVjdGl2ZSgncGlwSW1hZ2VTbGlkZXInLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlckluZGV4OiAnPXBpcEltYWdlSW5kZXgnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbiAoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkcGFyc2UsICR0aW1lb3V0LCAkaW50ZXJ2YWwsICRwaXBJbWFnZVNsaWRlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmxvY2tzLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwLCBuZXdJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAkcGFyc2UoJGF0dHJzLnBpcEFuaW1hdGlvblR5cGUpKCRzY29wZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBERUZBVUxUX0lOVEVSVkFMID0gNDUwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVydmFsID0gJHBhcnNlKCRhdHRycy5waXBBbmltYXRpb25JbnRlcnZhbCkoJHNjb3BlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVQcm9taXNlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm90dGxlZDtcblxuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5hZGRDbGFzcygncGlwLWltYWdlLXNsaWRlcicpO1xuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5hZGRDbGFzcygncGlwLWFuaW1hdGlvbi0nICsgdHlwZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN3aXBlU3RhcnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgaWYgKCRzd2lwZSlcbiAgICAgICAgICAgICAgICAgICAgICRzd2lwZS5iaW5kKCRlbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAnc3RhcnQnOiBmdW5jdGlvbihjb29yZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgIGlmIChjb29yZHMpICRzY29wZS5zd2lwZVN0YXJ0ID0gY29vcmRzLng7XG4gICAgICAgICAgICAgICAgICAgICBlbHNlICRzY29wZS5zd2lwZVN0YXJ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAnZW5kJzogZnVuY3Rpb24oY29vcmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGE7XG4gICAgICAgICAgICAgICAgICAgICBpZiAoY29vcmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICBkZWx0YSA9ICRzY29wZS5zd2lwZVN0YXJ0IC0gY29vcmRzLng7XG4gICAgICAgICAgICAgICAgICAgICBpZiAoZGVsdGEgPiAxNTApICAkc2NvcGUubmV4dEJsb2NrKCk7XG4gICAgICAgICAgICAgICAgICAgICBpZiAoZGVsdGEgPCAtMTUwKSAgJHNjb3BlLnByZXZCbG9jaygpO1xuICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN3aXBlU3RhcnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgfSBlbHNlICRzY29wZS5zd2lwZVN0YXJ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgc2V0SW5kZXgoKTtcblxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibG9ja3MgPSAkZWxlbWVudC5maW5kKCcucGlwLWFuaW1hdGlvbi1ibG9jaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2Nrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChibG9ja3NbMF0pLmFkZENsYXNzKCdwaXAtc2hvdycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBzdGFydEludGVydmFsKCk7XG4gICAgICAgICAgICAgICAgICAgIHRocm90dGxlZCA9IF8udGhyb3R0bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHBpcEltYWdlU2xpZGVyLnRvQmxvY2sodHlwZSwgYmxvY2tzLCBpbmRleCwgbmV3SW5kZXgsIGRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IG5ld0luZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW5kZXgoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNzAwKTtcblxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV4dEJsb2NrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdGFydEludGVydmFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRleCA9IGluZGV4ICsgMSA9PT0gYmxvY2tzLmxlbmd0aCA/IDAgOiBpbmRleCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnbmV4dCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdHRsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJldkJsb2NrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdGFydEludGVydmFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRleCA9IGluZGV4IC0gMSA8IDAgPyBibG9ja3MubGVuZ3RoIC0gMSA6IGluZGV4IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdwcmV2JztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm90dGxlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zbGlkZVRvID0gZnVuY3Rpb24gKG5leHRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRJbmRleCA9PT0gaW5kZXggfHwgbmV4dEluZGV4ID4gYmxvY2tzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RhcnRJbnRlcnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXggPSBuZXh0SW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBuZXh0SW5kZXggPiBpbmRleCA/ICduZXh0JyA6ICdwcmV2JztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm90dGxlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRhdHRycy5pZCkgJHBpcEltYWdlU2xpZGVyLnJlZ2lzdGVyU2xpZGVyKCRhdHRycy5pZCwgJHNjb3BlKTtcblxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRJbmRleCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkYXR0cnMucGlwSW1hZ2VJbmRleCkgJHNjb3BlLnNsaWRlckluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdGFydEludGVydmFsKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZVByb21pc2VzID0gJGludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRleCA9IGluZGV4ICsgMSA9PT0gYmxvY2tzLmxlbmd0aCA/IDAgOiBpbmRleCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ25leHQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm90dGxlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgaW50ZXJ2YWwgfHwgREVGQVVMVF9JTlRFUlZBTCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdG9wSW50ZXJ2YWwoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKHRpbWVQcm9taXNlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wSW50ZXJ2YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRwaXBJbWFnZVNsaWRlci5yZW1vdmVTbGlkZXIoJGF0dHJzLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVzdGFydEludGVydmFsKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcEludGVydmFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydEludGVydmFsKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgKTtcblxufSkoKTtcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgdGhpc01vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBJbWFnZVNsaWRlci5TZXJ2aWNlJywgW10pO1xuXG4gICAgdGhpc01vZHVsZS5zZXJ2aWNlKCckcGlwSW1hZ2VTbGlkZXInLFxuICAgICAgICBmdW5jdGlvbiAoJHRpbWVvdXQpIHtcblxuICAgICAgICAgICAgdmFyIEFOSU1BVElPTl9EVVJBVElPTiA9IDU1MCxcbiAgICAgICAgICAgICAgICBzbGlkZXJzID0ge307XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmV4dENhcm91c2VsOiBuZXh0Q2Fyb3VzZWwsXG4gICAgICAgICAgICAgICAgcHJldkNhcm91c2VsOiBwcmV2Q2Fyb3VzZWwsXG4gICAgICAgICAgICAgICAgdG9CbG9jazogdG9CbG9jayxcbiAgICAgICAgICAgICAgICByZWdpc3RlclNsaWRlcjogcmVnaXN0ZXIsXG4gICAgICAgICAgICAgICAgcmVtb3ZlU2xpZGVyOiByZW1vdmUsXG4gICAgICAgICAgICAgICAgZ2V0U2xpZGVyU2NvcGU6IGdldFNsaWRlclxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXIoc2xpZGVySWQsIHNsaWRlclNjb3BlKSB7XG4gICAgICAgICAgICAgICAgc2xpZGVyc1tzbGlkZXJJZF0gPSBzbGlkZXJTY29wZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlKHNsaWRlcklkKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHNsaWRlcnNbc2xpZGVySWRdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRTbGlkZXIoc2xpZGVySWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2xpZGVyc1tzbGlkZXJJZF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIG5leHRDYXJvdXNlbChuZXh0QmxvY2ssIHByZXZCbG9jaykge1xuICAgICAgICAgICAgICAgIG5leHRCbG9jay5hZGRDbGFzcygncGlwLW5leHQnKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHRCbG9jay5hZGRDbGFzcygnYW5pbWF0ZWQnKS5hZGRDbGFzcygncGlwLXNob3cnKS5yZW1vdmVDbGFzcygncGlwLW5leHQnKTtcbiAgICAgICAgICAgICAgICAgICAgcHJldkJsb2NrLmFkZENsYXNzKCdhbmltYXRlZCcpLnJlbW92ZUNsYXNzKCdwaXAtc2hvdycpO1xuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXZDYXJvdXNlbChuZXh0QmxvY2ssIHByZXZCbG9jaykge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dEJsb2NrLmFkZENsYXNzKCdhbmltYXRlZCcpLmFkZENsYXNzKCdwaXAtc2hvdycpO1xuICAgICAgICAgICAgICAgICAgICBwcmV2QmxvY2suYWRkQ2xhc3MoJ2FuaW1hdGVkJykuYWRkQ2xhc3MoJ3BpcC1uZXh0JykucmVtb3ZlQ2xhc3MoJ3BpcC1zaG93Jyk7XG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gdG9CbG9jayh0eXBlLCBibG9ja3MsIG9sZEluZGV4LCBuZXh0SW5kZXgsIGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2QmxvY2sgPSAkKGJsb2Nrc1tvbGRJbmRleF0pLFxuICAgICAgICAgICAgICAgICAgICBibG9ja0luZGV4ID0gbmV4dEluZGV4LFxuICAgICAgICAgICAgICAgICAgICBuZXh0QmxvY2sgPSAkKGJsb2Nrc1tibG9ja0luZGV4XSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2Nhcm91c2VsJykge1xuICAgICAgICAgICAgICAgICAgICAkKGJsb2NrcykucmVtb3ZlQ2xhc3MoJ3BpcC1uZXh0JykucmVtb3ZlQ2xhc3MoJ3BpcC1wcmV2JykucmVtb3ZlQ2xhc3MoJ2FuaW1hdGVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiAmJiAoZGlyZWN0aW9uID09PSAncHJldicgfHwgZGlyZWN0aW9uID09PSAnbmV4dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAncHJldicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2Q2Fyb3VzZWwobmV4dEJsb2NrLCBwcmV2QmxvY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Q2Fyb3VzZWwobmV4dEJsb2NrLCBwcmV2QmxvY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRJbmRleCAmJiBuZXh0SW5kZXggPCBvbGRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZDYXJvdXNlbChuZXh0QmxvY2ssIHByZXZCbG9jayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRDYXJvdXNlbChuZXh0QmxvY2ssIHByZXZCbG9jayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwcmV2QmxvY2suYWRkQ2xhc3MoJ2FuaW1hdGVkJykucmVtb3ZlQ2xhc3MoJ3BpcC1zaG93Jyk7XG4gICAgICAgICAgICAgICAgICAgIG5leHRCbG9jay5hZGRDbGFzcygnYW5pbWF0ZWQnKS5hZGRDbGFzcygncGlwLXNob3cnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xuXG59KSgpO1xuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvdHNkLmQudHNcIiAvPlxuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciB0aGlzTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcFNsaWRlckJ1dHRvbicsIFtdKTtcblxuICAgIHRoaXNNb2R1bGUuZGlyZWN0aXZlKCdwaXBTbGlkZXJCdXR0b24nLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNjb3BlOiB7fSxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbiAoJHNjb3BlLCAkZWxlbWVudCwgJHBhcnNlLCAkYXR0cnMsICRwaXBJbWFnZVNsaWRlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9ICRwYXJzZSgkYXR0cnMucGlwQnV0dG9uVHlwZSkoJHNjb3BlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlcklkID0gJHBhcnNlKCRhdHRycy5waXBTbGlkZXJJZCkoJHNjb3BlKTtcblxuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNsaWRlcklkIHx8ICF0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGlwSW1hZ2VTbGlkZXIuZ2V0U2xpZGVyU2NvcGUoc2xpZGVySWQpW3R5cGUgKyAnQmxvY2snXSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgKTtcblxufSkoKTtcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgdGhpc01vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBTbGlkZXJJbmRpY2F0b3InLCBbXSk7XG5cbiAgICB0aGlzTW9kdWxlLmRpcmVjdGl2ZSgncGlwU2xpZGVySW5kaWNhdG9yJyxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzY29wZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24gKCRzY29wZSwgJGVsZW1lbnQsICRwYXJzZSwgJGF0dHJzLCAkcGlwSW1hZ2VTbGlkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNsaWRlcklkID0gJHBhcnNlKCRhdHRycy5waXBTbGlkZXJJZCkoJHNjb3BlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlVG8gPSAkcGFyc2UoJGF0dHJzLnBpcFNsaWRlVG8pKCRzY29wZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuY3NzKCdjdXJzb3InLCAncG9pbnRlcicpO1xuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNsaWRlcklkIHx8IHNsaWRlVG8gJiYgc2xpZGVUbyA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRwaXBJbWFnZVNsaWRlci5nZXRTbGlkZXJTY29wZShzbGlkZXJJZCkuc2xpZGVUbyhzbGlkZVRvKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICk7XG5cbn0pKCk7XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy90c2QuZC50c1wiIC8+XG5cbmRlY2xhcmUgdmFyIG1hcmtlZDogYW55O1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciB0aGlzTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcE1hcmtkb3duJywgWyduZ1Nhbml0aXplJ10pO1xuXG4gICAgdGhpc01vZHVsZS5ydW4oZnVuY3Rpb24gKCRpbmplY3Rvcikge1xuICAgICAgICB2YXIgcGlwVHJhbnNsYXRlID0gJGluamVjdG9yLmhhcygncGlwVHJhbnNsYXRlJykgPyAkaW5qZWN0b3IuZ2V0KCdwaXBUcmFuc2xhdGUnKSA6IG51bGw7XG5cbiAgICAgICAgaWYgKHBpcFRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgcGlwVHJhbnNsYXRlLnNldFRyYW5zbGF0aW9ucygnZW4nLCB7XG4gICAgICAgICAgICAgICAgJ01BUktET1dOX0FUVEFDSE1FTlRTJzogJ0F0dGFjaG1lbnRzOicsXG4gICAgICAgICAgICAgICAgJ2NoZWNrbGlzdCc6ICdDaGVja2xpc3QnLFxuICAgICAgICAgICAgICAgICdkb2N1bWVudHMnOiAnRG9jdW1lbnRzJyxcbiAgICAgICAgICAgICAgICAncGljdHVyZXMnOiAnUGljdHVyZXMnLFxuICAgICAgICAgICAgICAgICdsb2NhdGlvbic6ICdMb2NhdGlvbicsXG4gICAgICAgICAgICAgICAgJ3RpbWUnOiAnVGltZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGlwVHJhbnNsYXRlLnNldFRyYW5zbGF0aW9ucygncnUnLCB7XG4gICAgICAgICAgICAgICAgJ01BUktET1dOX0FUVEFDSE1FTlRTJzogJ9CS0LvQvtC20LXQvdC40Y86JyxcbiAgICAgICAgICAgICAgICAnY2hlY2tsaXN0JzogJ9Ch0L/QuNGB0L7QuicsXG4gICAgICAgICAgICAgICAgJ2RvY3VtZW50cyc6ICfQlNC+0LrRg9C80LXQvdGC0YsnLFxuICAgICAgICAgICAgICAgICdwaWN0dXJlcyc6ICfQmNC30L7QsdGA0LDQttC10L3QuNGPJyxcbiAgICAgICAgICAgICAgICAnbG9jYXRpb24nOiAn0JzQtdGB0YLQvtC90LDRhdC+0LbQtNC10L3QuNC1JyxcbiAgICAgICAgICAgICAgICAndGltZSc6ICfQktGA0LXQvNGPJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXNNb2R1bGUuZGlyZWN0aXZlKCdwaXBNYXJrZG93bicsXG4gICAgICAgIGZ1bmN0aW9uICgkcGFyc2UsICRpbmplY3Rvcikge1xuICAgICAgICAgICAgdmFyIHBpcFRyYW5zbGF0ZSA9ICRpbmplY3Rvci5oYXMoJ3BpcFRyYW5zbGF0ZScpID8gJGluamVjdG9yLmdldCgncGlwVHJhbnNsYXRlJykgOiBudWxsO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgICAgIHNjb3BlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoJHNjb3BlOiBhbnksICRlbGVtZW50LCAkYXR0cnM6IGFueSkge1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRHZXR0ZXIgPSAkcGFyc2UoJGF0dHJzLnBpcFRleHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEdldHRlciA9ICRwYXJzZSgkYXR0cnMucGlwTGlzdCksXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFtcEdldHRlciA9ICRwYXJzZSgkYXR0cnMucGlwTGluZUNvdW50KTtcblxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBkZXNjcmliZUF0dGFjaG1lbnRzKGFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0YWNoU3RyaW5nID0gJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoVHlwZXMgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgXy5lYWNoKGFycmF5LCBmdW5jdGlvbiAoYXR0YWNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dGFjaC50eXBlICYmIGF0dGFjaC50eXBlICE9PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dGFjaFN0cmluZy5sZW5ndGggPT09IDAgJiYgcGlwVHJhbnNsYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hTdHJpbmcgPSBwaXBUcmFuc2xhdGUudHJhbnNsYXRlKCdNQVJLRE9XTl9BVFRBQ0hNRU5UUycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dGFjaFR5cGVzLmluZGV4T2YoYXR0YWNoLnR5cGUpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoVHlwZXMucHVzaChhdHRhY2gudHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hTdHJpbmcgKz0gYXR0YWNoVHlwZXMubGVuZ3RoID4gMSA/ICcsICcgOiAnICc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGlwVHJhbnNsYXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaFN0cmluZyArPSBwaXBUcmFuc2xhdGUudHJhbnNsYXRlKGF0dGFjaC50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0YWNoU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdG9Cb29sZWFuKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gJzEnIHx8IHZhbHVlID09ICd0cnVlJztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGJpbmRUZXh0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dFN0cmluZywgaXNDbGFtcGVkLCBoZWlnaHQsIG9wdGlvbnMsIG9iajtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF8uaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmogPSBfLmZpbmQodmFsdWUsIGZ1bmN0aW9uIChpdGVtOiBhbnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udHlwZSA9PT0gJ3RleHQnICYmIGl0ZW0udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTdHJpbmcgPSBvYmogPyBvYmoudGV4dCA6IGRlc2NyaWJlQXR0YWNobWVudHModmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U3RyaW5nID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQ2xhbXBlZCA9ICRhdHRycy5waXBMaW5lQ291bnQgJiYgXy5pc051bWJlcihjbGFtcEdldHRlcigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQ2xhbXBlZCA9IGlzQ2xhbXBlZCAmJiB0ZXh0U3RyaW5nICYmIHRleHRTdHJpbmcubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2ZtOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FuaXRpemU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVkYW50aWM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hcnRMaXN0czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFydHlwZW50czogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U3RyaW5nID0gbWFya2VkKHRleHRTdHJpbmcgfHwgJycsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ2xhbXBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IDEuNSAqIGNsYW1wR2V0dGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBc3NpZ24gdmFsdWUgYXMgSFRNTFxuICAgICAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuaHRtbCgnPGRpdicgKyAoaXNDbGFtcGVkID8gbGlzdEdldHRlcigpID8gJ2NsYXNzPVwicGlwLW1hcmtkb3duLWNvbnRlbnQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BpcC1tYXJrZG93bi1saXN0XCIgc3R5bGU9XCJtYXgtaGVpZ2h0OiAnICsgaGVpZ2h0ICsgJ2VtXCI+J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcgY2xhc3M9XCJwaXAtbWFya2Rvd24tY29udGVudFwiIHN0eWxlPVwibWF4LWhlaWdodDogJyArIGhlaWdodCArICdlbVwiPicgOiBsaXN0R2V0dGVyKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnIGNsYXNzPVwicGlwLW1hcmtkb3duLWxpc3RcIj4nIDogJz4nKSArIHRleHRTdHJpbmcgKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5maW5kKCdhJykuYXR0cigndGFyZ2V0JywgJ2JsYW5rJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxpc3RHZXR0ZXIoKSAmJiBpc0NsYW1wZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5hcHBlbmQoJzxkaXYgY2xhc3M9XCJwaXAtZ3JhZGllbnQtYmxvY2tcIj48L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbGwgdGhlIHRleHRcbiAgICAgICAgICAgICAgICAgICAgYmluZFRleHQodGV4dEdldHRlcigkc2NvcGUpKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBBbHNvIG9wdGltaXphdGlvbiB0byBhdm9pZCB3YXRjaCBpZiBpdCBpcyB1bm5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgICAgICBpZiAodG9Cb29sZWFuKCRhdHRycy5waXBSZWJpbmQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKHRleHRHZXR0ZXIsIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRUZXh0KG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRvbigncGlwV2luZG93UmVzaXplZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRUZXh0KHRleHRHZXR0ZXIoJHNjb3BlKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBjbGFzc1xuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5hZGRDbGFzcygncGlwLW1hcmtkb3duJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICk7XG5cbn0pKCk7XG5cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgdGhpc01vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBQb3BvdmVyJywgWydwaXBQb3BvdmVyLlNlcnZpY2UnXSk7XG5cbiAgICB0aGlzTW9kdWxlLmRpcmVjdGl2ZSgncGlwUG9wb3ZlcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgc2NvcGU6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BvcG92ZXIvcG9wb3Zlci5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRlbGVtZW50LCAkdGltZW91dCwgJGNvbXBpbGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmFja2Ryb3BFbGVtZW50LCBjb250ZW50O1xuXG4gICAgICAgICAgICAgICAgYmFja2Ryb3BFbGVtZW50ID0gJCgnLnBpcC1wb3BvdmVyLWJhY2tkcm9wJyk7XG4gICAgICAgICAgICAgICAgYmFja2Ryb3BFbGVtZW50Lm9uKCdjbGljayBrZXlkb3duIHNjcm9sbCcsIGJhY2tkcm9wQ2xpY2spO1xuICAgICAgICAgICAgICAgIGJhY2tkcm9wRWxlbWVudC5hZGRDbGFzcygkc2NvcGUucGFyYW1zLnJlc3BvbnNpdmUgIT09IGZhbHNlID8gJ3BpcC1yZXNwb25zaXZlJyA6ICcnKTtcblxuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5wYXJhbXMudGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAkY29tcGlsZSgkc2NvcGUucGFyYW1zLnRlbXBsYXRlKSgkc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuZmluZCgnLnBpcC1wb3BvdmVyJykuYXBwZW5kKGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaW5pdCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxjSGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgfSwgMjAwKTtcblxuICAgICAgICAgICAgICAgICRzY29wZS5vblBvcG92ZXJDbGljayA9IG9uUG9wb3ZlckNsaWNrO1xuICAgICAgICAgICAgICAgICRzY29wZSA9IF8uZGVmYXVsdHMoJHNjb3BlLCAkc2NvcGUuJHBhcmVudCk7ICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgXG5cbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRvbigncGlwUG9wb3ZlclJlc2l6ZScsIG9uUmVzaXplKTtcbiAgICAgICAgICAgICAgICAkKHdpbmRvdykucmVzaXplKG9uUmVzaXplKTtcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wRWxlbWVudC5hZGRDbGFzcygnb3BlbmVkJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5waXAtcG9wb3Zlci1iYWNrZHJvcCcpLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucGFyYW1zLnRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZVBvcG92ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sICRzY29wZS5wYXJhbXMudGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBiYWNrZHJvcENsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnBhcmFtcy5jYW5jZWxDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhcmFtcy5jYW5jZWxDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2xvc2VQb3BvdmVyKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY2xvc2VQb3BvdmVyKCkge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcEVsZW1lbnQucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gb25Qb3BvdmVyQ2xpY2soJGUpIHtcbiAgICAgICAgICAgICAgICAgICAgJGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcG9zaXRpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucGFyYW1zLmVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gJCgkc2NvcGUucGFyYW1zLmVsZW1lbnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IGVsZW1lbnQub2Zmc2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBlbGVtZW50LndpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gZWxlbWVudC5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NXaWR0aCA9ICQoZG9jdW1lbnQpLndpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jSGVpZ2h0ID0gJChkb2N1bWVudCkuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wb3ZlciA9IGJhY2tkcm9wRWxlbWVudC5maW5kKCcucGlwLXBvcG92ZXInKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcG92ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNzcygnbWF4LXdpZHRoJywgZG9jV2lkdGggLSAoZG9jV2lkdGggLSBwb3MubGVmdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jc3MoJ21heC1oZWlnaHQnLCBkb2NIZWlnaHQgLSAocG9zLnRvcCArIGhlaWdodCkgLSAzMiwgMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNzcygnbGVmdCcsIHBvcy5sZWZ0IC0gcG9wb3Zlci53aWR0aCgpICsgd2lkdGggLyAyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY3NzKCd0b3AnLCBwb3MudG9wICsgaGVpZ2h0ICsgMTYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY2FsY0hlaWdodCgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5wYXJhbXMuY2FsY0hlaWdodCA9PT0gZmFsc2UpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvcG92ZXIgPSBiYWNrZHJvcEVsZW1lbnQuZmluZCgnLnBpcC1wb3BvdmVyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IHBvcG92ZXIuZmluZCgnLnBpcC10aXRsZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyID0gcG9wb3Zlci5maW5kKCcucGlwLWZvb3RlcicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IHBvcG92ZXIuZmluZCgnLnBpcC1jb250ZW50JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50SGVpZ2h0ID0gcG9wb3Zlci5oZWlnaHQoKSAtIHRpdGxlLm91dGVySGVpZ2h0KHRydWUpIC0gZm9vdGVyLm91dGVySGVpZ2h0KHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuY3NzKCdtYXgtaGVpZ2h0JywgTWF0aC5tYXgoY29udGVudEhlaWdodCwgMCkgKyAncHgnKS5jc3MoJ2JveC1zaXppbmcnLCAnYm9yZGVyLWJveCcpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcEVsZW1lbnQuZmluZCgnLnBpcC1wb3BvdmVyJykuZmluZCgnLnBpcC1jb250ZW50JykuY3NzKCdtYXgtaGVpZ2h0JywgJzEwMCUnKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsY0hlaWdodCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcblxufSkoKTtcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgdGhpc01vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBQb3BvdmVyLlNlcnZpY2UnLCBbXSk7XG5cbiAgICB0aGlzTW9kdWxlLnNlcnZpY2UoJ3BpcFBvcG92ZXJTZXJ2aWNlJyxcbiAgICAgICAgZnVuY3Rpb24gKCRjb21waWxlLCAkcm9vdFNjb3BlLCAkdGltZW91dCkge1xuICAgICAgICAgICAgdmFyIHBvcG92ZXJUZW1wbGF0ZTtcblxuICAgICAgICAgICAgcG9wb3ZlclRlbXBsYXRlID0gXCI8ZGl2IGNsYXNzPSdwaXAtcG9wb3Zlci1iYWNrZHJvcCB7eyBwYXJhbXMuY2xhc3MgfX0nIG5nLWNvbnRyb2xsZXI9J3BhcmFtcy5jb250cm9sbGVyJ1wiICtcbiAgICAgICAgICAgICAgICBcIiB0YWJpbmRleD0nMSc+IDxwaXAtcG9wb3ZlciBwaXAtcGFyYW1zPSdwYXJhbXMnPiA8L3BpcC1wb3BvdmVyPiA8L2Rpdj5cIjtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzaG93OiBvblNob3csXG4gICAgICAgICAgICAgICAgaGlkZTogb25IaWRlLFxuICAgICAgICAgICAgICAgIHJlc2l6ZTogb25SZXNpemVcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uU2hvdyhwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQsIHNjb3BlLCBwYXJhbXMsIGNvbnRlbnQ7XG5cbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gJCgnYm9keScpO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmZpbmQoJ21kLWJhY2tkcm9wJykubGVuZ3RoID4gMCkgeyByZXR1cm47IH1cbiAgICAgICAgICAgICAgICBvbkhpZGUoKTtcbiAgICAgICAgICAgICAgICBzY29wZSA9ICRyb290U2NvcGUuJG5ldygpO1xuICAgICAgICAgICAgICAgIHBhcmFtcyA9IHAgJiYgXy5pc09iamVjdChwKSA/IHAgOiB7fTtcbiAgICAgICAgICAgICAgICBzY29wZS5wYXJhbXMgPSBwYXJhbXM7XG4gICAgICAgICAgICAgICAgc2NvcGUubG9jYWxzID0gcGFyYW1zLmxvY2FscztcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gJGNvbXBpbGUocG9wb3ZlclRlbXBsYXRlKShzY29wZSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQoY29udGVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uSGlkZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmFja2Ryb3BFbGVtZW50ID0gJCgnLnBpcC1wb3BvdmVyLWJhY2tkcm9wJyk7XG5cbiAgICAgICAgICAgICAgICBiYWNrZHJvcEVsZW1lbnQucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3BFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgncGlwUG9wb3ZlclJlc2l6ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICApO1xuXG59KSgpO1xuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvdHNkLmQudHNcIiAvPlxuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciB0aGlzTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcFJvdXRpbmdQcm9ncmVzcycsIFsnbmdNYXRlcmlhbCddKTtcblxuICAgIHRoaXNNb2R1bGUuZGlyZWN0aXZlKCdwaXBSb3V0aW5nUHJvZ3Jlc3MnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgICAgICBzaG93UHJvZ3Jlc3M6ICcmJyxcbiAgICAgICAgICAgICAgICAgICAgbG9nb1VybDogJ0AnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncHJvZ3Jlc3Mvcm91dGluZ19wcm9ncmVzcy5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwaXBSb3V0aW5nUHJvZ3Jlc3NDb250cm9sbGVyJ1xuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgdGhpc01vZHVsZS5jb250cm9sbGVyKCdwaXBSb3V0aW5nUHJvZ3Jlc3NDb250cm9sbGVyJyxcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycykge1xuICAgICAgICAgICAgdmFyICBpbWFnZSA9ICRlbGVtZW50LmNoaWxkcmVuKCdpbWcnKTsgICAgICAgICAgXG5cbiAgICAgICAgICAgIGxvYWRQcm9ncmVzc0ltYWdlKCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgZnVuY3Rpb24gbG9hZFByb2dyZXNzSW1hZ2UoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5sb2dvVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlLmF0dHIoJ3NyYycsICRzY29wZS5sb2dvVXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICk7XG5cbn0pKCk7XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy90c2QuZC50c1wiIC8+XG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciB0aGlzTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcFRvYXN0cycsIFsnbmdNYXRlcmlhbCcsICdwaXBDb250cm9scy5UcmFuc2xhdGUnXSk7XG5cbiAgICB0aGlzTW9kdWxlLmNvbnRyb2xsZXIoJ3BpcFRvYXN0Q29udHJvbGxlcicsXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRtZFRvYXN0LCB0b2FzdCwgJGluamVjdG9yKSB7XG4gICAgICAgICAgICB2YXIgcGlwRXJyb3JEZXRhaWxzRGlhbG9nID0gJGluamVjdG9yLmhhcygncGlwRXJyb3JEZXRhaWxzRGlhbG9nJykgXG4gICAgICAgICAgICAgICAgPyAkaW5qZWN0b3IuZ2V0KCdwaXBFcnJvckRldGFpbHNEaWFsb2cnKSA6IG51bGw7XG5cbiAgICAgICAgICAgIC8vIGlmICh0b2FzdC50eXBlICYmIHNvdW5kc1sndG9hc3RfJyArIHRvYXN0LnR5cGVdKSB7XG4gICAgICAgICAgICAvLyAgICAgc291bmRzWyd0b2FzdF8nICsgdG9hc3QudHlwZV0ucGxheSgpO1xuICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAkc2NvcGUubWVzc2FnZSA9IHRvYXN0Lm1lc3NhZ2U7XG4gICAgICAgICAgICAkc2NvcGUuYWN0aW9ucyA9IHRvYXN0LmFjdGlvbnM7XG4gICAgICAgICAgICAkc2NvcGUudG9hc3QgPSB0b2FzdDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHRvYXN0LmFjdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbkxlbmdodCA9IDA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRvYXN0LmFjdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFjdGlvbkxlbmdodCA9IHRvYXN0LmFjdGlvbnNbMF0udG9TdHJpbmcoKS5sZW5ndGg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRzY29wZS5hY3Rpb25MZW5naHQgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0RldGFpbHMgPSBwaXBFcnJvckRldGFpbHNEaWFsb2cgIT0gbnVsbDtcbiAgICAgICAgICAgICRzY29wZS5vbkRldGFpbHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJG1kVG9hc3QuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBpcEVycm9yRGV0YWlsc0RpYWxvZykge1xuICAgICAgICAgICAgICAgICAgICBwaXBFcnJvckRldGFpbHNEaWFsb2cuc2hvdyhcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogJHNjb3BlLnRvYXN0LmVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rOiAnT2snXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5ub29wLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5ub29wXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLm9uQWN0aW9uID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICRtZFRvYXN0LmhpZGUoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHRvYXN0LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogdG9hc3QubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgdGhpc01vZHVsZS5zZXJ2aWNlKCdwaXBUb2FzdHMnLFxuICAgICAgICBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJG1kVG9hc3QpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgIFNIT1dfVElNRU9VVCA9IDIwMDAwLFxuICAgICAgICAgICAgICAgIFNIT1dfVElNRU9VVF9OT1RJRklDQVRJT05TID0gMjAwMDAsXG4gICAgICAgICAgICAgICAgdG9hc3RzID0gW10sXG4gICAgICAgICAgICAgICAgY3VycmVudFRvYXN0LFxuICAgICAgICAgICAgICAgIHNvdW5kcyA9IHt9O1xuXG4gICAgICAgICAgICAvKiogcHJlLWxvYWQgc291bmRzIGZvciBub3RpZmljYXRpb25zICovXG4gICAgICAgICAgICAgICAgLy8gc291bmRzWyd0b2FzdF9lcnJvciddID0gbmdBdWRpby5sb2FkKCdzb3VuZHMvZmF0YWwubXAzJyk7XG4gICAgICAgICAgICAgICAgLy8gc291bmRzWyd0b2FzdF9ub3RpZmljYXRpb24nXSA9IG5nQXVkaW8ubG9hZCgnc291bmRzL2Vycm9yLm1wMycpO1xuICAgICAgICAgICAgICAgIC8vIHNvdW5kc1sndG9hc3RfbWVzc2FnZSddID0gbmdBdWRpby5sb2FkKCdzb3VuZHMvd2FybmluZy5tcDMnKTtcblxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBlcnJvciB0b2FzdHMgd2hlbiBwYWdlIGlzIGNoYW5nZWRcbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgb25TdGF0ZUNoYW5nZVN1Y2Nlc3MpO1xuICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJ3BpcFNlc3Npb25DbG9zZWQnLCBvbkNsZWFyVG9hc3RzKTtcbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCdwaXBJZGVudGl0eUNoYW5nZWQnLCBvbkNsZWFyVG9hc3RzKTtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uOiBzaG93Tm90aWZpY2F0aW9uLFxuICAgICAgICAgICAgICAgIHNob3dNZXNzYWdlOiBzaG93TWVzc2FnZSxcbiAgICAgICAgICAgICAgICBzaG93RXJyb3I6IHNob3dFcnJvcixcbiAgICAgICAgICAgICAgICBoaWRlQWxsVG9hc3RzOiBoaWRlQWxsVG9hc3RzLFxuICAgICAgICAgICAgICAgIGNsZWFyVG9hc3RzOiBjbGVhclRvYXN0cyxcbiAgICAgICAgICAgICAgICByZW1vdmVUb2FzdHNCeUlkOiByZW1vdmVUb2FzdHNCeUlkLFxuICAgICAgICAgICAgICAgIGdldFRvYXN0QnlJZDogZ2V0VG9hc3RCeUlkXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBUYWtlIHRoZSBuZXh0IGZyb20gcXVldWUgYW5kIHNob3cgaXRcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dOZXh0VG9hc3QoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvYXN0O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRvYXN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ID0gdG9hc3RzWzBdO1xuICAgICAgICAgICAgICAgICAgICB0b2FzdHMuc3BsaWNlKDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QodG9hc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2hvdyB0b2FzdFxuICAgICAgICAgICAgZnVuY3Rpb24gc2hvd1RvYXN0KHRvYXN0KSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFRvYXN0ID0gdG9hc3Q7XG5cbiAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd0b2FzdC90b2FzdC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgaGlkZURlbGF5OiB0b2FzdC5kdXJhdGlvbiB8fCBTSE9XX1RJTUVPVVQsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tIGxlZnQnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGlwVG9hc3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdDogY3VycmVudFRvYXN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgc291bmRzOiBzb3VuZHNcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaG93VG9hc3RPa1Jlc3VsdChhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VG9hc3Quc3VjY2Vzc0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRvYXN0LnN1Y2Nlc3NDYWxsYmFjayhhY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRvYXN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dOZXh0VG9hc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc2hvd1RvYXN0Q2FuY2VsUmVzdWx0KGFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUb2FzdC5jYW5jZWxDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUb2FzdC5jYW5jZWxDYWxsYmFjayhhY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRvYXN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dOZXh0VG9hc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFRvYXN0KHRvYXN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUb2FzdCAmJiB0b2FzdC50eXBlICE9PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvYXN0cy5wdXNoKHRvYXN0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaG93VG9hc3QodG9hc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlVG9hc3RzKHR5cGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAgICAgICAgICAgICBfLmVhY2godG9hc3RzLCBmdW5jdGlvbiAodG9hc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0b2FzdC50eXBlIHx8IHRvYXN0LnR5cGUgIT09IHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRvYXN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRvYXN0cyA9IF8uY2xvbmVEZWVwKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZVRvYXN0c0J5SWQoaWQpIHtcbiAgICAgICAgICAgICAgICBfLnJlbW92ZSh0b2FzdHMsIHtpZDogaWR9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0VG9hc3RCeUlkKGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF8uZmluZCh0b2FzdHMsIHtpZDogaWR9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gb25TdGF0ZUNoYW5nZVN1Y2Nlc3MoKSB7XG4gICAgICAgICAgICAgICAgLy8gdG9hc3RzID0gXy5yZWplY3QodG9hc3RzLCBmdW5jdGlvbiAodG9hc3QpIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgcmV0dXJuIHRvYXN0LnR5cGUgPT09ICdlcnJvcic7XG4gICAgICAgICAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBpZiAoY3VycmVudFRvYXN0ICYmIGN1cnJlbnRUb2FzdC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICRtZFRvYXN0LmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIC8vICAgICBzaG93TmV4dFRvYXN0KCk7XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBvbkNsZWFyVG9hc3RzKCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVG9hc3RzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNob3cgbmV3IG5vdGlmaWNhdGlvbiB0b2FzdCBhdCB0aGUgdG9wIHJpZ2h0XG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93Tm90aWZpY2F0aW9uKG1lc3NhZ2UsIGFjdGlvbnMsIHN1Y2Nlc3NDYWxsYmFjaywgY2FuY2VsQ2FsbGJhY2ssIGlkKSB7XG4gICAgICAgICAgICAgICAgLy8gcGlwQXNzZXJ0LmlzRGVmKG1lc3NhZ2UsICdwaXBUb2FzdHMuc2hvd05vdGlmaWNhdGlvbjogbWVzc2FnZSBzaG91bGQgYmUgZGVmaW5lZCcpO1xuICAgICAgICAgICAgICAgIC8vIHBpcEFzc2VydC5pc1N0cmluZyhtZXNzYWdlLCAncGlwVG9hc3RzLnNob3dOb3RpZmljYXRpb246IG1lc3NhZ2Ugc2hvdWxkIGJlIGEgc3RyaW5nJyk7XG4gICAgICAgICAgICAgICAgLy8gcGlwQXNzZXJ0LmlzQXJyYXkoYWN0aW9ucyB8fCBbXSwgJ3BpcFRvYXN0cy5zaG93Tm90aWZpY2F0aW9uOiBhY3Rpb25zIHNob3VsZCBiZSBhbiBhcnJheScpO1xuICAgICAgICAgICAgICAgIC8vIGlmIChzdWNjZXNzQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgcGlwQXNzZXJ0LmlzRnVuY3Rpb24oc3VjY2Vzc0NhbGxiYWNrLCAnc2hvd05vdGlmaWNhdGlvbjogc3VjY2Vzc0NhbGxiYWNrIHNob3VsZCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIC8vIGlmIChjYW5jZWxDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIC8vICAgICBwaXBBc3NlcnQuaXNGdW5jdGlvbihjYW5jZWxDYWxsYmFjaywgJ3Nob3dOb3RpZmljYXRpb246IGNhbmNlbENhbGxiYWNrIHNob3VsZCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgYWRkVG9hc3Qoe1xuICAgICAgICAgICAgICAgICAgICBpZDogaWQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ25vdGlmaWNhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IGFjdGlvbnMgfHwgWydvayddLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ2FsbGJhY2s6IHN1Y2Nlc3NDYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsQ2FsbGJhY2s6IGNhbmNlbENhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogU0hPV19USU1FT1VUX05PVElGSUNBVElPTlNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2hvdyBuZXcgbWVzc2FnZSB0b2FzdCBhdCB0aGUgdG9wIHJpZ2h0XG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93TWVzc2FnZShtZXNzYWdlLCBzdWNjZXNzQ2FsbGJhY2ssIGNhbmNlbENhbGxiYWNrLCBpZCkge1xuICAgICAgICAgICAgICAgIC8vIHBpcEFzc2VydC5pc0RlZihtZXNzYWdlLCAncGlwVG9hc3RzLnNob3dNZXNzYWdlOiBtZXNzYWdlIHNob3VsZCBiZSBkZWZpbmVkJyk7XG4gICAgICAgICAgICAgICAgLy8gcGlwQXNzZXJ0LmlzU3RyaW5nKG1lc3NhZ2UsICdwaXBUb2FzdHMuc2hvd01lc3NhZ2U6IG1lc3NhZ2Ugc2hvdWxkIGJlIGEgc3RyaW5nJyk7XG4gICAgICAgICAgICAgICAgLy8gaWYgKHN1Y2Nlc3NDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIC8vICAgICBwaXBBc3NlcnQuaXNGdW5jdGlvbihzdWNjZXNzQ2FsbGJhY2ssICdwaXBUb2FzdHMuc2hvd01lc3NhZ2U6c3VjY2Vzc0NhbGxiYWNrIHNob3VsZCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIC8vIGlmIChjYW5jZWxDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIC8vICAgICBwaXBBc3NlcnQuaXNGdW5jdGlvbihjYW5jZWxDYWxsYmFjaywgJ3BpcFRvYXN0cy5zaG93TWVzc2FnZTogY2FuY2VsQ2FsbGJhY2sgc2hvdWxkIGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgICAgICBhZGRUb2FzdCh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZCB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbWVzc2FnZScsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IFsnb2snXSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0NhbGxiYWNrOiBzdWNjZXNzQ2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbENhbGxiYWNrOiBjYW5jZWxDYWxsYmFja1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTaG93IGVycm9yIHRvYXN0IGF0IHRoZSBib3R0b20gcmlnaHQgYWZ0ZXIgZXJyb3Igb2NjdXJlZFxuICAgICAgICAgICAgZnVuY3Rpb24gc2hvd0Vycm9yKG1lc3NhZ2UsIHN1Y2Nlc3NDYWxsYmFjaywgY2FuY2VsQ2FsbGJhY2ssIGlkLCBlcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIHBpcEFzc2VydC5pc0RlZihtZXNzYWdlLCAncGlwVG9hc3RzLnNob3dFcnJvcjogbWVzc2FnZSBzaG91bGQgYmUgZGVmaW5lZCcpO1xuICAgICAgICAgICAgICAgIC8vIHBpcEFzc2VydC5pc1N0cmluZyhtZXNzYWdlLCAncGlwVG9hc3RzLnNob3dFcnJvcjogbWVzc2FnZSBzaG91bGQgYmUgYSBzdHJpbmcnKTtcbiAgICAgICAgICAgICAgICAvLyBpZiAoc3VjY2Vzc0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgIHBpcEFzc2VydC5pc0Z1bmN0aW9uKHN1Y2Nlc3NDYWxsYmFjaywgJ3BpcFRvYXN0cy5zaG93RXJyb3I6IHN1Y2Nlc3NDYWxsYmFjayBzaG91bGQgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAvLyBpZiAoY2FuY2VsQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgcGlwQXNzZXJ0LmlzRnVuY3Rpb24oY2FuY2VsQ2FsbGJhY2ssICdwaXBUb2FzdHMuc2hvd0Vycm9yOiBjYW5jZWxDYWxsYmFjayBzaG91bGQgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGlkIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSB8fCAnVW5rbm93biBlcnJvci4nLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25zOiBbJ29rJ10sXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjazogc3VjY2Vzc0NhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxDYWxsYmFjazogY2FuY2VsQ2FsbGJhY2tcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSGlkZSBhbmQgY2xlYXIgYWxsIHRvYXN0IHdoZW4gdXNlciBzaWducyBvdXRcbiAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGVBbGxUb2FzdHMoKSB7XG4gICAgICAgICAgICAgICAgJG1kVG9hc3QuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgdG9hc3RzID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENsZWFyIHRvYXN0cyBieSB0eXBlXG4gICAgICAgICAgICBmdW5jdGlvbiBjbGVhclRvYXN0cyh0eXBlPzogYW55KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcGlwQXNzZXJ0LmlzU3RyaW5nKHR5cGUsICdwaXBUb2FzdHMuY2xlYXJUb2FzdHM6IHR5cGUgc2hvdWxkIGJlIGEgc3RyaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZVRvYXN0cyh0eXBlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcblxufSkoKTtcbiIsIihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBDb250cm9scy5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcENvbnRyb2xzLlRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnY29sb3JfcGlja2VyL2NvbG9yX3BpY2tlci5odG1sJyxcbiAgICAnPHVsIGNsYXNzPVwicGlwLWNvbG9yLXBpY2tlciB7e2NsYXNzfX1cIiBwaXAtc2VsZWN0ZWQ9XCJjdXJyZW50Q29sb3JJbmRleFwiIHBpcC1lbnRlci1zcGFjZS1wcmVzcz1cImVudGVyU3BhY2VQcmVzcygkZXZlbnQpXCI+PGxpIHRhYmluZGV4PVwiLTFcIiBuZy1yZXBlYXQ9XCJjb2xvciBpbiBjb2xvcnMgdHJhY2sgYnkgY29sb3JcIj48bWQtYnV0dG9uIHRhYmluZGV4PVwiLTFcIiBjbGFzcz1cIm1kLWljb24tYnV0dG9uIHBpcC1zZWxlY3RhYmxlXCIgbmctY2xpY2s9XCJzZWxlY3RDb2xvcigkaW5kZXgpXCIgYXJpYS1sYWJlbD1cImNvbG9yXCIgbmctZGlzYWJsZWQ9XCJkaXNhYmxlZCgpXCI+PG1kLWljb24gbmctc3R5bGU9XCJ7XFwnY29sb3JcXCc6IGNvbG9yfVwiIG1kLXN2Zy1pY29uPVwiaWNvbnM6e3sgY29sb3IgPT0gY3VycmVudENvbG9yID8gXFwnY2lyY2xlXFwnIDogXFwncmFkaW8tb2ZmXFwnIH19XCI+PC9tZC1pY29uPjwvbWQtYnV0dG9uPjwvbGk+PC91bD4nKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBDb250cm9scy5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcENvbnRyb2xzLlRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgncG9wb3Zlci9wb3BvdmVyLmh0bWwnLFxuICAgICc8ZGl2IG5nLWlmPVwicGFyYW1zLnRlbXBsYXRlVXJsXCIgY2xhc3M9XCJwaXAtcG9wb3ZlciBmbGV4IGxheW91dC1jb2x1bW5cIiBuZy1jbGljaz1cIm9uUG9wb3ZlckNsaWNrKCRldmVudClcIiBuZy1pbmNsdWRlPVwicGFyYW1zLnRlbXBsYXRlVXJsXCI+PC9kaXY+PGRpdiBuZy1pZj1cInBhcmFtcy50ZW1wbGF0ZVwiIGNsYXNzPVwicGlwLXBvcG92ZXJcIiBuZy1jbGljaz1cIm9uUG9wb3ZlckNsaWNrKCRldmVudClcIj48L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdwaXBDb250cm9scy5UZW1wbGF0ZXMnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcENvbnRyb2xzLlRlbXBsYXRlcycsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgncHJvZ3Jlc3Mvcm91dGluZ19wcm9ncmVzcy5odG1sJyxcbiAgICAnPGRpdiBjbGFzcz1cInBpcC1yb3V0aW5nLXByb2dyZXNzIGxheW91dC1jb2x1bW4gbGF5b3V0LWFsaWduLWNlbnRlci1jZW50ZXJcIiBuZy1zaG93PVwic2hvd1Byb2dyZXNzKClcIj48ZGl2IGNsYXNzPVwibG9hZGVyXCI+PHN2ZyBjbGFzcz1cImNpcmN1bGFyXCIgdmlld2JveD1cIjI1IDI1IDUwIDUwXCI+PGNpcmNsZSBjbGFzcz1cInBhdGhcIiBjeD1cIjUwXCIgY3k9XCI1MFwiIHI9XCIyMFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIj48L2NpcmNsZT48L3N2Zz48L2Rpdj48aW1nIHNyYz1cIlwiIGhlaWdodD1cIjQwXCIgd2lkdGg9XCI0MFwiIGNsYXNzPVwicGlwLWltZ1wiPjxtZC1wcm9ncmVzcy1jaXJjdWxhciBtZC1kaWFtZXRlcj1cIjk2XCIgY2xhc3M9XCJmaXgtaWVcIj48L21kLXByb2dyZXNzLWNpcmN1bGFyPjwvZGl2PicpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ3BpcENvbnRyb2xzLlRlbXBsYXRlcycpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgncGlwQ29udHJvbHMuVGVtcGxhdGVzJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCd0b2FzdC90b2FzdC5odG1sJyxcbiAgICAnPG1kLXRvYXN0IGNsYXNzPVwibWQtYWN0aW9uIHBpcC10b2FzdFwiIG5nLWNsYXNzPVwie1xcJ3BpcC1lcnJvclxcJzogdG9hc3QudHlwZT09XFwnZXJyb3JcXCcsIFxcJ3BpcC1jb2x1bW4tdG9hc3RcXCc6IHRvYXN0LmFjdGlvbnMubGVuZ3RoID4gMSB8fCBhY3Rpb25MZW5naHQgPiA0LCBcXCdwaXAtbm8tYWN0aW9uLXRvYXN0XFwnOiBhY3Rpb25MZW5naHQgPT0gMH1cIiBzdHlsZT1cImhlaWdodDppbml0aWFsOyBtYXgtaGVpZ2h0OiBpbml0aWFsO1wiPjxzcGFuIGNsYXNzPVwiZmxleC12YXIgcGlwLXRleHRcIiBuZy1iaW5kLWh0bWw9XCJtZXNzYWdlXCI+PC9zcGFuPjxkaXYgY2xhc3M9XCJsYXlvdXQtcm93IGxheW91dC1hbGlnbi1lbmQtc3RhcnQgcGlwLWFjdGlvbnNcIiBuZy1pZj1cImFjdGlvbnMubGVuZ3RoID4gMCB8fCAodG9hc3QudHlwZT09XFwnZXJyb3JcXCcgJiYgdG9hc3QuZXJyb3IpXCI+PGRpdiBjbGFzcz1cImZsZXhcIiBuZy1pZj1cInRvYXN0LmFjdGlvbnMubGVuZ3RoID4gMVwiPjwvZGl2PjxtZC1idXR0b24gY2xhc3M9XCJmbGV4LWZpeGVkIHBpcC10b2FzdC1idXR0b25cIiBuZy1pZj1cInRvYXN0LnR5cGU9PVxcJ2Vycm9yXFwnICYmIHRvYXN0LmVycm9yICYmIHNob3dEZXRhaWxzXCIgbmctY2xpY2s9XCJvbkRldGFpbHMoKVwiPkRldGFpbHM8L21kLWJ1dHRvbj48bWQtYnV0dG9uIGNsYXNzPVwiZmxleC1maXhlZCBwaXAtdG9hc3QtYnV0dG9uXCIgbmctY2xpY2s9XCJvbkFjdGlvbihhY3Rpb24pXCIgbmctcmVwZWF0PVwiYWN0aW9uIGluIGFjdGlvbnNcIiBhcmlhLWxhYmVsPVwie3s6OmFjdGlvbnwgdHJhbnNsYXRlfX1cIj57ezo6YWN0aW9ufCB0cmFuc2xhdGV9fTwvbWQtYnV0dG9uPjwvZGl2PjwvbWQtdG9hc3Q+Jyk7XG59XSk7XG59KSgpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXAtd2VidWktY29udHJvbHMtaHRtbC5taW4uanMubWFwXG4iXX0="}