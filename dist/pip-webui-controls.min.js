!function(e){"use strict";e.module("pipControls",["pipMarkdown","pipColorPicker","pipRoutingProgress","pipPopover","pipImageSlider","pipToasts","pipUnsavedChanges"])}(window.angular),function(e){try{e=angular.module("pipControls.Templates")}catch(o){e=angular.module("pipControls.Templates",[])}e.run(["$templateCache",function(e){e.put("color_picker/color_picker.html",'<ul class="pip-color-picker lp0 {{class}}" pip-selected="currentColorIndex" pip-enter-space-press="enterSpacePress($event)"><li tabindex="-1" ng-repeat="color in colors track by color"><md-button tabindex="-1" class="md-icon-button pip-selectable" ng-click="selectColor($index)" aria-label="color" ng-disabled="disabled()"><md-icon ng-style="{\'color\': color}" md-svg-icon="icons:{{ color == currentColor ? \'circle\' : \'radio-off\' }}"></md-icon></md-button></li></ul>')}])}(),function(e){try{e=angular.module("pipControls.Templates")}catch(o){e=angular.module("pipControls.Templates",[])}e.run(["$templateCache",function(e){e.put("popover/popover.html",'<div ng-if="params.templateUrl" class="pip-popover flex layout-column" ng-click="onPopoverClick($event)" ng-include="params.templateUrl"></div><div ng-if="params.template" class="pip-popover" ng-click="onPopoverClick($event)"></div>')}])}(),function(e){try{e=angular.module("pipControls.Templates")}catch(o){e=angular.module("pipControls.Templates",[])}e.run(["$templateCache",function(e){e.put("progress/routing_progress.html",'<div class="pip-routing-progress layout-column layout-align-center-center" ng-show="showProgress()"><div class="loader"><svg class="circular" viewbox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"></circle></svg></div><img src="" height="40" width="40" class="pip-img"><md-progress-circular md-diameter="96" class="fix-ie"></md-progress-circular></div>')}])}(),function(e){try{e=angular.module("pipControls.Templates")}catch(o){e=angular.module("pipControls.Templates",[])}e.run(["$templateCache",function(e){e.put("toast/toast.html",'<md-toast class="md-action pip-toast" ng-class="{\'pip-error\': toast.type==\'error\', \'pip-column-toast\': toast.type == \'error\' || toast.actions.length > 1 || actionLenght > 4, \'pip-no-action-toast\': actionLenght == 0}" style="height:initial; max-height: initial;"><span class="flex-var m0 pip-text" ng-bind-html="message"></span><div class="layout-row layout-align-end-start" ng-if="actions.length > 0 || (toast.type==\'error\' && toast.error)"><md-button class="flex-fixed m0 lm8" ng-if="toast.type==\'error\' && toast.error && showDetails" ng-click="onDetails()">Details</md-button><md-button class="flex-fixed m0 lm8" ng-click="onAction(action)" ng-repeat="action in actions" aria-label="{{::action| translate}}">{{::action| translate}}</md-button></div></md-toast>')}])}(),function(e,o){"use strict";var n=e.module("pipColorPicker",["pipControls.Templates"]);n.directive("pipColorPicker",function(){return{restrict:"EA",scope:{ngDisabled:"&",colors:"=pipColors",currentColor:"=ngModel",colorChange:"&ngChange"},templateUrl:"color_picker/color_picker.html",controller:"pipColorPickerController"}}),n.controller("pipColorPickerController",["$scope","$element","$attrs","$timeout",function(e,n,t,i){var r=["purple","lightgreen","green","darkred","pink","yellow","cyan"];e.class=t.class||"",(!e.colors||o.isArray(e.colors)&&0===e.colors.length)&&(e.colors=r),e.currentColor=e.currentColor||e.colors[0],e.currentColorIndex=e.colors.indexOf(e.currentColor),e.disabled=function(){return!e.ngDisabled||e.ngDisabled()},e.selectColor=function(o){e.disabled()||(e.currentColorIndex=o,e.currentColor=e.colors[e.currentColorIndex],i(function(){e.$apply()}),e.colorChange&&e.colorChange())},e.enterSpacePress=function(o){e.selectColor(o.index)}}])}(window.angular,window._),function(){"use strict";var e=angular.module("pipControls.Translate",[]);e.filter("translate",["$injector",function(e){var o=e.has("pipTranslate")?e.get("pipTranslate"):null;return function(e){return o?o.translate(e)||e:e}}])}(),function(e,o,n){"use strict";var t=e.module("pipImageSlider",["pipSliderButton","pipSliderIndicator","pipImageSlider.Service"]);t.directive("pipImageSlider",function(){return{scope:!1,controller:["$scope","$element","$attrs","$parse","$timeout","$interval","$pipImageSlider",function(e,t,i,r,a,s,l){function p(){C&&C(e,w)}function c(){v=s(function(){g=w+1===m.length?0:w+1,f="next",h()},b||$)}function u(){s.cancel(v)}function d(){u(),c()}var m,g,f,v,h,C=r(i.pipImageSliderIndex).assign,w=0,k=r(i.pipAnimationType)(e),$=4500,b=r(i.pipAnimationInterval)(e);t.addClass("pip-image-slider"),t.addClass("pip-animation-"+k),e.swipeStart=0,p(),a(function(){m=t.find(".pip-animation-block"),m.length>0&&n(m[0]).addClass("pip-show")}),c(),h=o.throttle(function(){l.toBlock(k,m,w,g,f),w=g,p()},600),e.nextBlock=function(){d(),g=w+1===m.length?0:w+1,f="next",h()},e.prevBlock=function(){d(),g=w-1<0?m.length-1:w-1,f="prev",h()},e.slideTo=function(e){e===w||e>m.length-1||(d(),g=e,f=e>w?"next":"prev",h())},t.on("$destroy",function(){u()})}]}})}(window.angular,window._,window.jQuery),function(e,o,n){"use strict";var t=e.module("pipImageSlider.Service",[]);t.service("$pipImageSlider",["$timeout",function(e){function o(o,n){o.removeClass("animated").addClass("pip-next"),e(function(){o.addClass("animated").addClass("pip-show").removeClass("pip-next"),n.addClass("animated").removeClass("pip-show")},100)}function t(o,n){o.removeClass("animated"),e(function(){o.addClass("animated").addClass("pip-show"),n.addClass("animated").addClass("pip-next").removeClass("pip-show"),e(function(){n.removeClass("pip-next").removeClass("animated")},r-100)},100)}function i(e,i,r,a,s){var l=n(i[r]),p=a,c=n(i[p]);"carousel"===e?(n(i).removeClass("pip-next").removeClass("pip-prev"),s&&"prev"===s&&t(c,l),s&&"next"===s&&o(c,l),(!s||"next"!==s&&"prev"!==s)&&a&&a<r?t(c,l):o(c,l)):(l.addClass("animated").removeClass("pip-show"),c.addClass("animated").addClass("pip-show"))}var r=550;return{nextCarousel:o,prevCarousel:t,toBlock:i}}])}(window.angular,window._,window.jQuery),function(e,o,n){"use strict";var t=e.module("pipSliderButton",[]);t.directive("pipSliderButton",function(){return{scope:{},controller:["$scope","$element","$parse","$attrs",function(o,n,t,i){var r=t(i.pipButtonType)(o),a=t(i.pipSliderId)(o);n.on("click",function(){a&&r&&e.element(document.getElementById(a)).scope()[r+"Block"]()})}]}})}(window.angular,window._,window.jQuery),function(e,o,n){"use strict";var t=e.module("pipSliderIndicator",[]);t.directive("pipSliderIndicator",function(){return{scope:!1,controller:["$scope","$element","$parse","$attrs",function(o,n,t,i){var r=t(i.pipSliderId)(o),a=t(i.pipSlideTo)(o);n.css("cursor","pointer"),n.on("click",function(){!r||a&&a<0||e.element(document.getElementById(r)).scope().slideTo(a)})}]}})}(window.angular,window._,window.jQuery),function(e,o,n){"use strict";var t=e.module("pipMarkdown",["ngSanitize"]);t.directive("pipMarkdown",["$parse","$injector",function(e,t){var i=t.has("pipTranslate")?t.get("pipTranslate"):null;return{restrict:"EA",scope:!1,link:function(t,r,a){function s(e){var o="",t=[];return n.each(e,function(e){e.type&&"text"!==e.type&&(0===o.length&&i&&(o=i.translate("MARKDOWN_ATTACHMENTS")),t.indexOf(e.type)<0&&(t.push(e.type),o+=t.length>1?", ":" ",i&&(o+=i.translate(e.type))))}),o}function l(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}function p(e){var t,i,l,p,c;n.isArray(e)?(c=n.find(e,function(e){return"text"===e.type&&e.text}),t=c?c.text:s(e)):t=e,i=a.pipLineCount&&n.isNumber(d()),i=i&&t&&t.length>0,p={gfm:!0,tables:!0,breaks:!0,sanitize:!0,pedantic:!0,smartLists:!0,smartypents:!1},t=o(t||"",p),i&&(l=1.5*d()),r.html("<div"+(i?u()?'class="pip-markdown-content pip-markdown-list" style="max-height: '+l+'em">':' class="pip-markdown-content" style="max-height: '+l+'em">':u()?' class="pip-markdown-list">':">")+t+"</div>"),r.find("a").attr("target","blank"),!u()&&i&&r.append('<div class="pip-gradient-block"></div>')}var c=e(a.pipText),u=e(a.pipList),d=e(a.pipLineCount);p(c(t)),l(a.pipRebind)&&t.$watch(c,function(e){p(e)}),t.$on("pipWindowResized",function(){p(c(t))}),r.addClass("pip-markdown")}}}])}(window.angular,window.marked,window._),function(e,o,n){"use strict";var t=e.module("pipPopover",["pipPopover.Service"]);t.directive("pipPopover",function(){return{restrict:"EA",scope:!0,templateUrl:"popover/popover.html",controller:["$scope","$rootScope","$element","$timeout","$compile",function(e,t,i,r,a){function s(){g.addClass("opened"),o(".pip-popover-backdrop").focus(),e.params.timeout&&r(function(){p()},e.params.timeout)}function l(){e.params.cancelCallback&&e.params.cancelCallback(),p()}function p(){g.removeClass("opened"),r(function(){g.remove()},100)}function c(e){e.stopPropagation()}function u(){if(e.params.element){var n=o(e.params.element),t=n.offset(),i=n.width(),r=n.height(),a=o(document).width(),s=o(document).height(),l=g.find(".pip-popover");t&&l.css("max-width",a-(a-t.left)).css("max-height",s-(t.top+r)-32,0).css("left",t.left-l.width()+i/2).css("top",t.top+r+16)}}function d(){if(e.params.calcHeight!==!1){var o=g.find(".pip-popover"),n=o.find(".pip-title"),t=o.find(".pip-footer"),i=o.find(".pip-content"),r=o.height()-n.outerHeight(!0)-t.outerHeight(!0);i.css("max-height",Math.max(r,0)+"px").css("box-sizing","border-box")}}function m(){g.find(".pip-popover").find(".pip-content").css("max-height","100%"),u(),d()}var g,f;g=o(".pip-popover-backdrop"),g.on("click keydown scroll",l),g.addClass(e.params.responsive!==!1?"pip-responsive":""),r(function(){u(),e.params.template&&(f=a(e.params.template)(e),i.find(".pip-popover").append(f)),s()}),r(function(){d()},200),e.onPopoverClick=c,e=n.defaults(e,e.$parent),t.$on("pipPopoverResize",m),o(window).resize(m)}]}})}(window.angular,window.jQuery,window._),function(e,o,n){"use strict";var t=e.module("pipPopover.Service",[]);t.service("pipPopover",["$compile","$rootScope","$timeout",function(e,t,i){function r(i){var r,s,p,c;r=o("body"),r.find("md-backdrop").length>0||(a(),s=t.$new(),p=i&&n.isObject(i)?i:{},s.params=p,s.locals=p.locals,c=e(l)(s),r.append(c))}function a(){var e=o(".pip-popover-backdrop");e.removeClass("opened"),i(function(){e.remove()},100)}function s(){t.$broadcast("pipPopoverResize")}var l;return l="<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller' tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>",{show:r,hide:a,resize:s}}])}(window.angular,window.jQuery,window._),function(e){"use strict";var o=e.module("pipRoutingProgress",["ngMaterial"]);o.directive("pipRoutingProgress",function(){return{restrict:"EA",replace:!0,scope:{showProgress:"&",logoUrl:"@"},templateUrl:"progress/routing_progress.html",controller:"pipRoutingProgressController"}}),o.controller("pipRoutingProgressController",["$scope","$element","$attrs",function(e,o,n){function t(){e.logoUrl&&i.attr("src",e.logoUrl)}var i=o.children("img");t()}])}(window.angular),function(){"use strict";var e=angular.module("pipUnsavedChanges",[]);e.directive("pipUnsavedChanges",["$window","$rootScope",function(e,o){return{restrict:"AE",scope:{unsavedChangesAvailable:"&pipUnsavedChangesAvailable",unsavedChangesMessage:"@pipUnsavedChangesMessage",afterLeave:"&pipUnsavedChangesAfterLeave"},link:function(n){e.onbeforeunload=function(){if(n.unsavedChangesAvailable())return o.$routing=!1,n.unsavedChangesMessage};var t=n.$on("$stateChangeStart",function(t){n.unsavedChangesAvailable()&&!e.confirm(n.unsavedChangesMessage)?(o.$routing=!1,t.preventDefault()):_.isFunction(n.afterLeave)&&n.afterLeave()});n.$on("$destroy",function(){e.onbeforeunload=null,t()})}}}])}(),function(e,o){"use strict";var n=e.module("pipToasts",["ngMaterial","pipControls.Translate"]);n.controller("pipToastController",["$scope","$mdToast","toast","$injector",function(o,n,t,i){var r=i.has("pipErrorDetailsDialog")?i.get("pipErrorDetailsDialog"):null;o.message=t.message,o.actions=t.actions,o.toast=t,0===t.actions.length?o.actionLenght=0:1===t.actions.length?o.actionLenght=t.actions[0].toString().length:o.actionLenght=null,o.showDetails=null!=r,o.onDetails=function(){n.hide(),r&&r.show({error:o.toast.error,ok:"Ok"},e.noop,e.noop)},o.onAction=function(e){n.hide({action:e,id:t.id,message:t.message})}}]),n.service("pipToasts",["$rootScope","$mdToast",function(e,n){function t(){var e;w.length>0&&(e=w[0],w.splice(0,1),i(e))}function i(e){v=e,n.show({templateUrl:"toast/toast.html",hideDelay:e.duration||h,position:"bottom left",controller:"pipToastController",locals:{toast:v,sounds:k}}).then(function(e){v.successCallback&&v.successCallback(e),v=null,t()},function(e){v.cancelCallback&&v.cancelCallback(e),v=null,t()})}function r(e){v&&"error"!==e.type?w.push(e):i(e)}function a(e){var n=[];o.each(w,function(o){o.type&&o.type===e||n.push(o)}),w=o.cloneDeep(n)}function s(e){o.remove(w,{id:e})}function l(e){return o.find(w,{id:e})}function p(){w=o.reject(w,function(e){return"error"===e.type}),v&&"error"===v.type&&(n.cancel(),t())}function c(){f()}function u(e,o,n,t,i){r({id:i||null,type:"notification",message:e,actions:o||["ok"],successCallback:n,cancelCallback:t,duration:C})}function d(e,o,n,t){r({id:t||null,type:"message",message:e,actions:["ok"],successCallback:o,cancelCallback:n})}function m(e,o,n,t,i){r({id:t||null,error:i,type:"error",message:e,actions:["ok"],successCallback:o,cancelCallback:n})}function g(){n.cancel(),w=[]}function f(e){e?a(e):(n.cancel(),w=[])}var v,h=2e4,C=2e4,w=[],k={};return e.$on("$stateChangeSuccess",p),e.$on("pipSessionClosed",c),e.$on("pipIdentityChanged",c),{showNotification:u,showMessage:d,showError:m,hideAllToasts:g,clearToasts:f,removeToastsById:s,getToastById:l}}])}(window.angular,window._);