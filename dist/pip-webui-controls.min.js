!function(t){"use strict";t.module("pipControls",["pipMarkdown","pipToggleButtons","pipRefreshButton","pipColorPicker","pipRoutingProgress","pipPopover","pipImageSlider","pipToasts","pipTagList","pipInformationDialog","pipConfirmationDialog","pipOptionsDialog","pipOptionsBigDialog","pipErrorDetailsDialog"]),t.module("pipBasicControls",["pipControls"])}(window.angular),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("color_picker/color_picker.html",'<ul class="pip-color-picker lp0 {{class}}" pip-selected="currentColorIndex" pip-enter-space-press="enterSpacePress($event)"><li tabindex="-1" ng-repeat="color in colors track by color"><md-button tabindex="-1" class="md-icon-button pip-selectable" ng-click="selectColor($index)" aria-label="color" ng-disabled="disabled()"><md-icon ng-style="{\'color\': color}" md-svg-icon="icons:{{ color == currentColor ? \'circle\' : \'radio-off\' }}"></md-icon></md-button></li></ul>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("confirmation_dialog/confirmation_dialog.html",'<md-dialog class="pip-dialog pip-confirmation-dialog layout-column" width="400" md-theme="{{::theme}}"><div class="pip-header text-subhead1"><h3 class="m0">{{:: title | translate }}</h3></div><div class="pip-footer"><div><md-button ng-click="onCancel()">{{:: cancel | translate }}</md-button><md-button class="md-accent" ng-click="onOk()">{{:: ok | translate }}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("error_details_dialog/error_details_dialog.html",'<md-dialog class="pip-dialog pip-details-dialog layout-column" width="400" md-theme="{{theme}}"><div class="pip-body"><div class="pip-header p0 bp8 text-subhead1">{{::\'ERROR_DETAILS\' | translate}}</div><div class="layout-row layout-align-start-center h48 text-body2 color-secondary-text" ng-if="error.code || (error.data && error.data.code)">{{::\'CODE\' | translate}}</div><div class="layout-row layout-align-start-center" ng-if="error.code || (error.data && error.data.code)">{{error.code || error.data.code}}</div><div class="layout-row layout-align-start-center h48 text-body2 color-secondary-text" ng-if="error.path || (error.data && error.data.path)">{{::\'PATH\' | translate}}</div><div class="layout-row layout-align-start-center" ng-if="error.path || (error.data && error.data.path)">{{error.path || error.data.path}}</div><div class="h48 text-body2 color-secondary-text layout-row layout-align-start-center" ng-if="error.error || (error.data && error.data.error)">{{::\'ERROR\' | translate}}</div><div class="layout-row layout-align-start-center" ng-if="error.error || (error.data && error.data.error)">{{error.error || error.data.error}}</div><div class="h48 text-body2 color-secondary-text layout-row layout-align-start-center" ng-if="error.method || (error.data && error.data.method)">{{::\'METHOD\' | translate}}</div><div class="layout-row layout-align-start-center" ng-if="error.method || (error.data && error.data.method)">{{error.method || error.data.method}}</div><div class="h48 text-body2 color-secondary-text layout-row layout-align-start-center" ng-if="error.message || (error.data && error.data.message)">{{::\'MESSAGE\' | translate}}</div><div class="layout-row layout-align-start-center" ng-if="error.message || (error.data && error.data.message)">{{error.message || error.data.message}}</div></div><div class="pip-footer rp16"><div><md-button class="md-accent m0" ng-click="onOk()">{{::\'DISMISS\' | translate }}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("information_dialog/information_dialog.html",'<md-dialog class="pip-dialog pip-information-dialog layout-column" width="400" md-theme="{{theme}}"><div class="pip-header"><h3 class="m0">{{ title | translate }}</h3></div><div class="pip-body"><div class="pip-content">{{ content }}</div></div><div class="pip-footer"><div><md-button class="md-accent" ng-click="onOk()">{{ ok | translate }}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("options_dialog/options_dialog.html",'<md-dialog class="pip-dialog pip-options-dialog layout-column" min-width="400" md-theme="{{theme}}"><md-dialog-content class="pip-body lp0 tp0 rp0 bp24 pip-scroll"><div class="pip-header"><h3 class="m0 bm16 text-title">{{::title | translate}}</h3><div ng-show="deletedTitle" class="bp16 tp8 text-subhead1 divider-bottom"><md-checkbox ng-model="deleted" aria-label="CHECKBOX" class="m0">{{::deletedTitle | translate}}</md-checkbox></div></div><div class="pip-content"><md-radio-group ng-model="selectedOptionName" class="pip-list md-primary" md-no-ink="true" ng-keypress="onKeyPress($event)" tabindex="0"><div ng-repeat="option in options" class="pip-list-item p0" md-ink-ripple="" ui-event="{ click: \'onOptionSelect($event, option)\' }" ng-class="{ selected: option.name == selectedOptionName }"><div class="pip-list-item"><md-icon class="pip-option-icon rm12" md-svg-icon="icons:{{option.icon}}" ng-if="option.icon"></md-icon><div class="pip-option-title">{{::option.title | translate}}</div><md-radio-button ng-value="option.name" tabindex="-1" aria-label="{{::option.title | translate}}"></md-radio-button></div></div></md-radio-group></div></md-dialog-content><div class="pip-footer"><div><md-button class="pip-cancel" ng-click="onCancel()">{{::\'CANCEL\' | translate}}</md-button><md-button class="pip-submit md-accent" ng-click="onSelect()">{{::applyButtonTitle | translate}}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("options_dialog/options_dialog_big.html",'<md-dialog class="pip-dialog pip-options-dialog-big layout-column" min-width="400" md-theme="{{theme}}"><md-dialog-content class="pip-body p0 pip-scroll" ng-class="{\'bp24\': !noActions}"><div class="pip-header" ng-class="{\'header-hint\': noTitle && hint}"><h3 class="m0 text-title" ng-if="!noTitle">{{::title | translate}}</h3><div ng-show="noTitle && hint" class="dialog-hint layout-row layout-align-start-center"><div class="w40" flex-fixed=""><md-icon md-svg-icon="icons:info-circle-outline"></md-icon></div><div>{{::hint | translate}}</div></div></div><div class="pip-divider" ng-if="!noTitle"></div><div class="pip-content"><div class="h8" ng-if="noTitle && hint"></div><md-list class="pip-menu pip-ref-list w-stretch" pip-selected="optionIndex" index="{{optionIndex }}" pip-select="onSelected($event)"><md-list-item class="pip-ref-list-item pip-selectable layout-row layout-align-start-center" ng-class="{\'selected\' : option.name == selectedOptionName, \'divider-bottom\': $index != options.length - 1}" md-ink-ripple="" xxxxng-keypress="onKeyPress($event)" ng-keyup="onKeyUp($event, $index)" ng-repeat="option in options"><div class="pip-content line-height-string max-w100-stretch" ng-click="onOptionSelect($event, option)"><p class="pip-title rp24-flex" ng-if="option.title" style="margin-bottom: 4px !important;">{{::option.title | translate}}</p><div class="pip-subtitle rp24-flex" style="height: inherit" ng-if="option.subtitle">{{::option.subtitle | translate}}</div><div class="pip-subtitle rp24-flex" style="height: inherit" ng-if="option.text" pip-translate-html="{{::option.text | translate}}"></div></div></md-list-item></md-list></div><div class="h8" ng-if="noActions"></div></md-dialog-content><div class="pip-footer" ng-if="!noActions"><div><md-button class="pip-cancel" ng-click="onCancel()">{{::\'CANCEL\' | translate}}</md-button><md-button class="pip-submit md-accent" ng-click="onSelect()" style="margin-right: -6px">{{::applyButtonTitle | translate}}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("progress/routing_progress.html",'<div class="pip-routing-progress layout-column layout-align-center-center" ng-show="$routing || $reset || toolInitialized"><div class="loader"><svg class="circular" viewbox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"></circle></svg></div><img src="images/Logo_animation.svg" height="40" width="40" class="pip-img"><md-progress-circular md-diameter="96" class="fix-ie"></md-progress-circular></div>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("popover/popover.template.html",'<div ng-if="params.templateUrl" class="pip-popover flex layout-column" ng-click="onPopoverClick($event)" ng-include="params.templateUrl"></div><div ng-if="params.template" class="pip-popover" ng-click="onPopoverClick($event)"></div>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("toast/toast.html",'<md-toast class="md-action pip-toast" ng-class="{\'pip-error\': toast.type==\'error\', \'pip-column-toast\': toast.type == \'error\' || toast.actions.length > 1 || actionLenght > 4, \'pip-no-action-toast\': actionLenght == 0}" style="height:initial; max-height: initial;"><span class="flex-var m0 pip-text" ng-bind-html="message"></span><div class="layout-row layout-align-end-start" ng-if="actions.length > 0 || (toast.type==\'error\' && toast.error)"><md-button class="flex-fixed m0 lm8" ng-if="toast.type==\'error\' && toast.error" ng-click="onDetails()">Details</md-button><md-button class="flex-fixed m0 lm8" ng-click="onAction(action)" ng-repeat="action in actions" aria-label="{{::action| translate}}">{{::action| translate}}</md-button></div></md-toast>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("tags/tag_list.html",'<div class="pip-chip rm4 pip-type-chip pip-type-chip-left {{\'bg-\' + pipType + \'-chips\'}}" ng-if="pipType && !pipTypeLocal"><span>{{pipType.toUpperCase() | translate | uppercase}}</span></div><div class="pip-chip rm4 pip-type-chip pip-type-chip-left {{\'bg-\' + pipType + \'-chips\'}}" ng-if="pipType && pipTypeLocal"><span>{{pipTypeLocal.toUpperCase() | translate | uppercase}}</span></div><div class="pip-chip rm4" ng-repeat="tag in pipTags"><span>{{::tag}}</span></div>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("toggle_buttons/toggle_buttons.html",'<div class="pip-toggle-buttons flex layout-row {{class}}" pip-selected="bufButtonIndex" pip-enter-space-press="enterSpacePress($event)" ng-if="$mdMedia(\'gt-xs\')"><md-button tabindex="-1" ng-repeat="button in buttons" ng-class="{\'md-accent md-raised selected color-accent-bg\' : currentButtonIndex == $index}" ng-attr-style="{{ \'background-color:\' + (currentButtonIndex == $index ? button.backgroundColor : \'\') + \'!important\' }}" class="pip-selectable pip-chip-button flex" ng-click="buttonSelected($index, $event)" ng-disabled="button.disabled || disabled()">{{button.name || button.title | translate}} <span ng-if="button.checked || button.complete || button.filled" class="pip-tagged">*</span></md-button></div><md-input-container class="md-block" ng-if="$mdMedia(\'xs\')"><md-select ng-model="currentButtonIndex" ng-disabled="disabled()" aria-label="DROPDOWN" md-on-close="buttonSelected(currentButtonIndex)"><md-option ng-repeat="action in buttons" value="{{ ::$index }}">{{ (action.title || action.name) | translate }} <span ng-if="action.checked || action.complete || action.filled" class="pip-tagged">*</span></md-option></md-select></md-input-container>')}])}(),function(t,e){"use strict";var o=t.module("pipColorPicker",["pipUtils","pipFocused","pipBasicControls.Templates"]);o.directive("pipColorPicker",function(){return{restrict:"EA",scope:{ngDisabled:"&",colors:"=pipColors",currentColor:"=ngModel",colorChange:"&ngChange"},templateUrl:"color_picker/color_picker.html",controller:"pipColorPickerController"}}),o.controller("pipColorPickerController",["$scope","$element","$attrs","$timeout",function(t,o,n,i){var a=["purple","lightgreen","green","darkred","pink","yellow","cyan"];t.class=n.class||"",(!t.colors||e.isArray(t.colors)&&0===t.colors.length)&&(t.colors=a),t.currentColor=t.currentColor||t.colors[0],t.currentColorIndex=t.colors.indexOf(t.currentColor),t.disabled=function(){return!t.ngDisabled||t.ngDisabled()},t.selectColor=function(e){t.disabled()||(t.currentColorIndex=e,t.currentColor=t.colors[t.currentColorIndex],i(function(){t.$apply()}),t.colorChange&&t.colorChange())},t.enterSpacePress=function(e){t.selectColor(e.index)}}])}(window.angular,window._),function(t){"use strict";var e=t.module("pipConfirmationDialog",["ngMaterial","pipUtils","pipTranslate","pipBasicControls.Templates"]);e.config(["pipTranslateProvider",function(t){t.translations("en",{CONFIRM_TITLE:"Confirm"}),t.translations("ru",{CONFIRM_TITLE:"Подтвердите"})}]),e.factory("pipConfirmationDialog",["$mdDialog",function(t){return{show:function(e,o,n){t.show({targetEvent:e.event,templateUrl:"confirmation_dialog/confirmation_dialog.html",controller:"pipConfirmationDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(){o&&o()},function(){n&&n()})}}}]),e.controller("pipConfirmationDialogController",["$scope","$rootScope","$mdDialog","pipTranslate","params",function(t,e,o,n,i){t.theme=e.$theme,t.title=i.title||"CONFIRM_TITLE",t.ok=i.ok||"OK",t.cancel=i.cancel||"CANCEL",t.onCancel=function(){o.cancel()},t.onOk=function(){o.hide()}}])}(window.angular),function(t){"use strict";var e=t.module("pipErrorDetailsDialog",["ngMaterial","pipUtils","pipTranslate","pipBasicControls.Templates"]);e.config(["pipTranslateProvider",function(t){t.translations("en",{ERROR_DETAILS:"Error details",CODE:"Code",PATH:"Path",ERROR:"Error code",METHOD:"Method",MESSAGE:"Message"}),t.translations("ru",{ERROR_DETAILS:"Детали ошибки",CODE:"Код",PATH:"Путь",ERROR:"Код ошибки",METHOD:"Метод",MESSAGE:"Сообщение"})}]),e.factory("pipErrorDetailsDialog",["$mdDialog",function(t){return{show:function(e,o,n){t.show({targetEvent:e.event,templateUrl:"error_details_dialog/error_details_dialog.html",controller:"pipErrorDetailsDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(){o&&o()},function(){n&&n()})}}}]),e.controller("pipErrorDetailsDialogController",["$scope","$rootScope","$mdDialog","pipTranslate","params",function(t,e,o,n,i){t.theme=e.$theme,t.error=i.error,t.ok=i.ok||"OK",t.cancel=i.cancel||"CANCEL",t.onCancel=function(){o.cancel()},t.onOk=function(){o.hide()}}])}(window.angular),function(t,e,o){"use strict";var n=t.module("pipImageSlider",[]);n.directive("pipImageSlider",function(){return{scope:!1,controller:["$scope","$element","$attrs","$parse","$timeout","$interval","$pipImageSlider",function(t,n,i,a,s,l,r){function p(){C&&C(t,b)}function c(){h=l(function(){g=b+1===m.length?0:b+1,f="next",v()},w||y)}function d(){l.cancel(h)}function u(){d(),c()}var m,g,f,h,v,C=a(i.pipImageSliderIndex).assign,b=0,T=a(i.pipAnimationType)(t),y=4500,w=a(i.pipAnimationInterval)(t);n.addClass("pip-image-slider"),n.addClass("pip-animation-"+T),t.swipeStart=0,p(),s(function(){m=n.find(".pip-animation-block"),m.length>0&&o(m[0]).addClass("pip-show")}),c(),v=e.throttle(function(){r.toBlock(T,m,b,g,f),b=g,p()},600),t.nextBlock=function(){u(),g=b+1===m.length?0:b+1,f="next",v()},t.prevBlock=function(){u(),g=b-1<0?m.length-1:b-1,f="prev",v()},t.slideTo=function(t){t===b||t>m.length-1||(u(),g=t,f=t>b?"next":"prev",v())},n.on("$destroy",function(){d()})}]}}),n.directive("pipSliderButton",function(){return{scope:{},controller:["$scope","$element","$parse","$attrs",function(e,o,n,i){var a=n(i.pipButtonType)(e),s=n(i.pipSliderId)(e);o.on("click",function(){s&&a&&t.element(document.getElementById(s)).scope()[a+"Block"]()})}]}}),n.directive("pipSliderIndicator",function(){return{scope:!1,controller:["$scope","$element","$parse","$attrs",function(e,o,n,i){var a=n(i.pipSliderId)(e),s=n(i.pipSlideTo)(e);o.css("cursor","pointer"),o.on("click",function(){!a||s&&s<0||t.element(document.getElementById(a)).scope().slideTo(s)})}]}}),n.service("$pipImageSlider",["$timeout",function(t){function e(e,o){e.removeClass("animated").addClass("pip-next"),t(function(){e.addClass("animated").addClass("pip-show").removeClass("pip-next"),o.addClass("animated").removeClass("pip-show")},100)}function n(e,o){e.removeClass("animated"),t(function(){e.addClass("animated").addClass("pip-show"),o.addClass("animated").addClass("pip-next").removeClass("pip-show"),t(function(){o.removeClass("pip-next").removeClass("animated")},a-100)},100)}function i(t,i,a,s,l){var r=o(i[a]),p=s,c=o(i[p]);"carousel"===t?(o(i).removeClass("pip-next").removeClass("pip-prev"),l&&"prev"===l&&n(c,r),l&&"next"===l&&e(c,r),(!l||"next"!==l&&"prev"!==l)&&s&&s<a?n(c,r):e(c,r)):(r.addClass("animated").removeClass("pip-show"),c.addClass("animated").addClass("pip-show"))}var a=550;return{nextCarousel:e,prevCarousel:n,toBlock:i}}])}(window.angular,window._,window.jQuery),function(t,e){"use strict";var o=t.module("pipInformationDialog",["ngMaterial","pipUtils","pipTranslate","pipBasicControls.Templates"]);o.config(["pipTranslateProvider",function(t){t.translations("en",{INFORMATION_TITLE:"Information"}),t.translations("ru",{INFORMATION_TITLE:"Информация"})}]),o.factory("pipInformationDialog",["$mdDialog",function(t){return{show:function(e,o){t.show({targetEvent:e.event,templateUrl:"information_dialog/information_dialog.html",controller:"pipInformationDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(){o&&o()})}}}]),o.controller("pipInformationDialogController",["$scope","$rootScope","$mdDialog","pipTranslate","params","pipUtils",function(t,o,n,i,a,s){var l,r;t.theme=o.$theme,t.title=a.title||"INFORMATION_TITLE",l=i.translate(a.message),a.item&&(r=e.truncate(a.item,25),l=s.sprintf(l,r)),t.content=l,t.ok=a.ok||"OK",t.onOk=function(){n.hide()}}])}(window.angular,window._),function(t,e,o){"use strict";var n=t.module("pipMarkdown",["ngSanitize","pipUtils","pipTranslate"]);n.config(["pipTranslateProvider",function(t){t.translations("en",{MARKDOWN_ATTACHMENTS:"Attachments:",checklist:"Checklist",documents:"Documents",pictures:"Pictures",location:"Location",time:"Time"}),t.translations("ru",{MARKDOWN_ATTACHMENTS:"Вложения:",checklist:"Список",documents:"Документы",pictures:"Изображения",location:"Местонахождение",time:"Время"})}]),n.directive("pipMarkdown",["$parse","pipUtils","pipTranslate",function(t,n,i){return{restrict:"EA",scope:!1,link:function(a,s,l){function r(t){var e="",n=[];return o.each(t,function(t){t.type&&"text"!==t.type&&(0===e.length&&(e=i.translate("MARKDOWN_ATTACHMENTS")),n.indexOf(t.type)<0&&(n.push(t.type),e+=n.length>1?", ":" ",e+=i.translate(t.type)))}),e}function p(t){var n,i,a,p,c;o.isArray(t)?(c=o.find(t,function(t){return"text"===t.type&&t.text}),n=c?c.text:r(t)):n=t,i=l.pipLineCount&&o.isNumber(u()),i=i&&n&&n.length>0,p={gfm:!0,tables:!0,breaks:!0,sanitize:!0,pedantic:!0,smartLists:!0,smartypents:!1},n=e(n||"",p),i&&(a=1.5*u()),s.html("<div"+(i?d()?'class="pip-markdown-content pip-markdown-list" style="max-height: '+a+'em">':' class="pip-markdown-content" style="max-height: '+a+'em">':d()?' class="pip-markdown-list">':">")+n+"</div>"),s.find("a").attr("target","blank"),!d()&&i&&s.append('<div class="pip-gradient-block"></div>')}var c=t(l.pipText),d=t(l.pipList),u=t(l.pipLineCount);p(c(a)),n.toBoolean(l.pipRebind)&&a.$watch(c,function(t){p(t)}),a.$on("pipWindowResized",function(){p(c(a))}),s.addClass("pip-markdown")}}}])}(window.angular,window.marked,window._),function(t,e,o){"use strict";var n=t.module("pipOptionsDialog",["ngMaterial","pipUtils","pipTranslate","pipBasicControls.Templates"]);n.config(["pipTranslateProvider",function(t){t.translations("en",{OPTIONS_TITLE:"Choose Option"}),t.translations("ru",{OPTIONS_TITLE:"Выберите опцию"})}]),n.factory("pipOptionsDialog",["$mdDialog",function(t){return{show:function(e,o,n){function i(){e.event&&e.event.currentTarget&&e.event.currentTarget.focus()}e.event&&(e.event.stopPropagation(),e.event.preventDefault()),t.show({targetEvent:e.event,templateUrl:"options_dialog/options_dialog.html",controller:"pipOptionsDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(t){i(),o&&o(t)},function(){i(),n&&n()})}}}]),n.controller("pipOptionsDialogController",["$scope","$rootScope","$mdDialog","params",function(t,n,i,a){function s(){var t;t=e(".pip-options-dialog .pip-list"),t.focus()}t.theme=n.$theme,t.title=a.title||"OPTIONS_TITLE",t.options=a.options,t.selectedOption=o.find(a.options,{active:!0})||{},t.selectedOptionName=t.selectedOption.name,t.applyButtonTitle=a.appleButtonTitle||"SELECT",t.deleted=a.deleted,t.deletedTitle=a.deletedTitle,t.onOptionSelect=function(e,o){e.stopPropagation(),t.selectedOptionName=o.name},t.onKeyPress=function(e){32!==e.keyCode&&13!==e.keyCode||(e.stopPropagation(),e.preventDefault(),t.onSelect())},t.onCancel=function(){i.cancel()},t.onSelect=function(){var e;e=o.find(a.options,{name:t.selectedOptionName}),i.hide({option:e,deleted:t.deleted})},setTimeout(s,500)}])}(window.angular,window.jQuery,window._),function(t,e,o){"use strict";var n=t.module("pipOptionsBigDialog",["ngMaterial","pipUtils","pipTranslate","pipBasicControls.Templates"]);n.config(["pipTranslateProvider",function(t){t.translations("en",{OPTIONS_TITLE:"Choose Option"}),t.translations("ru",{OPTIONS_TITLE:"Выберите опцию"})}]),n.factory("pipOptionsBigDialog",["$mdDialog",function(t){return{show:function(e,o,n){function i(){e.event&&e.event.currentTarget&&e.event.currentTarget.focus()}e.event&&(e.event.stopPropagation(),e.event.preventDefault()),t.show({targetEvent:e.event,templateUrl:"options_dialog/options_dialog_big.html",controller:"pipOptionsDialogBigController",locals:{params:e},clickOutsideToClose:!0}).then(function(t){i(),o&&o(t)},function(){i(),n&&n()})}}}]),n.controller("pipOptionsDialogBigController",["$scope","$rootScope","$mdDialog","params",function(t,n,i,a){function s(){var t;t=e(".pip-options-dialog .pip-list"),t.focus()}t.theme=n.$theme,t.title=a.title||"OPTIONS_TITLE",t.options=a.options,t.noActions=a.noActions||!1,t.noTitle=a.noTitle||!1,t.hint=a.hint||"",t.selectedOption=o.find(a.options,{active:!0})||{},t.selectedOptionName=t.selectedOption.name,t.optionIndex=o.findIndex(a.options,t.selectedOption),t.applyButtonTitle=a.applyButtonTitle||"SELECT",t.deleted=a.deleted,t.deletedTitle=a.deletedTitle,t.onOptionSelect=function(e,o){e.stopPropagation(),t.selectedOptionName=o.name,t.noActions&&t.onSelect()},t.onSelected=function(){t.selectedOptionName=t.options[t.optionIndex].name,t.noActions},t.onKeyUp=function(e,o){32!==e.keyCode&&13!==e.keyCode||(e.stopPropagation(),e.preventDefault(),void 0!==o&&o>-1&&o<t.options.length&&(t.selectedOptionName=t.options[o].name,t.onSelect()))},t.onCancel=function(){i.cancel()},t.onSelect=function(){var e;e=o.find(t.options,{name:t.selectedOptionName}),i.hide({option:e,deleted:t.deleted})},setTimeout(s,500)}])}(window.angular,window.jQuery,window._),function(t,e,o){"use strict";var n=t.module("pipPopover",["pipAssert"]);n.directive("pipPopover",function(){return{restrict:"EA",scope:!0,templateUrl:"popover/popover.template.html",controller:["$scope","$rootScope","$element","$timeout","$compile",function(t,n,i,a,s){function l(){g.addClass("opened"),e(".pip-popover-backdrop").focus(),t.params.timeout&&a(function(){p()},t.params.timeout)}function r(){t.params.cancelCallback&&t.params.cancelCallback(),p()}function p(){g.removeClass("opened"),a(function(){g.remove()},100)}function c(t){t.stopPropagation()}function d(){if(t.params.element){var o=e(t.params.element),n=o.offset(),i=o.width(),a=o.height(),s=e(document).width(),l=e(document).height(),r=g.find(".pip-popover");n&&r.css("max-width",s-(s-n.left)).css("max-height",l-(n.top+a)-32,0).css("left",n.left-r.width()+i/2).css("top",n.top+a+16)}}function u(){if(t.params.calcHeight!==!1){var e=g.find(".pip-popover"),o=e.find(".pip-title"),n=e.find(".pip-footer"),i=e.find(".pip-content"),a=e.height()-o.outerHeight(!0)-n.outerHeight(!0);i.css("max-height",Math.max(a,0)+"px").css("box-sizing","border-box")}}function m(){g.find(".pip-popover").find(".pip-content").css("max-height","100%"),d(),u()}var g,f;g=e(".pip-popover-backdrop"),g.on("click keydown scroll",r),g.addClass(t.params.responsive!==!1?"pip-responsive":""),a(function(){d(),t.params.template&&(f=s(t.params.template)(t),i.find(".pip-popover").append(f)),l()}),a(function(){u()},200),t.onPopoverClick=c,t=o.defaults(t,t.$parent),n.$on("pipPopoverResize",m),e(window).resize(m)}]}}),n.service("$pipPopover",["$compile","$rootScope","$timeout",function(t,n,i){function a(i){var a,l,p,c;a=e("body"),a.find("md-backdrop").length>0||(s(),l=n.$new(),p=i&&o.isObject(i)?i:{},l.params=p,l.locals=p.locals,c=t(r)(l),a.append(c))}function s(){var t=e(".pip-popover-backdrop");t.removeClass("opened"),i(function(){t.remove()},100)}function l(){n.$broadcast("pipPopoverResize")}var r;return r="<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller' tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>",{show:a,hide:s,resize:l}}])}(window.angular,window.jQuery,window._),function(t){"use strict";var e=t.module("pipRoutingProgress",["ngMaterial"]);e.directive("pipRoutingProgress",function(){return{restrict:"EA",replace:!0,templateUrl:"progress/routing_progress.html"}})}(window.angular),function(t){"use strict";var e=t.module("pipRefreshButton",["ngMaterial"]);e.directive("pipRefreshButton",["$parse",function(t){return{restrict:"EA",scope:!1,template:String()+'<md-button class="pip-refresh-button" tabindex="-1" ng-click="onClick($event)" aria-label="REFRESH"><md-icon md-svg-icon="icons:refresh"></md-icon><span class="pip-refresh-text"></span></md-button>',replace:!1,link:function(e,o,n){function i(){d.hide()}var a,s,l,r=t(n.pipText),p=t(n.pipVisible),c=t(n.pipRefresh),d=o.children(".md-button"),u=d.children(".pip-refresh-text");l=function(){s=r(e),u.text(s),d.show(),a=d.width(),d.css("margin-left","-"+a/2+"px")},e.onClick=function(){c(e)},e.$watch(p,function(t){t?l():i()}),e.$watch(r,function(t){u.text(t)})}}}])}(window.angular),function(t){"use strict";var e=t.module("pipTagList",["pipCore"]);e.directive("pipTagList",["$parse",function(t){return{restrict:"EA",scope:{pipTags:"=",pipType:"=",pipTypeLocal:"="},templateUrl:"tags/tag_list.html",controller:["$scope","$element","$attrs","pipUtils",function(e,o,n,i){var a;a=t(n.pipTags),o.css("display","block"),e.tags=a(e),i.toBoolean(n.pipRebind)&&e.$watch(a,function(){e.tags=a(e)}),o.addClass("pip-tag-list")}]}}])}(window.angular),function(t,e){"use strict";var o=t.module("pipToasts",["pipTranslate","ngMaterial","pipAssert"]);o.controller("pipToastController",["$scope","$mdToast","toast","pipErrorDetailsDialog",function(e,o,n,i){e.message=n.message,e.actions=n.actions,e.toast=n,0===n.actions.length?e.actionLenght=0:1===n.actions.length?e.actionLenght=n.actions[0].toString().length:e.actionLenght=null,e.onDetails=function(){o.hide(),i.show({error:e.toast.error,ok:"Ok"},t.noop,t.noop)},e.onAction=function(t){o.hide({action:t,id:n.id,message:n.message})}}]),o.service("pipToasts",["$rootScope","$mdToast","pipAssert",function(t,o,n){function i(){var t;T.length>0&&(t=T[0],T.splice(0,1),a(t))}function a(t){v=t,o.show({templateUrl:"toast/toast.html",hideDelay:t.duration||C,position:"bottom left",controller:"pipToastController",locals:{toast:v,sounds:y}}).then(function(t){v.successCallback&&v.successCallback(t),v=null,i()},function(t){v.cancelCallback&&v.cancelCallback(t),v=null,i()})}function s(t){v&&"error"!==t.type?T.push(t):a(t)}function l(t){var o=[];e.each(T,function(e){e.type&&e.type===t||o.push(e)}),T=e.cloneDeep(o)}function r(t){e.remove(T,{id:t})}function p(t){return e.find(T,{id:t})}function c(){T=e.reject(T,function(t){return"error"===t.type}),v&&"error"===v.type&&(o.cancel(),i())}function d(){h()}function u(t,e,o,i,a){n.isDef(t,"pipToasts.showNotification: message should be defined"),n.isString(t,"pipToasts.showNotification: message should be a string"),n.isArray(e||[],"pipToasts.showNotification: actions should be an array"),o&&n.isFunction(o,"showNotification: successCallback should be a function"),i&&n.isFunction(i,"showNotification: cancelCallback should be a function"),s({id:a||null,type:"notification",message:t,actions:e||["ok"],successCallback:o,cancelCallback:i,duration:b})}function m(t,e,o,i){n.isDef(t,"pipToasts.showMessage: message should be defined"),n.isString(t,"pipToasts.showMessage: message should be a string"),e&&n.isFunction(e,"pipToasts.showMessage:successCallback should be a function"),o&&n.isFunction(o,"pipToasts.showMessage: cancelCallback should be a function"),s({id:i||null,type:"message",message:t,actions:["ok"],successCallback:e,cancelCallback:o})}function g(t,e,o,i,a){n.isDef(t,"pipToasts.showError: message should be defined"),n.isString(t,"pipToasts.showError: message should be a string"),e&&n.isFunction(e,"pipToasts.showError: successCallback should be a function"),o&&n.isFunction(o,"pipToasts.showError: cancelCallback should be a function"),s({id:i||null,error:a,type:"error",message:t,actions:["ok"],successCallback:e,cancelCallback:o})}function f(){o.cancel(),T=[]}function h(t){t?(n.isString(t,"pipToasts.clearToasts: type should be a string"),l(t)):(o.cancel(),T=[])}var v,C=2e4,b=2e4,T=[],y={};return t.$on("$stateChangeSuccess",c),t.$on("pipSessionClosed",d),{showNotification:u,showMessage:m,showError:g,hideAllToasts:f,clearToasts:h,removeToastsById:r,getToastById:p}}])}(window.angular,window._),function(t,e){"use strict";var o=t.module("pipToggleButtons",["pipBasicControls.Templates"]);o.directive("pipToggleButtons",function(){return{restrict:"EA",scope:{ngDisabled:"&",buttons:"=pipButtons",currentButtonValue:"=ngModel",currentButton:"=?pipButtonObject",change:"&ngChange"},templateUrl:"toggle_buttons/toggle_buttons.html",controller:["$scope","$element","$attrs","$mdMedia","$timeout",function(t,o,n,i,a){var s;t.$mdMedia=i,t.class=n.class||"",(!t.buttons||e.isArray(t.buttons)&&0===t.buttons.length)&&(t.buttons=[]),s=e.indexOf(t.buttons,e.find(t.buttons,{id:t.currentButtonValue})),t.currentButtonIndex=s<0?0:s,t.currentButton=t.buttons.length>0?t.buttons[t.currentButtonIndex]:t.currentButton,t.buttonSelected=function(e){t.disabled()||(t.currentButtonIndex=e,t.currentButton=t.buttons[t.currentButtonIndex],t.currentButtonValue=t.currentButton.id||e,a(function(){t.change&&t.change()}))},t.enterSpacePress=function(e){t.buttonSelected(e.index)},t.disabled=function(){if(t.ngDisabled)return t.ngDisabled()}}],link:function(t,e){e.on("focusin",function(){e.addClass("focused-container")}).on("focusout",function(){e.removeClass("focused-container")})}}})}(window.angular,window._);