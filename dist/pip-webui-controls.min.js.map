{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/color_picker/ColorPicker.ts","src/dependencies/TranslateFilter.ts","src/image_slider/ImageSlider.ts","src/image_slider/ImageSliderService.ts","src/image_slider/SliderButton.ts","src/image_slider/SliderIndicator.ts","src/image_slider/index.ts","src/index.ts","src/markdown/Markdown.ts","src/popover/Popover.ts","src/popover/PopoverService.ts","src/popover/index.ts","src/progress/RoutingProgress.ts","src/toast/Toast.ts","src/toast/ToastService.ts","src/toast/index.ts","temp/pip-webui-controls-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","controls","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","ColorPickerBindings","ngDisabled","colors","currentColor","colorChange","DEFAULT_COLORS_1","ColorPickerChanges","ColorPickerController","$scope","$element","$attrs","$timeout","class","prototype","$onChanges","changes","_","isArray","currentValue","currentColorIndex","indexOf","selectColor","index","_this","$apply","enterSpacePress","event","pipColorPicker","bindings","templateUrl","controller","angular","component","translateFilter","$injector","pipTranslate","has","get","key","$inject","filter","Object","defineProperty","value","pipImageSliderController_1","$parse","$interval","pipImageSlider","_index","DEFAULT_INTERVAL","swipeStart","_type","type","_interval","interval","slideTo","slideToPrivate","addClass","setIndex","_blocks","find","$","startInterval","_throttled","throttle","toBlock","_newIndex","_direction","id","registerSlider","$on","stopInterval","removeSlider","nextBlock","restartInterval","prevBlock","nextIndex","pipImageIndex","sliderIndex","_timePromises","Number","cancel","bindToController","controllerAs","ImageSliderService","ANIMATION_DURATION","_sliders","sliderId","sliderScope","getSliderScope","nextCarousel","removeClass","prevCarousel","blocks","oldIndex","direction","blockIndex","5","on","vm","SliderButtonController_1","scope","6","css","undefined","SliderIndicatorController_1","7","./ImageSlider","./ImageSliderService","./SliderButton","./SliderIndicator","8","./dependencies/TranslateFilter","./image_slider","./markdown/Markdown","./popover","./progress/RoutingProgress","./toast","9","setTranslations","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","location","time","MarkdownBindings","text","isList","clamp","rebind","MarkdownController","MarkdownChanges","$postLink","bindText","_text","_$scope","newText","describeAttachments","array","attachTypes","attach","attachString","_pipTranslate","translate","push","textString","isClamped","height","options","obj","item","isNumber","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","html","attr","append","run","ConfigTranslations","MarkdownComponent","PopoverController","$rootScope","$compile","$templateRequest","backdropElement","backdropClick","params","responsive","position","extend","locals","template","content","init","then","calcHeight","onResize","resize","cancelCallback","closePopover","remove","onPopoverClick","stopPropagation","focus","timeout","element","pos","offset","width","docWidth","document","docHeight","popover","left","top","title","footer","contentHeight","outerHeight","Math","max","PopoverBindings","Popover","PopoverService","popoverTemplate","show","p","hide","$new","isObject","$broadcast","service","./PopoverService","13","RoutingBindings","showProgress","RoutingController","_image","loadProgressImage","logoUrl","RoutingProgress","14","Toast","ToastController_1","$mdToast","toast","_pipErrorDetailsDialog","message","actions","actionLenght","toString","onDetails","error","ok","noop","onAction","action","ToastService","SHOW_TIMEOUT","SHOW_TIMEOUT_NOTIFICATIONS","toasts","sounds","onStateChangeSuccess","onClearToasts","showNextToast","splice","showToast","hideDelay","duration","currentToast","showToastOkResult","showToastCancelResult","successCallback","addToast","removeToasts","result","each","cloneDeep","removeToastsById","getToastById","clearToasts","showNotification","showMessage","showError","hideAllToasts","16","./Toast","./ToastService","17","$templateCache","put"],"mappings":"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","file":"pip-webui-controls.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","{\n    interface IColorPickerBindings {\n        [key: string]: any;\n\n        ngDisabled: any;\n        colors: any;\n        currentColor: any;\n        colorChange: any;\n    }\n\n    interface IColorPickerAttributes extends ng.IAttributes {\n        class: string;\n    }\n\n    const ColorPickerBindings: IColorPickerBindings = {\n        ngDisabled: '<?ngDisabled',\n        colors: '<pipColors',\n        currentColor: '=ngModel',\n        colorChange: '&?ngChange'\n    }\n\n    class ColorPickerChanges implements ng.IOnChangesObject, IColorPickerBindings {\n        [key: string]: ng.IChangesObject < any > ;\n\n        colorChange: ng.IChangesObject < () => ng.IPromise < any >> ;\n        currentColor: any;\n\n        ngDisabled: ng.IChangesObject < boolean > ;\n        colors: ng.IChangesObject < string[] > ;\n    }\n\n    const DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\n\n    class ColorPickerController implements IColorPickerBindings {\n        public class: string;\n        public colors: string[];\n        public currentColor: string;\n        public currentColorIndex: number;\n        public ngDisabled: boolean;\n        public colorChange: Function;\n\n        constructor(\n            private $scope: ng.IScope,\n            private $element: JQuery,\n            $attrs: IColorPickerAttributes,\n            private $timeout: ng.ITimeoutService\n        ) { \n            this.class = $attrs.class || ''; \n        }\n\n        public $onChanges(changes: ColorPickerChanges) {\n            this.colors = changes.colors && _.isArray(changes.colors.currentValue) && changes.colors.currentValue.length !== 0 ?\n                changes.colors.currentValue : DEFAULT_COLORS;\n            this.currentColor = this.currentColor || this.colors[0];\n            this.currentColorIndex = this.colors.indexOf(this.currentColor);\n\n            this.ngDisabled = changes.ngDisabled.currentValue;\n        }\n\n        public selectColor(index: number) {\n            if (this.ngDisabled) {\n                return;\n            }\n            this.currentColorIndex = index;\n            this.currentColor = this.colors[this.currentColorIndex];\n            this.$timeout(() => {\n                this.$scope.$apply();\n            });\n\n            if (this.colorChange) {\n                this.colorChange();\n            }\n        };\n\n        public enterSpacePress(event): void {\n            this.selectColor(event.index);\n        };\n\n    }\n\n    const pipColorPicker: ng.IComponentOptions = {\n        bindings: ColorPickerBindings,\n        templateUrl: 'color_picker/ColorPicker.html',\n        controller: ColorPickerController\n    }\n\n    angular\n        .module('pipColorPicker', ['pipControls.Templates'])\n        .component('pipColorPicker', pipColorPicker);\n\n}","{\n    function translateFilter($injector: ng.auto.IInjectorService) {\n        const pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        return function (key: string) {\n            return pipTranslate ? pipTranslate['translate'](key) || key : key;\n        }\n    }\n\n    angular\n        .module('pipControls.Translate', [])\n        .filter('translate', translateFilter);\n}\n","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class pipImageSliderController implements ng.IController {\n        private _blocks: any[];\n        private _index: number = 0;\n        private _newIndex: number;\n        private _direction: string;\n        private _type: string;\n        private DEFAULT_INTERVAL:number = 4500;\n        private _interval: number | string;\n        private _timePromises;\n        private _throttled: Function;\n\n        public swipeStart: number = 0;\n        public sliderIndex: number;\n        public slideTo: Function;\n        public type: Function;\n        public interval: Function;\n\n        constructor(\n            private $scope: ng.IScope,\n            private $element: JQuery,\n            private $attrs,\n            private $parse: ng.IParseService,\n            private $timeout: angular.ITimeoutService,\n            private $interval: angular.IIntervalService,\n            private pipImageSlider: IImageSliderService\n        ) {\n\n            //this.sliderIndex = $scope['vm']['sliderIndex'];\n            this._type = this.type();\n            this._interval = this.interval();\n            this.slideTo = this.slideToPrivate;\n\n            $element.addClass('pip-image-slider');\n            $element.addClass('pip-animation-' + this._type);\n\n            this.setIndex();\n\n            $timeout(() => {\n                this._blocks = <any>$element.find('.pip-animation-block');\n                if (this._blocks.length > 0) {\n                    $(this._blocks[0]).addClass('pip-show');\n                }\n            });\n\n            this.startInterval();\n\n            this._throttled = _.throttle(() => {\n                pipImageSlider.toBlock(this._type, this._blocks, this._index, this._newIndex, this._direction);\n                this._index = this._newIndex;\n                this.setIndex();\n            }, 700);\n\n            if ($attrs.id) {\n                pipImageSlider.registerSlider($attrs.id, $scope)\n            }\n\n            $scope.$on('$destroy', () => {\n                this.stopInterval();\n                pipImageSlider.removeSlider($attrs.id);\n            });\n\n        }\n\n        public nextBlock() {\n            this.restartInterval();\n            this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\n            this._direction = 'next';\n            this._throttled();\n        }\n\n        public prevBlock() {\n            this.restartInterval();\n            this._newIndex = this._index - 1 < 0 ? this._blocks.length - 1 : this._index - 1;\n            this._direction = 'prev';\n            this._throttled();\n        }\n\n        private slideToPrivate(nextIndex: number) {\n            if (nextIndex === this._index || nextIndex > this._blocks.length - 1) {\n                return;\n            }\n\n            this.restartInterval();\n            this._newIndex = nextIndex;\n            this._direction = nextIndex > this._index ? 'next' : 'prev';\n            this._throttled();\n        }\n\n        private setIndex() {\n            if (this.$attrs.pipImageIndex) this.sliderIndex = this._index;\n        }\n\n        private startInterval() {\n            this._timePromises = this.$interval(() => {\n                this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\n                this._direction = 'next';\n                this._throttled();\n            }, Number(this._interval || this.DEFAULT_INTERVAL));\n        }\n\n        private stopInterval() {\n            this.$interval.cancel(this._timePromises);\n        }\n\n        private restartInterval() {\n            this.stopInterval();\n            this.startInterval();\n        }\n    }\n\n    const ImageSlider = function(): ng.IDirective {\n        return {\n            scope: {\n                sliderIndex: '=pipImageIndex',\n                type: '&pipAnimationType',\n                interval: '&pipAnimationInterval'\n            },\n            bindToController: true,\n            controller: pipImageSliderController,\n            controllerAs: 'vm'\n        };\n    }\n\n    angular.module('pipImageSlider')\n        .directive('pipImageSlider', ImageSlider);\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class ImageSliderService implements IImageSliderService {\n        private ANIMATION_DURATION: number = 550;\n        private _sliders: Object = {};\n\n        constructor(\n            private $timeout: angular.ITimeoutService\n        ) {}\n\n        public registerSlider(sliderId: string, sliderScope: ng.IScope): void {\n            this._sliders[sliderId] = sliderScope;\n        }\n\n        public removeSlider(sliderId: string): void {\n            delete this._sliders[sliderId];\n        }\n\n        public getSliderScope(sliderId: string) {\n            return this._sliders[sliderId];\n        }\n\n        public nextCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\n            nextBlock.addClass('pip-next');\n\n            this.$timeout(() => {\n                nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\n                prevBlock.addClass('animated').removeClass('pip-show');\n            }, 100);\n        }\n\n        public prevCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\n            this.$timeout(() => {\n                nextBlock.addClass('animated').addClass('pip-show');\n                prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\n            }, 100);\n        }\n\n        public toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void {\n            const prevBlock = $(blocks[oldIndex]),\n                blockIndex = nextIndex,\n                nextBlock = $(blocks[blockIndex]);\n\n            if (type === 'carousel') {\n                $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\n\n                if (direction && (direction === 'prev' || direction === 'next')) {\n                    if (direction === 'prev') {\n                        this.prevCarousel(nextBlock, prevBlock);\n                    } else {\n                        this.nextCarousel(nextBlock, prevBlock);\n                    }\n                } else {\n                    if (nextIndex && nextIndex < oldIndex) {\n                        this.prevCarousel(nextBlock, prevBlock);\n                    } else {\n                        this.nextCarousel(nextBlock, prevBlock);\n                    }\n                }\n            } else {\n                prevBlock.addClass('animated').removeClass('pip-show');\n                nextBlock.addClass('animated').addClass('pip-show');\n            }\n        }\n    }\n\n    angular\n        .module('pipImageSlider.Service', [])\n        .service('pipImageSlider', ImageSliderService);\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class SliderButtonController implements ng.IController {\n        public direction: Function;\n        public sliderId: Function;\n\n        constructor(\n            $element: JQuery,\n            pipImageSlider: IImageSliderService\n        ) {\n            $element.on('click', () => {\n                if (!this.sliderId() || !this.direction()) {\n                    return;\n                }\n\n                pipImageSlider.getSliderScope(this.sliderId()).vm[this.direction() + 'Block']();\n            });\n        }\n    }\n\n    const SliderButton = function (): ng.IDirective {\n        return {\n            scope: {\n                direction: '&pipButtonType',\n                sliderId: '&pipSliderId'\n            },\n            controllerAs: '$ctlr',\n            bindToController: true,\n            controller: SliderButtonController\n        };\n    }\n\n    angular\n        .module('pipSliderButton', [])\n        .directive('pipSliderButton', SliderButton);\n\n}","import { IImageSliderService } from './IImageSliderService';\n\n{\n    class SliderIndicatorController implements ng.IController {\n        public slideTo: Function;\n        public sliderId: Function;\n\n        constructor(\n            $element: JQuery,\n            pipImageSlider: IImageSliderService\n        ) {\n            $element.css('cursor', 'pointer');\n            $element.on('click', () => {\n                if (!this.sliderId() || this.slideTo() === undefined) {\n                    return;\n                }\n\n                pipImageSlider.getSliderScope(this.sliderId()).vm.slideTo(this.slideTo());\n            });\n        }\n    }\n\n    const SliderIndicator = function (): ng.IDirective {\n        return {\n            scope: {\n                slideTo: '&pipSlideTo',\n                sliderId: '&pipSliderId'\n            },\n            controllerAs: '$ctlr',\n            bindToController: true,\n            controller: SliderIndicatorController\n        }\n    }\n\n    angular\n        .module('pipSliderIndicator', [])\n        .directive('pipSliderIndicator', SliderIndicator);\n}","angular\n    .module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\n\nimport './ImageSlider';\nimport './ImageSliderService';\nimport './SliderButton';\nimport './SliderIndicator';\n\nexport * from './IImageSliderService';","﻿import './dependencies/TranslateFilter';\nimport './color_picker/ColorPicker';\nimport './image_slider';\nimport './markdown/Markdown';\nimport './popover';\nimport './progress/RoutingProgress';\nimport './toast';\n\nangular.module('pipControls', [\n    'pipMarkdown',\n    'pipColorPicker',\n    'pipRoutingProgress',\n    'pipPopover',\n    'pipImageSlider',\n    'pipToasts',\n    'pipControls.Translate'\n]);\n\nexport * from './image_slider';\nexport * from './popover';\nexport * from './toast';","declare var marked: any;\n\n{\n  const ConfigTranslations = ($injector: ng.auto.IInjectorService) => {\n        const pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            (<any>pipTranslate).setTranslations('en', {\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\n                'checklist': 'Checklist',\n                'documents': 'Documents',\n                'pictures': 'Pictures',\n                'location': 'Location',\n                'time': 'Time'\n            });\n            (<any>pipTranslate).setTranslations('ru', {\n                'MARKDOWN_ATTACHMENTS': 'Вложения:',\n                'checklist': 'Список',\n                'documents': 'Документы',\n                'pictures': 'Изображения',\n                'location': 'Местонахождение',\n                'time': 'Время'\n            });\n        }\n    }\n\n    interface IMarkdownBindings {\n        [key: string]: any;\n\n        text: any;\n        isList: any;\n        clamp: any;\n        rebind: any;\n    }\n\n    const MarkdownBindings: IMarkdownBindings = {\n        text: '<pipText',\n        isList: '<?pipList',\n        clamp: '<?pipLineCount',\n        rebind: '<?pipRebind'\n    }\n\n    class MarkdownChanges implements ng.IOnChangesObject, IMarkdownBindings {\n        [key: string]: ng.IChangesObject < any > ;\n\n        text: ng.IChangesObject < string > ;\n        isList: ng.IChangesObject < boolean > ;\n        clamp: ng.IChangesObject < number | string > ;\n        rebind: ng.IChangesObject < boolean > ;\n    }\n\n    class MarkdownController implements IMarkdownBindings, ng.IController {\n        private _pipTranslate;\n\n        public text: string;\n        public isList: boolean;\n        public clamp: string | number;\n        public rebind: boolean;\n\n        constructor(\n            private $scope: angular.IScope,\n            private $element: JQuery,\n            $injector: ng.auto.IInjectorService\n        ) {\n            this._pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n        }\n\n        public $postLink() {\n            // Fill the text\n            this.bindText(this.text);\n\n            this.$scope.$on('pipWindowResized', function () {\n                if (this.bindText) this.bindText(this._text(this._$scope));\n            });\n\n            // Add class\n            this.$element.addClass('pip-markdown');\n\n        }\n\n        public $onChanges(changes: MarkdownChanges) {\n            const newText = changes.text.currentValue;\n\n            if (this.rebind) {\n                this.text = newText;\n                this.bindText(this.text);\n            }\n        }\n\n        private describeAttachments(array) {\n            var attachString = '',\n                attachTypes = [];\n\n            _.each(array, function (attach) {\n                if (attach.type && attach.type !== 'text') {\n                    if (attachString.length === 0 && this._pipTranslate) {\n                        attachString = this._pipTranslate.translate('MARKDOWN_ATTACHMENTS');\n                    }\n\n                    if (attachTypes.indexOf(attach.type) < 0) {\n                        attachTypes.push(attach.type);\n                        attachString += attachTypes.length > 1 ? ', ' : ' ';\n                        if (this._pipTranslate)\n                            attachString += this._pipTranslate.translate(attach.type);\n                    }\n                }\n            });\n\n            return attachString;\n        }\n\n        private bindText(value) {\n            let textString, isClamped, height, options, obj;\n\n            if (_.isArray(value)) {\n                obj = _.find(value, function (item: any) {\n                    return item.type === 'text' && item.text;\n                });\n\n                textString = obj ? obj.text : this.describeAttachments(value);\n            } else {\n                textString = value;\n            }\n\n            isClamped = this.clamp && _.isNumber(this.clamp);\n            isClamped = isClamped && textString && textString.length > 0;\n            options = {\n                gfm: true,\n                tables: true,\n                breaks: true,\n                sanitize: true,\n                pedantic: true,\n                smartLists: true,\n                smartypents: false\n            };\n            textString = marked(textString || '', options);\n            if (isClamped) {\n                height = 1.5 * Number(this.clamp);\n            }\n            // Assign value as HTML\n            this.$element.html('<div' + (isClamped ? this.isList ? 'class=\"pip-markdown-content ' +\n                'pip-markdown-list\" style=\"max-height: ' + height + 'em\">' :\n                ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : this.isList ?\n                ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\n            this.$element.find('a').attr('target', 'blank');\n            if (!this.isList && isClamped) {\n                this.$element.append('<div class=\"pip-gradient-block\"></div>');\n            }\n        }\n    }\n    const MarkdownComponent = {\n        controller: MarkdownController,\n        bindings: MarkdownBindings\n    }\n\n    angular\n        .module('pipMarkdown', ['ngSanitize'])\n        .run(ConfigTranslations)\n        .component('pipMarkdown', MarkdownComponent);\n}","{\n    interface IPopoverBindings {\n        [key: string]: any;\n\n        params: any;\n    }\n\n    const PopoverBindings: IPopoverBindings = {\n        params: '<pipParams'\n    }\n\n    class PopoverController implements IPopoverBindings, ng.IController {\n        private backdropElement;\n        private content;\n        public params: any;\n\n        constructor(\n            private $scope: ng.IScope,\n            $rootScope: ng.IRootScopeService,\n            $element: JQuery,\n            private $timeout: ng.ITimeoutService,\n            private $compile: ng.ICompileService,\n            private $templateRequest: ng.ITemplateRequestService\n        ) {\n            this.backdropElement = $('.pip-popover-backdrop');\n            this.backdropElement.on('click keydown scroll', () => {\n                this.backdropClick();\n            });\n            this.backdropElement.addClass(this.params.responsive !== false ? 'pip-responsive' : '');\n\n            $timeout(() => {\n                this.position();\n                angular.extend($scope, this.params.locals);\n\n                if (this.params.template) {\n                    this.content = $compile(this.params.template)($scope);\n                    $element.find('.pip-popover').append(this.content);\n\n                    this.init();\n                } else {\n                    this.$templateRequest(this.params.templateUrl, false).then((html) => {\n                        this.content = $compile(html)($scope);\n                        $element.find('.pip-popover').append(this.content);\n\n                        this.init();\n                    });\n                }\n            });\n\n            $timeout(() => {\n                this.calcHeight();\n            }, 200);\n            $rootScope.$on('pipPopoverResize', () => {\n                this.onResize()\n            });\n            $(window).resize(() => {\n                this.onResize()\n            });\n        }\n\n        public backdropClick() {\n            if (this.params.cancelCallback) {\n                this.params.cancelCallback();\n            }\n            this.closePopover();\n        }\n\n        public closePopover() {\n            this.backdropElement.removeClass('opened');\n            this.$timeout(() => {\n                this.backdropElement.remove();\n            }, 100);\n        }\n\n        public onPopoverClick(event) {\n            event.stopPropagation();\n        }\n\n        private init() {\n            this.backdropElement.addClass('opened');\n            $('.pip-popover-backdrop').focus();\n            if (this.params.timeout) {\n                this.$timeout(function () {\n                    this.closePopover();\n                }, this.params.timeout);\n            }\n        }\n\n        private position() {\n            if (this.params.element) {\n                let element = $(this.params.element),\n                    pos = element.offset(),\n                    width = element.width(),\n                    height = element.height(),\n                    docWidth = $(document).width(),\n                    docHeight = $(document).height(),\n                    popover = this.backdropElement.find('.pip-popover');\n\n                if (pos) {\n                    popover\n                        .css('max-width', docWidth - (docWidth - pos.left))\n                        .css('max-height', docHeight - (pos.top + height) - 32, 0)\n                        .css('left', pos.left - popover.width() + width / 2)\n                        .css('top', pos.top + height + 16);\n                }\n            }\n        }\n\n        private onResize() {\n            this.backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\n            this.position();\n            this.calcHeight();\n        }\n\n        private calcHeight() {\n            if (this.params.calcHeight === false) {\n                return;\n            }\n            const popover = this.backdropElement.find('.pip-popover'),\n                title = popover.find('.pip-title'),\n                footer = popover.find('.pip-footer'),\n                content = popover.find('.pip-content'),\n                contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\n            content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\n        }\n    }\n\n    const Popover: ng.IComponentOptions = {\n        bindings: PopoverBindings,\n        templateUrl: 'popover/Popover.html',\n        controller: PopoverController\n    }\n\n    angular\n        .module('pipPopover')\n        .component('pipPopover', Popover);\n}","import { IPopoverService } from './IPopoverService';\n\n{\n    interface PopoverTemplateScope extends ng.IScope {\n        params ? : any;\n        locals ? : any;\n    }\n\n    class PopoverService implements IPopoverService {\n        private popoverTemplate: string;\n\n        constructor(\n            private $compile: ng.ICompileService,\n            private $rootScope: ng.IRootScopeService,\n            private $timeout: ng.ITimeoutService\n        ) {\n            this.popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\n        }\n\n        public show(p: Object) {\n            let element: JQuery, scope: PopoverTemplateScope, params: any, content: ng.IRootElementService;\n\n            element = $('body');\n            if (element.find('md-backdrop').length > 0) {\n                return;\n            }\n            this.hide();\n            scope = this.$rootScope.$new();\n            params = p && _.isObject(p) ? p : {};\n            scope.params = params;\n            scope.locals = params.locals;\n            content = this.$compile(this.popoverTemplate)(scope);\n            element.append(content);\n        }\n\n        public hide() {\n            const backdropElement = $('.pip-popover-backdrop');\n            backdropElement.removeClass('opened');\n            this.$timeout(() => {\n                backdropElement.remove();\n            }, 100);\n        }\n\n        public resize() {\n            this.$rootScope.$broadcast('pipPopoverResize');\n        }\n    }\n\n    angular\n        .module('pipPopover.Service', [])\n        .service('pipPopoverService', PopoverService);\n}","angular.module('pipPopover', ['pipPopover.Service']);\n\nimport './Popover';\nimport './PopoverService';\n\nexport * from './IPopoverService';","{\n    interface IRoutingBindings {\n        [key: string]: any;\n\n        logoUrl: any;\n        showProgress: any;\n    }\n\n    const RoutingBindings: IRoutingBindings = {\n        showProgress: '&',\n        logoUrl: '@'\n    }\n\n    class RoutingController implements ng.IController, IRoutingBindings {\n        private _image: any;\n\n        public logoUrl: string;\n        public showProgress: Function;\n\n        constructor(\n            $scope: ng.IScope,\n            private $element: JQuery\n        ) { }\n\n        public $postLink() {\n            this._image = this.$element.find('img');\n            this.loadProgressImage();\n        }\n\n        public loadProgressImage() {\n            if (this.logoUrl) {\n                this._image.attr('src', this.logoUrl);\n            }\n        }\n    }\n\n    const RoutingProgress: ng.IComponentOptions = {\n        bindings: RoutingBindings,\n        templateUrl: 'progress/RoutingProgress.html',\n        controller: RoutingController\n    }\n\n    angular\n        .module('pipRoutingProgress', ['ngMaterial'])\n        .component('pipRoutingProgress', RoutingProgress);\n}","export class Toast {\n    type: string;\n    id: string;\n    error: any;\n    message: string;\n    actions: string[];\n    duration: number;\n    successCallback: Function;\n    cancelCallback: Function\n}\n","import { Toast } from './Toast';\nimport { IToastService } from './IToastService';\n\n{\n    class ToastController {\n        private _pipErrorDetailsDialog;\n\n        public message: string;\n        public actions: string[];\n        public actionLenght: number;\n        public showDetails: boolean;\n\n        constructor(\n            private $mdToast: angular.material.IToastService,\n            public toast: Toast,\n            $injector: ng.auto.IInjectorService\n        ) {\n            this._pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') ?\n                $injector.get('pipErrorDetailsDialog') : null;\n            this.message = toast.message;\n            this.actions = toast.actions;\n\n            if (toast.actions.length === 0) {\n                this.actionLenght = 0;\n            } else {\n                this.actionLenght = toast.actions.length === 1 ? toast.actions[0].toString().length : null;\n            }\n\n            this.showDetails = this._pipErrorDetailsDialog != null;\n        }\n\n        public onDetails(): void {\n            this.$mdToast.hide();\n            if (this._pipErrorDetailsDialog) {\n                this._pipErrorDetailsDialog.show({\n                        error: this.toast.error,\n                        ok: 'Ok'\n                    },\n                    angular.noop,\n                    angular.noop\n                );\n            }\n        }\n\n        public onAction(action): void {\n            this.$mdToast.hide({\n                action: action,\n                id: this.toast.id,\n                message: this.message\n            });\n        }\n    }\n\n    class ToastService implements IToastService {\n        private SHOW_TIMEOUT: number = 20000;\n        private SHOW_TIMEOUT_NOTIFICATIONS: number = 20000;\n        private toasts: Toast[] = [];\n        private currentToast: any;\n        private sounds: any = {};\n\n        constructor(\n            $rootScope: ng.IRootScopeService,\n            private $mdToast: angular.material.IToastService\n        ) {\n            $rootScope.$on('$stateChangeSuccess', () => { this.onStateChangeSuccess() });\n            $rootScope.$on('pipSessionClosed', () => { this.onClearToasts() });\n            $rootScope.$on('pipIdentityChanged', () => { this.onClearToasts() });\n        }\n\n        public showNextToast(): void {\n            let toast: Toast;\n\n            if (this.toasts.length > 0) {\n                toast = this.toasts[0];\n                this.toasts.splice(0, 1);\n                this.showToast(toast);\n            }\n        }\n\n        // Show toast\n        public showToast(toast: Toast): void {\n            this.currentToast = toast;\n\n            this.$mdToast.show({\n                    templateUrl: 'toast/Toast.html',\n                    hideDelay: toast.duration || this.SHOW_TIMEOUT,\n                    position: 'bottom left',\n                    controller: ToastController,\n                    controllerAs: 'vm',\n                    locals: {\n                        toast: this.currentToast,\n                        sounds: this.sounds\n                    }\n                })\n                .then(\n                    (action: string) => {\n                        this.showToastOkResult(action);\n                    },\n                    (action: string) => {\n                        this.showToastCancelResult(action);\n                    }\n                );\n        }\n\n        private showToastCancelResult(action: string): void {\n            if (this.currentToast.cancelCallback) {\n                this.currentToast.cancelCallback(action);\n            }\n            this.currentToast = null;\n            this.showNextToast();\n        }\n\n        private showToastOkResult(action: string): void {\n            if (this.currentToast.successCallback) {\n                this.currentToast.successCallback(action);\n            }\n            this.currentToast = null;\n            this.showNextToast();\n        }\n\n        public addToast(toast): void {\n            if (this.currentToast && toast.type !== 'error') {\n                this.toasts.push(toast);\n            } else {\n                this.showToast(toast);\n            }\n        }\n\n        public removeToasts(type: string): void {\n            const result: any[] = [];\n            _.each(this.toasts, (toast) => {\n                if (!toast.type || toast.type !== type) {\n                    result.push(toast);\n                }\n            });\n            this.toasts = _.cloneDeep(result);\n        }\n\n        public removeToastsById(id: string): void {\n            _.remove(this.toasts, {\n                id: id\n            });\n        }\n\n        public getToastById(id: string): Toast {\n            return _.find(this.toasts, {\n                id: id\n            });\n        }\n\n        public onStateChangeSuccess() {}\n\n        public onClearToasts(): void {\n            this.clearToasts(null);\n        }\n\n        public showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string) {\n            this.addToast({\n                id: id || null,\n                type: 'notification',\n                message: message,\n                actions: actions || ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback,\n                duration: this.SHOW_TIMEOUT_NOTIFICATIONS\n            });\n        }\n\n        public showMessage(message: string, successCallback, cancelCallback, id ? : string) {\n            this.addToast({\n                id: id || null,\n                type: 'message',\n                message: message,\n                actions: ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback\n            });\n        }\n\n        public showError(message: string, successCallback, cancelCallback, id: string, error: any) {\n            this.addToast({\n                id: id || null,\n                error: error,\n                type: 'error',\n                message: message || 'Unknown error.',\n                actions: ['ok'],\n                successCallback: successCallback,\n                cancelCallback: cancelCallback\n            });\n        }\n\n        public hideAllToasts(): void {\n            this.$mdToast.cancel();\n            this.toasts = [];\n        }\n\n        public clearToasts(type ? : string) {\n            if (type) {\n                // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\n                this.removeToasts(type);\n            } else {\n                this.$mdToast.cancel();\n                this.toasts = [];\n            }\n        }\n\n    }\n\n    angular\n        .module('pipToasts')\n        .service('pipToasts', ToastService);\n}","angular.module('pipToasts', ['ngMaterial', 'pipControls.Translate'])\n\nimport './ToastService';\nimport './Toast';\n\nexport * from './IToastService';","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/ColorPicker.html',\n    '<ul class=\"pip-color-picker {{$ctrl.class}}\" pip-selected=\"$ctrl.currentColorIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in $ctrl.colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"$ctrl.selectColor($index)\" aria-label=\"color\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == $ctrl.currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/Popover.html',\n    '<div class=\"pip-popover\" ng-click=\"$ctrl.params.onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/RoutingProgress.html',\n    '<div class=\"layout-column layout-align-center-center\" ng-show=\"$ctrl.showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/Toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': vm.toast.type==\\'error\\', \\'pip-column-toast\\': vm.toast.actions.length > 1 || vm.actionLenght > 4, \\'pip-no-action-toast\\': vm.actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"vm.message\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"vm.actions.length > 0 || (vm.toast.type==\\'error\\' && vm.toast.error)\"><div class=\"flex\" ng-if=\"vm.toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"vm.toast.type==\\'error\\' && vm.toast.error && vm.showDetails\" ng-click=\"vm.onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"vm.onAction(action)\" ng-repeat=\"action in vm.actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n"]}