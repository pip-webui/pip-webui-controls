{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/color_picker/color_picker.ts","src/controls.ts","src/dependencies/translate.ts","src/image_slider/image_slider.ts","src/image_slider/image_slider_service.ts","src/image_slider/slider_button.ts","src/image_slider/slider_indicator.ts","src/markdown/markdown.ts","src/popover/popover.ts","src/popover/popover_service.ts","src/progress/routing_progress.ts","src/toast/toasts.ts","temp/pip-webui-controls-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","controls","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","thisModule","angular","directive","restrict","scope","ngDisabled","colors","currentColor","colorChange","templateUrl","controller","$scope","$element","$attrs","$timeout","DEFAULT_COLORS","class","_","isArray","currentColorIndex","indexOf","disabled","selectColor","index","$apply","enterSpacePress","event","filter","$injector","pipTranslate","has","get","key","translate","sliderIndex","$parse","$interval","$pipImageSlider","setIndex","pipImageIndex","startInterval","timePromises","newIndex","blocks","direction","throttled","interval","DEFAULT_INTERVAL","stopInterval","cancel","restartInterval","type","pipAnimationType","pipAnimationInterval","addClass","swipeStart","find","$","throttle","toBlock","nextBlock","prevBlock","slideTo","nextIndex","id","registerSlider","on","removeSlider","service","register","sliderId","sliderScope","sliders","remove","getSlider","nextCarousel","removeClass","prevCarousel","oldIndex","blockIndex","getSliderScope","pipButtonType","pipSliderId","pipSlideTo","css","run","setTranslations","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","location","time","link","describeAttachments","array","attachString","attachTypes","each","attach","push","toBoolean","value","toString","toLowerCase","bindText","textString","isClamped","height","options","obj","item","text","pipLineCount","isNumber","clampGetter","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","html","listGetter","attr","append","textGetter","pipText","pipList","pipRebind","$watch","newValue","$on","$rootScope","$compile","init","backdropElement","focus","params","timeout","closePopover","backdropClick","cancelCallback","onPopoverClick","$e","stopPropagation","position","element","pos","offset","width","docWidth","document","docHeight","popover","left","top","calcHeight","title","footer","content","contentHeight","outerHeight","Math","max","onResize","responsive","template","defaults","$parent","resize","onShow","p","onHide","$new","isObject","locals","popoverTemplate","$broadcast","show","hide","replace","showProgress","logoUrl","loadProgressImage","image","children","$mdToast","toast","pipErrorDetailsDialog","message","actions","actionLenght","showDetails","onDetails","error","ok","noop","onAction","action","showNextToast","toasts","splice","showToast","currentToast","hideDelay","duration","SHOW_TIMEOUT","sounds","then","successCallback","addToast","removeToasts","result","cloneDeep","removeToastsById","getToastById","onStateChangeSuccess","onClearToasts","clearToasts","showNotification","SHOW_TIMEOUT_NOTIFICATIONS","showMessage","showError","hideAllToasts","$templateCache","put"],"mappings":"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","file":"pip-webui-controls.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipColorPicker', [ 'pipControls.Templates']); // 'pipFocused',\n\n    thisModule.directive('pipColorPicker',\n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    ngDisabled: '&',\n                    colors: '=pipColors',\n                    currentColor: '=ngModel',\n                    colorChange: '&ngChange'\n                },\n                templateUrl: 'color_picker/color_picker.html',\n                controller: 'pipColorPickerController'\n            };\n        }\n    );\n    thisModule.controller('pipColorPickerController',\n        function ($scope, $element, $attrs, $timeout) {\n            var\n                DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\n\n            $scope.class = $attrs.class || '';\n\n            if (!$scope.colors || _.isArray($scope.colors) && $scope.colors.length === 0) {\n                $scope.colors = DEFAULT_COLORS;\n            }\n\n            $scope.currentColor = $scope.currentColor || $scope.colors[0];\n            $scope.currentColorIndex = $scope.colors.indexOf($scope.currentColor);\n\n            $scope.disabled = function () {\n                if ($scope.ngDisabled) {\n                    return $scope.ngDisabled();\n                }\n\n                return true;\n            };\n\n            $scope.selectColor = function (index) {\n                if ($scope.disabled()) {\n                    return;\n                }\n                $scope.currentColorIndex = index;\n\n                $scope.currentColor = $scope.colors[$scope.currentColorIndex];\n\n                $timeout(function () {\n                    $scope.$apply();\n                });\n\n                if ($scope.colorChange) {\n                    $scope.colorChange();\n                }\n            };\n\n            $scope.enterSpacePress = function (event) {\n                $scope.selectColor(event.index);\n            };\n        }\n    );\n\n})();\n","﻿/// <reference path=\"../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    angular.module('pipControls', [\n        'pipMarkdown',\n        'pipColorPicker',\n        'pipRoutingProgress',\n        'pipPopover',\n        'pipImageSlider',\n        'pipToasts',\n        'pipControls.Translate'\n    ]);\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipControls.Translate', []);\n\n    thisModule.filter('translate', function ($injector) {\n        var pipTranslate = $injector.has('pipTranslate') \n            ? $injector.get('pipTranslate') : null;\n\n        return function (key) {\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\n        }\n    });\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\n\n    thisModule.directive('pipImageSlider',\n        function () {\n            return {\n                scope: {\n                    sliderIndex: '=pipImageIndex'\n                },\n                controller: function ($scope, $element, $attrs, $parse, $timeout, $interval, $pipImageSlider) {\n                    var blocks,\n                        index = 0, newIndex,\n                        direction,\n                        type = $parse($attrs.pipAnimationType)($scope),\n                        DEFAULT_INTERVAL = 4500,\n                        interval = $parse($attrs.pipAnimationInterval)($scope),\n                        timePromises,\n                        throttled;\n\n                    $element.addClass('pip-image-slider');\n                    $element.addClass('pip-animation-' + type);\n\n                    $scope.swipeStart = 0;\n                    /*\n                     if ($swipe)\n                     $swipe.bind($element, {\n                     'start': function(coords) {\n                     if (coords) $scope.swipeStart = coords.x;\n                     else $scope.swipeStart = 0;\n                     },\n                     'end': function(coords) {\n                     var delta;\n                     if (coords) {\n                     delta = $scope.swipeStart - coords.x;\n                     if (delta > 150)  $scope.nextBlock();\n                     if (delta < -150)  $scope.prevBlock();\n                     $scope.swipeStart = 0;\n                     } else $scope.swipeStart = 0;\n                     }\n                     });\n                     */\n                    setIndex();\n\n                    $timeout(function () {\n                        blocks = $element.find('.pip-animation-block');\n                        if (blocks.length > 0) {\n                            $(blocks[0]).addClass('pip-show');\n                        }\n                    });\n\n                    startInterval();\n                    throttled = _.throttle(function () {\n                        $pipImageSlider.toBlock(type, blocks, index, newIndex, direction);\n                        index = newIndex;\n                        setIndex();\n                    }, 700);\n\n                    $scope.nextBlock = function () {\n                        restartInterval();\n                        newIndex = index + 1 === blocks.length ? 0 : index + 1;\n                        direction = 'next';\n                        throttled();\n                    };\n\n                    $scope.prevBlock = function () {\n                        restartInterval();\n                        newIndex = index - 1 < 0 ? blocks.length - 1 : index - 1;\n                        direction = 'prev';\n                        throttled();\n                    };\n\n                    $scope.slideTo = function (nextIndex) {\n                        if (nextIndex === index || nextIndex > blocks.length - 1) {\n                            return;\n                        }\n\n                        restartInterval();\n                        newIndex = nextIndex;\n                        direction = nextIndex > index ? 'next' : 'prev';\n                        throttled();\n                    };\n                    \n                    if ($attrs.id) $pipImageSlider.registerSlider($attrs.id, $scope);\n\n                    function setIndex() {\n                        if ($attrs.pipImageIndex) $scope.sliderIndex = index;\n                    }\n\n                    function startInterval() {\n                        timePromises = $interval(function () {\n                            newIndex = index + 1 === blocks.length ? 0 : index + 1;\n                            direction = 'next';\n                            throttled();\n                        }, interval || DEFAULT_INTERVAL);\n                    }\n\n                    function stopInterval() {\n                        $interval.cancel(timePromises);\n                    }\n\n                    $element.on('$destroy', function () {\n                        stopInterval();\n                        $pipImageSlider.removeSlider($attrs.id);\n                    });\n\n                    function restartInterval() {\n                        stopInterval();\n                        startInterval();\n                    }\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipImageSlider.Service', []);\n\n    thisModule.service('$pipImageSlider',\n        function ($timeout) {\n\n            var ANIMATION_DURATION = 550,\n                sliders = {};\n\n            return {\n                nextCarousel: nextCarousel,\n                prevCarousel: prevCarousel,\n                toBlock: toBlock,\n                registerSlider: register,\n                removeSlider: remove,\n                getSliderScope: getSlider\n            };\n\n            function register(sliderId, sliderScope) {\n                sliders[sliderId] = sliderScope;\n            }\n            \n            function remove(sliderId) {\n                delete sliders[sliderId];\n            }\n\n            function getSlider(sliderId) {\n                return sliders[sliderId];\n            }\n\n            function nextCarousel(nextBlock, prevBlock) {\n                nextBlock.addClass('pip-next');\n                \n                $timeout(function () {\n                    nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\n                    prevBlock.addClass('animated').removeClass('pip-show');\n                }, 100);\n            }\n\n            function prevCarousel(nextBlock, prevBlock) {\n                $timeout(function () {\n                    nextBlock.addClass('animated').addClass('pip-show');\n                    prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\n                }, 100);\n            }\n\n            function toBlock(type, blocks, oldIndex, nextIndex, direction) {\n                var prevBlock = $(blocks[oldIndex]),\n                    blockIndex = nextIndex,\n                    nextBlock = $(blocks[blockIndex]);\n\n                if (type === 'carousel') {\n                    $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\n\n                    if (direction && (direction === 'prev' || direction === 'next')) {\n                        if (direction === 'prev') {\n                            prevCarousel(nextBlock, prevBlock);\n                        } else {\n                            nextCarousel(nextBlock, prevBlock);\n                        }\n                    } else {\n                        if (nextIndex && nextIndex < oldIndex) {\n                            prevCarousel(nextBlock, prevBlock);\n                        } else {\n                            nextCarousel(nextBlock, prevBlock);\n                        }\n                    }\n                } else {\n                    prevBlock.addClass('animated').removeClass('pip-show');\n                    nextBlock.addClass('animated').addClass('pip-show');\n                }\n            }\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipSliderButton', []);\n\n    thisModule.directive('pipSliderButton',\n        function () {\n            return {\n                scope: {},\n                controller: function ($scope, $element, $parse, $attrs, $pipImageSlider) {\n                    var type = $parse($attrs.pipButtonType)($scope),\n                        sliderId = $parse($attrs.pipSliderId)($scope);\n\n                    $element.on('click', function () {\n                        if (!sliderId || !type) {\n                            return;\n                        }\n\n                        $pipImageSlider.getSliderScope(sliderId)[type + 'Block']();\n                    });\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipSliderIndicator', []);\n\n    thisModule.directive('pipSliderIndicator',\n        function () {\n            return {\n                scope: false,\n                controller: function ($scope, $element, $parse, $attrs, $pipImageSlider) {\n                    var sliderId = $parse($attrs.pipSliderId)($scope),\n                        slideTo = $parse($attrs.pipSlideTo)($scope);\n\n                    $element.css('cursor', 'pointer');\n                    $element.on('click', function () {\n                        if (!sliderId || slideTo && slideTo < 0) {\n                            return;\n                        }\n\n                        $pipImageSlider.getSliderScope(sliderId).slideTo(slideTo);\n                    });\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\ndeclare var marked: any;\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipMarkdown', ['ngSanitize']);\n\n    thisModule.run(function ($injector) {\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.setTranslations('en', {\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\n                'checklist': 'Checklist',\n                'documents': 'Documents',\n                'pictures': 'Pictures',\n                'location': 'Location',\n                'time': 'Time'\n            });\n            pipTranslate.setTranslations('ru', {\n                'MARKDOWN_ATTACHMENTS': 'Вложения:',\n                'checklist': 'Список',\n                'documents': 'Документы',\n                'pictures': 'Изображения',\n                'location': 'Местонахождение',\n                'time': 'Время'\n            });\n        }\n    });\n\n    thisModule.directive('pipMarkdown',\n        function ($parse, $injector) {\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n            return {\n                restrict: 'EA',\n                scope: false,\n                link: function ($scope: any, $element, $attrs: any) {\n                    var\n                        textGetter = $parse($attrs.pipText),\n                        listGetter = $parse($attrs.pipList),\n                        clampGetter = $parse($attrs.pipLineCount);\n\n                    function describeAttachments(array) {\n                        var attachString = '',\n                            attachTypes = [];\n\n                        _.each(array, function (attach) {\n                            if (attach.type && attach.type !== 'text') {\n                                if (attachString.length === 0 && pipTranslate) {\n                                    attachString = pipTranslate.translate('MARKDOWN_ATTACHMENTS');\n                                }\n\n                                if (attachTypes.indexOf(attach.type) < 0) {\n                                    attachTypes.push(attach.type);\n                                    attachString += attachTypes.length > 1 ? ', ' : ' ';\n                                    if (pipTranslate)\n                                        attachString += pipTranslate.translate(attach.type);\n                                }\n                            }\n                        });\n\n                        return attachString;\n                    }\n\n                    function toBoolean(value) {\n                        if (value == null) return false;\n                        if (!value) return false;\n                        value = value.toString().toLowerCase();\n                        return value == '1' || value == 'true';\n                    }\n\n                    function bindText(value) {\n                        var textString, isClamped, height, options, obj;\n\n                        if (_.isArray(value)) {\n                            obj = _.find(value, function (item: any) {\n                                return item.type === 'text' && item.text;\n                            });\n\n                            textString = obj ? obj.text : describeAttachments(value);\n                        } else {\n                            textString = value;\n                        }\n\n                        isClamped = $attrs.pipLineCount && _.isNumber(clampGetter());\n                        isClamped = isClamped && textString && textString.length > 0;\n                        options = {\n                            gfm: true,\n                            tables: true,\n                            breaks: true,\n                            sanitize: true,\n                            pedantic: true,\n                            smartLists: true,\n                            smartypents: false\n                        };\n                        textString = marked(textString || '', options);\n                        if (isClamped) {\n                            height = 1.5 * clampGetter();\n                        }\n                        // Assign value as HTML\n                        $element.html('<div' + (isClamped ? listGetter() ? 'class=\"pip-markdown-content ' +\n                            'pip-markdown-list\" style=\"max-height: ' + height + 'em\">'\n                                : ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : listGetter()\n                                ? ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\n                        $element.find('a').attr('target', 'blank');\n                        if (!listGetter() && isClamped) {\n                            $element.append('<div class=\"pip-gradient-block\"></div>');\n                        }\n                    }\n\n                    // Fill the text\n                    bindText(textGetter($scope));\n\n                    // Also optimization to avoid watch if it is unnecessary\n                    if (toBoolean($attrs.pipRebind)) {\n                        $scope.$watch(textGetter, function (newValue) {\n                            bindText(newValue);\n                        });\n                    }\n\n                    $scope.$on('pipWindowResized', function () {\n                        bindText(textGetter($scope));\n                    });\n\n                    // Add class\n                    $element.addClass('pip-markdown');\n                }\n            };\n        }\n    );\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipPopover', ['pipPopover.Service']);\n\n    thisModule.directive('pipPopover', function () {\n        return {\n            restrict: 'EA',\n            scope: true,\n            templateUrl: 'popover/popover.html',\n            controller: function ($scope, $rootScope, $element, $timeout, $compile) {\n                var backdropElement, content;\n\n                backdropElement = $('.pip-popover-backdrop');\n                backdropElement.on('click keydown scroll', backdropClick);\n                backdropElement.addClass($scope.params.responsive !== false ? 'pip-responsive' : '');\n\n                $timeout(function () {\n                    position();\n                    if ($scope.params.template) {\n                        content = $compile($scope.params.template)($scope);\n                        $element.find('.pip-popover').append(content);\n                    }\n\n                    init();\n                });\n\n                $timeout(function () {\n                    calcHeight();\n                }, 200);\n\n                $scope.onPopoverClick = onPopoverClick;\n                $scope = _.defaults($scope, $scope.$parent);    // eslint-disable-line \n\n                $rootScope.$on('pipPopoverResize', onResize);\n                $(window).resize(onResize);\n\n                function init() {\n                    backdropElement.addClass('opened');\n                    $('.pip-popover-backdrop').focus();\n                    if ($scope.params.timeout) {\n                        $timeout(function () {\n                            closePopover();\n                        }, $scope.params.timeout);\n                    }\n                }\n\n                function backdropClick() {\n                    if ($scope.params.cancelCallback) {\n                        $scope.params.cancelCallback();\n                    }\n\n                    closePopover();\n                }\n\n                function closePopover() {\n                    backdropElement.removeClass('opened');\n                    $timeout(function () {\n                        backdropElement.remove();\n                    }, 100);\n                }\n\n                function onPopoverClick($e) {\n                    $e.stopPropagation();\n                }\n\n                function position() {\n                    if ($scope.params.element) {\n                        var element = $($scope.params.element),\n                            pos = element.offset(),\n                            width = element.width(),\n                            height = element.height(),\n                            docWidth = $(document).width(),\n                            docHeight = $(document).height(),\n                            popover = backdropElement.find('.pip-popover');\n\n                        if (pos) {\n                            popover\n                                .css('max-width', docWidth - (docWidth - pos.left))\n                                .css('max-height', docHeight - (pos.top + height) - 32, 0)\n                                .css('left', pos.left - popover.width() + width / 2)\n                                .css('top', pos.top + height + 16);\n                        }\n                    }\n                }\n\n                function calcHeight() {\n                    if ($scope.params.calcHeight === false) { return; }\n\n                    var popover = backdropElement.find('.pip-popover'),\n                        title = popover.find('.pip-title'),\n                        footer = popover.find('.pip-footer'),\n                        content = popover.find('.pip-content'),\n                        contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\n\n                    content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\n                }\n\n                function onResize() {\n                    backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\n                    position();\n                    calcHeight();\n                }\n            }\n        };\n    });\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipPopover.Service', []);\n\n    thisModule.service('pipPopoverService',\n        function ($compile, $rootScope, $timeout) {\n            var popoverTemplate;\n\n            popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\n\n            return {\n                show: onShow,\n                hide: onHide,\n                resize: onResize\n            };\n\n            function onShow(p) {\n                var element, scope, params, content;\n\n                element = $('body');\n                if (element.find('md-backdrop').length > 0) { return; }\n                onHide();\n                scope = $rootScope.$new();\n                params = p && _.isObject(p) ? p : {};\n                scope.params = params;\n                scope.locals = params.locals;\n                content = $compile(popoverTemplate)(scope);\n                element.append(content);\n            }\n\n            function onHide() {\n                var backdropElement = $('.pip-popover-backdrop');\n\n                backdropElement.removeClass('opened');\n                $timeout(function () {\n                    backdropElement.remove();\n                }, 100);\n            }\n\n            function onResize() {\n                $rootScope.$broadcast('pipPopoverResize');\n            }\n\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipRoutingProgress', ['ngMaterial']);\n\n    thisModule.directive('pipRoutingProgress', function () {\n        return {\n            restrict: 'EA',\n            replace: true,\n            scope: {\n                    showProgress: '&',\n                    logoUrl: '@'\n                },\n            templateUrl: 'progress/routing_progress.html',\n            controller: 'pipRoutingProgressController'\n        };\n    });\n\n    thisModule.controller('pipRoutingProgressController',\n        function ($scope, $element, $attrs) {\n            var  image = $element.children('img');          \n\n            loadProgressImage();\n\n            return;\n\n            function loadProgressImage() {\n                if ($scope.logoUrl) {\n                    image.attr('src', $scope.logoUrl);\n                }\n            }\n\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n    var thisModule = angular.module('pipToasts', ['ngMaterial', 'pipControls.Translate']);\n\n    thisModule.controller('pipToastController',\n        function ($scope, $mdToast, toast, $injector) {\n            var pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') \n                ? $injector.get('pipErrorDetailsDialog') : null;\n\n            // if (toast.type && sounds['toast_' + toast.type]) {\n            //     sounds['toast_' + toast.type].play();\n            // }\n\n            $scope.message = toast.message;\n            $scope.actions = toast.actions;\n            $scope.toast = toast;\n            \n            if (toast.actions.length === 0) {\n                $scope.actionLenght = 0;\n            } else if (toast.actions.length === 1) {\n                $scope.actionLenght = toast.actions[0].toString().length;\n            } else {\n                $scope.actionLenght = null;\n            }\n\n            $scope.showDetails = pipErrorDetailsDialog != null;\n            $scope.onDetails = function () {\n                $mdToast.hide();\n\n                if (pipErrorDetailsDialog) {\n                    pipErrorDetailsDialog.show(\n                        {\n                            error: $scope.toast.error,\n                            ok: 'Ok'\n                        },\n                        angular.noop,\n                        angular.noop\n                    );\n                }\n            };\n\n            $scope.onAction = function (action) {\n                $mdToast.hide(\n                    {\n                        action: action,\n                        id: toast.id,\n                        message: toast.message\n                    });\n            };\n        }\n    );\n\n    thisModule.service('pipToasts',\n        function ($rootScope, $mdToast) {\n            var\n                SHOW_TIMEOUT = 20000,\n                SHOW_TIMEOUT_NOTIFICATIONS = 20000,\n                toasts = [],\n                currentToast,\n                sounds = {};\n\n            /** pre-load sounds for notifications */\n                // sounds['toast_error'] = ngAudio.load('sounds/fatal.mp3');\n                // sounds['toast_notification'] = ngAudio.load('sounds/error.mp3');\n                // sounds['toast_message'] = ngAudio.load('sounds/warning.mp3');\n\n                // Remove error toasts when page is changed\n            $rootScope.$on('$stateChangeSuccess', onStateChangeSuccess);\n            $rootScope.$on('pipSessionClosed', onClearToasts);\n            $rootScope.$on('pipIdentityChanged', onClearToasts);\n\n            return {\n                showNotification: showNotification,\n                showMessage: showMessage,\n                showError: showError,\n                hideAllToasts: hideAllToasts,\n                clearToasts: clearToasts,\n                removeToastsById: removeToastsById,\n                getToastById: getToastById\n            };\n\n            // Take the next from queue and show it\n            function showNextToast() {\n                var toast;\n\n                if (toasts.length > 0) {\n                    toast = toasts[0];\n                    toasts.splice(0, 1);\n                    showToast(toast);\n                }\n            }\n\n            // Show toast\n            function showToast(toast) {\n                currentToast = toast;\n\n                $mdToast.show({\n                    templateUrl: 'toast/toast.html',\n                    hideDelay: toast.duration || SHOW_TIMEOUT,\n                    position: 'bottom left',\n                    controller: 'pipToastController',\n                    locals: {\n                        toast: currentToast,\n                        sounds: sounds\n                    }\n                })\n                    .then(\n                    function showToastOkResult(action) {\n                        if (currentToast.successCallback) {\n                            currentToast.successCallback(action);\n                        }\n                        currentToast = null;\n                        showNextToast();\n                    },\n                    function showToastCancelResult(action) {\n                        if (currentToast.cancelCallback) {\n                            currentToast.cancelCallback(action);\n                        }\n                        currentToast = null;\n                        showNextToast();\n                    }\n                );\n            }\n\n            function addToast(toast) {\n                if (currentToast && toast.type !== 'error') {\n                    toasts.push(toast);\n                } else {\n                    showToast(toast);\n                }\n            }\n\n            function removeToasts(type) {\n                var result = [];\n\n                _.each(toasts, function (toast) {\n                    if (!toast.type || toast.type !== type) {\n                        result.push(toast);\n                    }\n                });\n                toasts = _.cloneDeep(result);\n            }\n\n            function removeToastsById(id) {\n                _.remove(toasts, {id: id});\n            }\n\n            function getToastById(id) {\n                return _.find(toasts, {id: id});\n            }\n\n            function onStateChangeSuccess() {\n                // toasts = _.reject(toasts, function (toast) {\n                //     return toast.type === 'error';\n                // });\n\n                // if (currentToast && currentToast.type === 'error') {\n                //     $mdToast.cancel();\n                //     showNextToast();\n                // }\n            }\n\n            function onClearToasts() {\n                clearToasts();\n            }\n\n            // Show new notification toast at the top right\n            function showNotification(message, actions, successCallback, cancelCallback, id) {\n                // pipAssert.isDef(message, 'pipToasts.showNotification: message should be defined');\n                // pipAssert.isString(message, 'pipToasts.showNotification: message should be a string');\n                // pipAssert.isArray(actions || [], 'pipToasts.showNotification: actions should be an array');\n                // if (successCallback) {\n                //     pipAssert.isFunction(successCallback, 'showNotification: successCallback should be a function');\n                // }\n                // if (cancelCallback) {\n                //     pipAssert.isFunction(cancelCallback, 'showNotification: cancelCallback should be a function');\n                // }\n\n                addToast({\n                    id: id || null,\n                    type: 'notification',\n                    message: message,\n                    actions: actions || ['ok'],\n                    successCallback: successCallback,\n                    cancelCallback: cancelCallback,\n                    duration: SHOW_TIMEOUT_NOTIFICATIONS\n                });\n            }\n\n            // Show new message toast at the top right\n            function showMessage(message, successCallback, cancelCallback, id) {\n                // pipAssert.isDef(message, 'pipToasts.showMessage: message should be defined');\n                // pipAssert.isString(message, 'pipToasts.showMessage: message should be a string');\n                // if (successCallback) {\n                //     pipAssert.isFunction(successCallback, 'pipToasts.showMessage:successCallback should be a function');\n                // }\n                // if (cancelCallback) {\n                //     pipAssert.isFunction(cancelCallback, 'pipToasts.showMessage: cancelCallback should be a function');\n                // }\n\n                addToast({\n                    id: id || null,\n                    type: 'message',\n                    message: message,\n                    actions: ['ok'],\n                    successCallback: successCallback,\n                    cancelCallback: cancelCallback\n                });\n            }\n\n            // Show error toast at the bottom right after error occured\n            function showError(message, successCallback, cancelCallback, id, error) {\n                // pipAssert.isDef(message, 'pipToasts.showError: message should be defined');\n                // pipAssert.isString(message, 'pipToasts.showError: message should be a string');\n                // if (successCallback) {\n                //     pipAssert.isFunction(successCallback, 'pipToasts.showError: successCallback should be a function');\n                // }\n                // if (cancelCallback) {\n                //     pipAssert.isFunction(cancelCallback, 'pipToasts.showError: cancelCallback should be a function');\n                // }\n\n                addToast({\n                    id: id || null,\n                    error: error,\n                    type: 'error',\n                    message: message || 'Unknown error.',\n                    actions: ['ok'],\n                    successCallback: successCallback,\n                    cancelCallback: cancelCallback\n                });\n            }\n\n            // Hide and clear all toast when user signs out\n            function hideAllToasts() {\n                $mdToast.cancel();\n                toasts = [];\n            }\n\n            // Clear toasts by type\n            function clearToasts(type?: any) {\n                if (type) {\n                    // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\n                    removeToasts(type);\n                } else {\n                    $mdToast.cancel();\n                    toasts = [];\n                }\n            }\n        }\n    );\n\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/color_picker.html',\n    '<ul class=\"pip-color-picker {{class}}\" pip-selected=\"currentColorIndex\" pip-enter-space-press=\"enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"selectColor($index)\" aria-label=\"color\" ng-disabled=\"disabled()\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/popover.html',\n    '<div ng-if=\"params.templateUrl\" class=\"pip-popover flex layout-column\" ng-click=\"onPopoverClick($event)\" ng-include=\"params.templateUrl\"></div><div ng-if=\"params.template\" class=\"pip-popover\" ng-click=\"onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/routing_progress.html',\n    '<div class=\"pip-routing-progress layout-column layout-align-center-center\" ng-show=\"showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': toast.type==\\'error\\', \\'pip-column-toast\\': toast.actions.length > 1 || actionLenght > 4, \\'pip-no-action-toast\\': actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"message\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"actions.length > 0 || (toast.type==\\'error\\' && toast.error)\"><div class=\"flex\" ng-if=\"toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"toast.type==\\'error\\' && toast.error && showDetails\" ng-click=\"onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"onAction(action)\" ng-repeat=\"action in actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n"]}