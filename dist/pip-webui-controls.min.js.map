{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/color_picker/color_picker.ts","src/controls.ts","src/dependencies/translate.ts","src/image_slider/image_slider.ts","src/image_slider/image_slider_service.ts","src/image_slider/slider_button.ts","src/image_slider/slider_indicator.ts","src/markdown/markdown.ts","src/popover/popover.ts","src/popover/popover_service.ts","src/progress/routing_progress.ts","src/toast/toasts.ts","temp/pip-webui-controls-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","controls","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","ColorPickerController","$scope","$element","$attrs","$timeout","DEFAULT_COLORS","_$timeout","_$scope","class","colors","_","isArray","colorChange","currentColor","currentColorIndex","indexOf","ngDisabled","$inject","prototype","disabled","selectColor","index","_this","$apply","enterSpacePress","event","pipColorPicker","$parse","templateUrl","controller","controllerAs","2","3","thisModule","angular","filter","$injector","pipTranslate","has","get","key","translate","4","directive","sliderIndex","$interval","$pipImageSlider","setIndex","pipImageIndex","startInterval","newIndex","blocks","direction","throttled","interval","DEFAULT_INTERVAL","stopInterval","cancel","timePromises","restartInterval","type","pipAnimationType","pipAnimationInterval","addClass","swipeStart","find","$","throttle","toBlock","nextBlock","prevBlock","nextIndex","id","registerSlider","on","removeSlider","5","service","register","sliderId","sliderScope","sliders","remove","getSlider","nextCarousel","removeClass","prevCarousel","oldIndex","blockIndex","getSliderScope","6","pipButtonType","pipSliderId","7","slideTo","pipSlideTo","css","8","run","setTranslations","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","location","time","restrict","describeAttachments","array","attachString","attachTypes","attach","push","toBoolean","value","toString","toLowerCase","bindText","textString","isClamped","height","options","obj","item","text","pipLineCount","isNumber","clampGetter","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","html","listGetter","attr","append","textGetter","pipText","pipList","pipRebind","$watch","newValue","$on","9","scope","$rootScope","$compile","init","backdropElement","focus","params","timeout","closePopover","backdropClick","cancelCallback","onPopoverClick","$e","stopPropagation","position","element","pos","offset","width","docWidth","document","docHeight","popover","left","top","calcHeight","title","footer","content","contentHeight","outerHeight","Math","max","onResize","responsive","template","defaults","$parent","resize","10","onShow","p","onHide","$new","isObject","locals","popoverTemplate","$broadcast","show","hide","11","showProgress","logoUrl","loadProgressImage","image","children","12","$mdToast","toast","pipErrorDetailsDialog","message","actions","actionLenght","showDetails","onDetails","error","ok","noop","action","showNextToast","toasts","splice","showToast","hideDelay","duration","SHOW_TIMEOUT","currentToast","sounds","successCallback","addToast","removeToasts","result","cloneDeep","removeToastsById","getToastById","onStateChangeSuccess","onClearToasts","clearToasts","showNotification","SHOW_TIMEOUT_NOTIFICATIONS","showMessage","showError","hideAllToasts","13","$templateCache","put"],"mappings":"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","file":"pip-webui-controls.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export interface IColorPicker {\r\n    class: string;\r\n    colors: string[];\r\n    currentColor: string;\r\n    currentColorIndex: number;\r\n    ngDisabled: Function;\r\n    colorChange: Function;\r\n\r\n    enterSpacePress(event): void;\r\n    disabled(): boolean;\r\n    selectColor(index: number);\r\n}\r\n\r\nexport class ColorPickerController implements IColorPicker {\r\n  \r\n    private _$timeout;\r\n    private _$scope: ng.IScope;\r\n\r\n    public class: string;\r\n    public colors: string[];\r\n    public currentColor: string;\r\n    public currentColorIndex: number;\r\n    public ngDisabled: Function;\r\n    public colorChange: Function;\r\n\r\n    constructor( \r\n        $scope: ng.IScope, \r\n        $element,\r\n        $attrs, \r\n        $timeout ) {\r\n            let DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\r\n            this._$timeout = $timeout;\r\n            this._$scope = $scope;\r\n\r\n            this.class = $attrs.class || '';\r\n            this.colors = !$scope['colors'] || _.isArray($scope['colors']) && $scope['colors'].length === 0 ? DEFAULT_COLORS : $scope['colors'];\r\n            this.colorChange = $scope['colorChange'] || null;\r\n            this.currentColor = $scope['currentColor'] || this.colors[0];\r\n            this.currentColorIndex = this.colors.indexOf(this.currentColor);\r\n            this.ngDisabled = $scope['ngDisabled'];\r\n\r\n    }\r\n\r\n    public disabled(): boolean {\r\n        if (this.ngDisabled) {\r\n            return this.ngDisabled();\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n     public selectColor(index: number) {\r\n        if (this.disabled()) { return; }\r\n        this.currentColorIndex = index;\r\n        this.currentColor = this.colors[this.currentColorIndex];\r\n        this._$timeout(() => {\r\n            this._$scope.$apply();\r\n        });\r\n\r\n        if (this.colorChange) {\r\n            this.colorChange();\r\n        }\r\n    };\r\n\r\n    public enterSpacePress(event): void {\r\n        this.selectColor(event.index);\r\n    };\r\n\r\n}\r\n\r\n(() => {\r\n    function pipColorPicker($parse: any) {\r\n        \"ngInject\";\r\n\r\n          return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    colors: '=pipColors',\r\n                    currentColor: '=ngModel',\r\n                    colorChange: '&ngChange'\r\n                },\r\n                templateUrl: 'color_picker/color_picker.html',\r\n                controller: ColorPickerController,\r\n                controllerAs: 'vm'\r\n            };\r\n    }\r\n\r\n\r\n    angular\r\n        .module('pipColorPicker', ['pipControls.Templates'])\r\n        .directive('pipColorPicker', pipColorPicker);\r\n\r\n\r\n})();\r\n\r\n\r\n/// <reference path=\"../../typings/tsd.d.ts\" />\r\n/*\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipColorPicker', [ 'pipControls.Templates']); // 'pipFocused',\r\n\r\n    thisModule.directive('pipColorPicker',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    colors: '=pipColors',\r\n                    currentColor: '=ngModel',\r\n                    colorChange: '&ngChange'\r\n                },\r\n                templateUrl: 'color_picker/color_picker.html',\r\n                controller: 'pipColorPickerController'\r\n            };\r\n        }\r\n    );\r\n    thisModule.controller('pipColorPickerController',\r\n        function ($scope, $element, $attrs, $timeout) {\r\n            var\r\n                DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\r\n\r\n            $scope.class = $attrs.class || '';\r\n\r\n            if (!$scope.colors || _.isArray($scope.colors) && $scope.colors.length === 0) {\r\n                $scope.colors = DEFAULT_COLORS;\r\n            }\r\n\r\n            $scope.currentColor = $scope.currentColor || $scope.colors[0];\r\n            $scope.currentColorIndex = $scope.colors.indexOf($scope.currentColor);\r\n\r\n            $scope.disabled = function () {\r\n                if ($scope.ngDisabled) {\r\n                    return $scope.ngDisabled();\r\n                }\r\n\r\n                return true;\r\n            };\r\n\r\n            $scope.selectColor = function (index) {\r\n                if ($scope.disabled()) {\r\n                    return;\r\n                }\r\n                $scope.currentColorIndex = index;\r\n\r\n                $scope.currentColor = $scope.colors[$scope.currentColorIndex];\r\n\r\n                $timeout(function () {\r\n                    $scope.$apply();\r\n                });\r\n\r\n                if ($scope.colorChange) {\r\n                    $scope.colorChange();\r\n                }\r\n            };\r\n\r\n            $scope.enterSpacePress = function (event) {\r\n                $scope.selectColor(event.index);\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n*/\r\n\r\n\r\n//import {FileUploadController} from './upload/FileUploadController';\r\n//import {FileProgressController} from './progress/FileProgressController';\r\n//import {FileUploadService} from './service/FileUploadService';","﻿/// <reference path=\"../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    angular.module('pipControls', [\r\n        'pipMarkdown',\r\n        'pipColorPicker',\r\n        'pipRoutingProgress',\r\n        'pipPopover',\r\n        'pipImageSlider',\r\n        'pipToasts',\r\n        'pipControls.Translate'\r\n    ]);\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipControls.Translate', []);\r\n\r\n    thisModule.filter('translate', function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return function (key) {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\r\n\r\n    thisModule.directive('pipImageSlider',\r\n        function () {\r\n            return {\r\n                scope: {\r\n                    sliderIndex: '=pipImageIndex'\r\n                },\r\n                controller: function ($scope, $element, $attrs, $parse, $timeout, $interval, $pipImageSlider) {\r\n                    var blocks,\r\n                        index = 0, newIndex,\r\n                        direction,\r\n                        type = $parse($attrs.pipAnimationType)($scope),\r\n                        DEFAULT_INTERVAL = 4500,\r\n                        interval = $parse($attrs.pipAnimationInterval)($scope),\r\n                        timePromises,\r\n                        throttled;\r\n\r\n                    $element.addClass('pip-image-slider');\r\n                    $element.addClass('pip-animation-' + type);\r\n\r\n                    $scope.swipeStart = 0;\r\n                    /*\r\n                     if ($swipe)\r\n                     $swipe.bind($element, {\r\n                     'start': function(coords) {\r\n                     if (coords) $scope.swipeStart = coords.x;\r\n                     else $scope.swipeStart = 0;\r\n                     },\r\n                     'end': function(coords) {\r\n                     var delta;\r\n                     if (coords) {\r\n                     delta = $scope.swipeStart - coords.x;\r\n                     if (delta > 150)  $scope.nextBlock();\r\n                     if (delta < -150)  $scope.prevBlock();\r\n                     $scope.swipeStart = 0;\r\n                     } else $scope.swipeStart = 0;\r\n                     }\r\n                     });\r\n                     */\r\n                    setIndex();\r\n\r\n                    $timeout(function () {\r\n                        blocks = $element.find('.pip-animation-block');\r\n                        if (blocks.length > 0) {\r\n                            $(blocks[0]).addClass('pip-show');\r\n                        }\r\n                    });\r\n\r\n                    startInterval();\r\n                    throttled = _.throttle(function () {\r\n                        $pipImageSlider.toBlock(type, blocks, index, newIndex, direction);\r\n                        index = newIndex;\r\n                        setIndex();\r\n                    }, 700);\r\n\r\n                    $scope.nextBlock = function () {\r\n                        restartInterval();\r\n                        newIndex = index + 1 === blocks.length ? 0 : index + 1;\r\n                        direction = 'next';\r\n                        throttled();\r\n                    };\r\n\r\n                    $scope.prevBlock = function () {\r\n                        restartInterval();\r\n                        newIndex = index - 1 < 0 ? blocks.length - 1 : index - 1;\r\n                        direction = 'prev';\r\n                        throttled();\r\n                    };\r\n\r\n                    $scope.slideTo = function (nextIndex) {\r\n                        if (nextIndex === index || nextIndex > blocks.length - 1) {\r\n                            return;\r\n                        }\r\n\r\n                        restartInterval();\r\n                        newIndex = nextIndex;\r\n                        direction = nextIndex > index ? 'next' : 'prev';\r\n                        throttled();\r\n                    };\r\n                    \r\n                    if ($attrs.id) $pipImageSlider.registerSlider($attrs.id, $scope);\r\n\r\n                    function setIndex() {\r\n                        if ($attrs.pipImageIndex) $scope.sliderIndex = index;\r\n                    }\r\n\r\n                    function startInterval() {\r\n                        timePromises = $interval(function () {\r\n                            newIndex = index + 1 === blocks.length ? 0 : index + 1;\r\n                            direction = 'next';\r\n                            throttled();\r\n                        }, interval || DEFAULT_INTERVAL);\r\n                    }\r\n\r\n                    function stopInterval() {\r\n                        $interval.cancel(timePromises);\r\n                    }\r\n\r\n                    $element.on('$destroy', function () {\r\n                        stopInterval();\r\n                        $pipImageSlider.removeSlider($attrs.id);\r\n                    });\r\n\r\n                    function restartInterval() {\r\n                        stopInterval();\r\n                        startInterval();\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipImageSlider.Service', []);\r\n\r\n    thisModule.service('$pipImageSlider',\r\n        function ($timeout) {\r\n\r\n            var ANIMATION_DURATION = 550,\r\n                sliders = {};\r\n\r\n            return {\r\n                nextCarousel: nextCarousel,\r\n                prevCarousel: prevCarousel,\r\n                toBlock: toBlock,\r\n                registerSlider: register,\r\n                removeSlider: remove,\r\n                getSliderScope: getSlider\r\n            };\r\n\r\n            function register(sliderId, sliderScope) {\r\n                sliders[sliderId] = sliderScope;\r\n            }\r\n            \r\n            function remove(sliderId) {\r\n                delete sliders[sliderId];\r\n            }\r\n\r\n            function getSlider(sliderId) {\r\n                return sliders[sliderId];\r\n            }\r\n\r\n            function nextCarousel(nextBlock, prevBlock) {\r\n                nextBlock.addClass('pip-next');\r\n                \r\n                $timeout(function () {\r\n                    nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\r\n                    prevBlock.addClass('animated').removeClass('pip-show');\r\n                }, 100);\r\n            }\r\n\r\n            function prevCarousel(nextBlock, prevBlock) {\r\n                $timeout(function () {\r\n                    nextBlock.addClass('animated').addClass('pip-show');\r\n                    prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\r\n                }, 100);\r\n            }\r\n\r\n            function toBlock(type, blocks, oldIndex, nextIndex, direction) {\r\n                var prevBlock = $(blocks[oldIndex]),\r\n                    blockIndex = nextIndex,\r\n                    nextBlock = $(blocks[blockIndex]);\r\n\r\n                if (type === 'carousel') {\r\n                    $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\r\n\r\n                    if (direction && (direction === 'prev' || direction === 'next')) {\r\n                        if (direction === 'prev') {\r\n                            prevCarousel(nextBlock, prevBlock);\r\n                        } else {\r\n                            nextCarousel(nextBlock, prevBlock);\r\n                        }\r\n                    } else {\r\n                        if (nextIndex && nextIndex < oldIndex) {\r\n                            prevCarousel(nextBlock, prevBlock);\r\n                        } else {\r\n                            nextCarousel(nextBlock, prevBlock);\r\n                        }\r\n                    }\r\n                } else {\r\n                    prevBlock.addClass('animated').removeClass('pip-show');\r\n                    nextBlock.addClass('animated').addClass('pip-show');\r\n                }\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSliderButton', []);\r\n\r\n    thisModule.directive('pipSliderButton',\r\n        function () {\r\n            return {\r\n                scope: {},\r\n                controller: function ($scope, $element, $parse, $attrs, $pipImageSlider) {\r\n                    var type = $parse($attrs.pipButtonType)($scope),\r\n                        sliderId = $parse($attrs.pipSliderId)($scope);\r\n\r\n                    $element.on('click', function () {\r\n                        if (!sliderId || !type) {\r\n                            return;\r\n                        }\r\n\r\n                        $pipImageSlider.getSliderScope(sliderId)[type + 'Block']();\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSliderIndicator', []);\r\n\r\n    thisModule.directive('pipSliderIndicator',\r\n        function () {\r\n            return {\r\n                scope: false,\r\n                controller: function ($scope, $element, $parse, $attrs, $pipImageSlider) {\r\n                    var sliderId = $parse($attrs.pipSliderId)($scope),\r\n                        slideTo = $parse($attrs.pipSlideTo)($scope);\r\n\r\n                    $element.css('cursor', 'pointer');\r\n                    $element.on('click', function () {\r\n                        if (!sliderId || slideTo && slideTo < 0) {\r\n                            return;\r\n                        }\r\n\r\n                        $pipImageSlider.getSliderScope(sliderId).slideTo(slideTo);\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\ndeclare var marked: any;\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipMarkdown', ['ngSanitize']);\r\n\r\n    thisModule.run(function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.setTranslations('en', {\r\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\r\n                'checklist': 'Checklist',\r\n                'documents': 'Documents',\r\n                'pictures': 'Pictures',\r\n                'location': 'Location',\r\n                'time': 'Time'\r\n            });\r\n            pipTranslate.setTranslations('ru', {\r\n                'MARKDOWN_ATTACHMENTS': 'Вложения:',\r\n                'checklist': 'Список',\r\n                'documents': 'Документы',\r\n                'pictures': 'Изображения',\r\n                'location': 'Местонахождение',\r\n                'time': 'Время'\r\n            });\r\n        }\r\n    });\r\n\r\n    thisModule.directive('pipMarkdown',\r\n        function ($parse, $injector) {\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            return {\r\n                restrict: 'EA',\r\n                scope: false,\r\n                link: function ($scope: any, $element, $attrs: any) {\r\n                    var\r\n                        textGetter = $parse($attrs.pipText),\r\n                        listGetter = $parse($attrs.pipList),\r\n                        clampGetter = $parse($attrs.pipLineCount);\r\n\r\n                    function describeAttachments(array) {\r\n                        var attachString = '',\r\n                            attachTypes = [];\r\n\r\n                        _.each(array, function (attach) {\r\n                            if (attach.type && attach.type !== 'text') {\r\n                                if (attachString.length === 0 && pipTranslate) {\r\n                                    attachString = pipTranslate.translate('MARKDOWN_ATTACHMENTS');\r\n                                }\r\n\r\n                                if (attachTypes.indexOf(attach.type) < 0) {\r\n                                    attachTypes.push(attach.type);\r\n                                    attachString += attachTypes.length > 1 ? ', ' : ' ';\r\n                                    if (pipTranslate)\r\n                                        attachString += pipTranslate.translate(attach.type);\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        return attachString;\r\n                    }\r\n\r\n                    function toBoolean(value) {\r\n                        if (value == null) return false;\r\n                        if (!value) return false;\r\n                        value = value.toString().toLowerCase();\r\n                        return value == '1' || value == 'true';\r\n                    }\r\n\r\n                    function bindText(value) {\r\n                        var textString, isClamped, height, options, obj;\r\n\r\n                        if (_.isArray(value)) {\r\n                            obj = _.find(value, function (item: any) {\r\n                                return item.type === 'text' && item.text;\r\n                            });\r\n\r\n                            textString = obj ? obj.text : describeAttachments(value);\r\n                        } else {\r\n                            textString = value;\r\n                        }\r\n\r\n                        isClamped = $attrs.pipLineCount && _.isNumber(clampGetter());\r\n                        isClamped = isClamped && textString && textString.length > 0;\r\n                        options = {\r\n                            gfm: true,\r\n                            tables: true,\r\n                            breaks: true,\r\n                            sanitize: true,\r\n                            pedantic: true,\r\n                            smartLists: true,\r\n                            smartypents: false\r\n                        };\r\n                        textString = marked(textString || '', options);\r\n                        if (isClamped) {\r\n                            height = 1.5 * clampGetter();\r\n                        }\r\n                        // Assign value as HTML\r\n                        $element.html('<div' + (isClamped ? listGetter() ? 'class=\"pip-markdown-content ' +\r\n                            'pip-markdown-list\" style=\"max-height: ' + height + 'em\">'\r\n                                : ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : listGetter()\r\n                                ? ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\r\n                        $element.find('a').attr('target', 'blank');\r\n                        if (!listGetter() && isClamped) {\r\n                            $element.append('<div class=\"pip-gradient-block\"></div>');\r\n                        }\r\n                    }\r\n\r\n                    // Fill the text\r\n                    bindText(textGetter($scope));\r\n\r\n                    // Also optimization to avoid watch if it is unnecessary\r\n                    if (toBoolean($attrs.pipRebind)) {\r\n                        $scope.$watch(textGetter, function (newValue) {\r\n                            bindText(newValue);\r\n                        });\r\n                    }\r\n\r\n                    $scope.$on('pipWindowResized', function () {\r\n                        bindText(textGetter($scope));\r\n                    });\r\n\r\n                    // Add class\r\n                    $element.addClass('pip-markdown');\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipPopover', ['pipPopover.Service']);\r\n\r\n    thisModule.directive('pipPopover', function () {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: true,\r\n            templateUrl: 'popover/popover.html',\r\n            controller: function ($scope, $rootScope, $element, $timeout, $compile) {\r\n                var backdropElement, content;\r\n\r\n                backdropElement = $('.pip-popover-backdrop');\r\n                backdropElement.on('click keydown scroll', backdropClick);\r\n                backdropElement.addClass($scope.params.responsive !== false ? 'pip-responsive' : '');\r\n\r\n                $timeout(function () {\r\n                    position();\r\n                    if ($scope.params.template) {\r\n                        content = $compile($scope.params.template)($scope);\r\n                        $element.find('.pip-popover').append(content);\r\n                    }\r\n\r\n                    init();\r\n                });\r\n\r\n                $timeout(function () {\r\n                    calcHeight();\r\n                }, 200);\r\n\r\n                $scope.onPopoverClick = onPopoverClick;\r\n                $scope = _.defaults($scope, $scope.$parent);    // eslint-disable-line \r\n\r\n                $rootScope.$on('pipPopoverResize', onResize);\r\n                $(window).resize(onResize);\r\n\r\n                function init() {\r\n                    backdropElement.addClass('opened');\r\n                    $('.pip-popover-backdrop').focus();\r\n                    if ($scope.params.timeout) {\r\n                        $timeout(function () {\r\n                            closePopover();\r\n                        }, $scope.params.timeout);\r\n                    }\r\n                }\r\n\r\n                function backdropClick() {\r\n                    if ($scope.params.cancelCallback) {\r\n                        $scope.params.cancelCallback();\r\n                    }\r\n\r\n                    closePopover();\r\n                }\r\n\r\n                function closePopover() {\r\n                    backdropElement.removeClass('opened');\r\n                    $timeout(function () {\r\n                        backdropElement.remove();\r\n                    }, 100);\r\n                }\r\n\r\n                function onPopoverClick($e) {\r\n                    $e.stopPropagation();\r\n                }\r\n\r\n                function position() {\r\n                    if ($scope.params.element) {\r\n                        var element = $($scope.params.element),\r\n                            pos = element.offset(),\r\n                            width = element.width(),\r\n                            height = element.height(),\r\n                            docWidth = $(document).width(),\r\n                            docHeight = $(document).height(),\r\n                            popover = backdropElement.find('.pip-popover');\r\n\r\n                        if (pos) {\r\n                            popover\r\n                                .css('max-width', docWidth - (docWidth - pos.left))\r\n                                .css('max-height', docHeight - (pos.top + height) - 32, 0)\r\n                                .css('left', pos.left - popover.width() + width / 2)\r\n                                .css('top', pos.top + height + 16);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                function calcHeight() {\r\n                    if ($scope.params.calcHeight === false) { return; }\r\n\r\n                    var popover = backdropElement.find('.pip-popover'),\r\n                        title = popover.find('.pip-title'),\r\n                        footer = popover.find('.pip-footer'),\r\n                        content = popover.find('.pip-content'),\r\n                        contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\r\n\r\n                    content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\r\n                }\r\n\r\n                function onResize() {\r\n                    backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\r\n                    position();\r\n                    calcHeight();\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipPopover.Service', []);\r\n\r\n    thisModule.service('pipPopoverService',\r\n        function ($compile, $rootScope, $timeout) {\r\n            var popoverTemplate;\r\n\r\n            popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\r\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\r\n\r\n            return {\r\n                show: onShow,\r\n                hide: onHide,\r\n                resize: onResize\r\n            };\r\n\r\n            function onShow(p) {\r\n                var element, scope, params, content;\r\n\r\n                element = $('body');\r\n                if (element.find('md-backdrop').length > 0) { return; }\r\n                onHide();\r\n                scope = $rootScope.$new();\r\n                params = p && _.isObject(p) ? p : {};\r\n                scope.params = params;\r\n                scope.locals = params.locals;\r\n                content = $compile(popoverTemplate)(scope);\r\n                element.append(content);\r\n            }\r\n\r\n            function onHide() {\r\n                var backdropElement = $('.pip-popover-backdrop');\r\n\r\n                backdropElement.removeClass('opened');\r\n                $timeout(function () {\r\n                    backdropElement.remove();\r\n                }, 100);\r\n            }\r\n\r\n            function onResize() {\r\n                $rootScope.$broadcast('pipPopoverResize');\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipRoutingProgress', ['ngMaterial']);\r\n\r\n    thisModule.directive('pipRoutingProgress', function () {\r\n        return {\r\n            restrict: 'EA',\r\n            replace: true,\r\n            scope: {\r\n                    showProgress: '&',\r\n                    logoUrl: '@'\r\n                },\r\n            templateUrl: 'progress/routing_progress.html',\r\n            controller: 'pipRoutingProgressController'\r\n        };\r\n    });\r\n\r\n    thisModule.controller('pipRoutingProgressController',\r\n        function ($scope, $element, $attrs) {\r\n            var  image = $element.children('img');          \r\n\r\n            loadProgressImage();\r\n\r\n            return;\r\n\r\n            function loadProgressImage() {\r\n                if ($scope.logoUrl) {\r\n                    image.attr('src', $scope.logoUrl);\r\n                }\r\n            }\r\n\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n    var thisModule = angular.module('pipToasts', ['ngMaterial', 'pipControls.Translate']);\r\n\r\n    thisModule.controller('pipToastController',\r\n        function ($scope, $mdToast, toast, $injector) {\r\n            var pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') \r\n                ? $injector.get('pipErrorDetailsDialog') : null;\r\n\r\n            // if (toast.type && sounds['toast_' + toast.type]) {\r\n            //     sounds['toast_' + toast.type].play();\r\n            // }\r\n\r\n            $scope.message = toast.message;\r\n            $scope.actions = toast.actions;\r\n            $scope.toast = toast;\r\n            \r\n            if (toast.actions.length === 0) {\r\n                $scope.actionLenght = 0;\r\n            } else if (toast.actions.length === 1) {\r\n                $scope.actionLenght = toast.actions[0].toString().length;\r\n            } else {\r\n                $scope.actionLenght = null;\r\n            }\r\n\r\n            $scope.showDetails = pipErrorDetailsDialog != null;\r\n            $scope.onDetails = function () {\r\n                $mdToast.hide();\r\n\r\n                if (pipErrorDetailsDialog) {\r\n                    pipErrorDetailsDialog.show(\r\n                        {\r\n                            error: $scope.toast.error,\r\n                            ok: 'Ok'\r\n                        },\r\n                        angular.noop,\r\n                        angular.noop\r\n                    );\r\n                }\r\n            };\r\n\r\n            $scope.onAction = function (action) {\r\n                $mdToast.hide(\r\n                    {\r\n                        action: action,\r\n                        id: toast.id,\r\n                        message: toast.message\r\n                    });\r\n            };\r\n        }\r\n    );\r\n\r\n    thisModule.service('pipToasts',\r\n        function ($rootScope, $mdToast) {\r\n            var\r\n                SHOW_TIMEOUT = 20000,\r\n                SHOW_TIMEOUT_NOTIFICATIONS = 20000,\r\n                toasts = [],\r\n                currentToast,\r\n                sounds = {};\r\n\r\n            /** pre-load sounds for notifications */\r\n                // sounds['toast_error'] = ngAudio.load('sounds/fatal.mp3');\r\n                // sounds['toast_notification'] = ngAudio.load('sounds/error.mp3');\r\n                // sounds['toast_message'] = ngAudio.load('sounds/warning.mp3');\r\n\r\n                // Remove error toasts when page is changed\r\n            $rootScope.$on('$stateChangeSuccess', onStateChangeSuccess);\r\n            $rootScope.$on('pipSessionClosed', onClearToasts);\r\n            $rootScope.$on('pipIdentityChanged', onClearToasts);\r\n\r\n            return {\r\n                showNotification: showNotification,\r\n                showMessage: showMessage,\r\n                showError: showError,\r\n                hideAllToasts: hideAllToasts,\r\n                clearToasts: clearToasts,\r\n                removeToastsById: removeToastsById,\r\n                getToastById: getToastById\r\n            };\r\n\r\n            // Take the next from queue and show it\r\n            function showNextToast() {\r\n                var toast;\r\n\r\n                if (toasts.length > 0) {\r\n                    toast = toasts[0];\r\n                    toasts.splice(0, 1);\r\n                    showToast(toast);\r\n                }\r\n            }\r\n\r\n            // Show toast\r\n            function showToast(toast) {\r\n                currentToast = toast;\r\n\r\n                $mdToast.show({\r\n                    templateUrl: 'toast/toast.html',\r\n                    hideDelay: toast.duration || SHOW_TIMEOUT,\r\n                    position: 'bottom left',\r\n                    controller: 'pipToastController',\r\n                    locals: {\r\n                        toast: currentToast,\r\n                        sounds: sounds\r\n                    }\r\n                })\r\n                    .then(\r\n                    function showToastOkResult(action) {\r\n                        if (currentToast.successCallback) {\r\n                            currentToast.successCallback(action);\r\n                        }\r\n                        currentToast = null;\r\n                        showNextToast();\r\n                    },\r\n                    function showToastCancelResult(action) {\r\n                        if (currentToast.cancelCallback) {\r\n                            currentToast.cancelCallback(action);\r\n                        }\r\n                        currentToast = null;\r\n                        showNextToast();\r\n                    }\r\n                );\r\n            }\r\n\r\n            function addToast(toast) {\r\n                if (currentToast && toast.type !== 'error') {\r\n                    toasts.push(toast);\r\n                } else {\r\n                    showToast(toast);\r\n                }\r\n            }\r\n\r\n            function removeToasts(type) {\r\n                var result = [];\r\n\r\n                _.each(toasts, function (toast) {\r\n                    if (!toast.type || toast.type !== type) {\r\n                        result.push(toast);\r\n                    }\r\n                });\r\n                toasts = _.cloneDeep(result);\r\n            }\r\n\r\n            function removeToastsById(id) {\r\n                _.remove(toasts, {id: id});\r\n            }\r\n\r\n            function getToastById(id) {\r\n                return _.find(toasts, {id: id});\r\n            }\r\n\r\n            function onStateChangeSuccess() {\r\n                // toasts = _.reject(toasts, function (toast) {\r\n                //     return toast.type === 'error';\r\n                // });\r\n\r\n                // if (currentToast && currentToast.type === 'error') {\r\n                //     $mdToast.cancel();\r\n                //     showNextToast();\r\n                // }\r\n            }\r\n\r\n            function onClearToasts() {\r\n                clearToasts();\r\n            }\r\n\r\n            // Show new notification toast at the top right\r\n            function showNotification(message, actions, successCallback, cancelCallback, id) {\r\n                // pipAssert.isDef(message, 'pipToasts.showNotification: message should be defined');\r\n                // pipAssert.isString(message, 'pipToasts.showNotification: message should be a string');\r\n                // pipAssert.isArray(actions || [], 'pipToasts.showNotification: actions should be an array');\r\n                // if (successCallback) {\r\n                //     pipAssert.isFunction(successCallback, 'showNotification: successCallback should be a function');\r\n                // }\r\n                // if (cancelCallback) {\r\n                //     pipAssert.isFunction(cancelCallback, 'showNotification: cancelCallback should be a function');\r\n                // }\r\n\r\n                addToast({\r\n                    id: id || null,\r\n                    type: 'notification',\r\n                    message: message,\r\n                    actions: actions || ['ok'],\r\n                    successCallback: successCallback,\r\n                    cancelCallback: cancelCallback,\r\n                    duration: SHOW_TIMEOUT_NOTIFICATIONS\r\n                });\r\n            }\r\n\r\n            // Show new message toast at the top right\r\n            function showMessage(message, successCallback, cancelCallback, id) {\r\n                // pipAssert.isDef(message, 'pipToasts.showMessage: message should be defined');\r\n                // pipAssert.isString(message, 'pipToasts.showMessage: message should be a string');\r\n                // if (successCallback) {\r\n                //     pipAssert.isFunction(successCallback, 'pipToasts.showMessage:successCallback should be a function');\r\n                // }\r\n                // if (cancelCallback) {\r\n                //     pipAssert.isFunction(cancelCallback, 'pipToasts.showMessage: cancelCallback should be a function');\r\n                // }\r\n\r\n                addToast({\r\n                    id: id || null,\r\n                    type: 'message',\r\n                    message: message,\r\n                    actions: ['ok'],\r\n                    successCallback: successCallback,\r\n                    cancelCallback: cancelCallback\r\n                });\r\n            }\r\n\r\n            // Show error toast at the bottom right after error occured\r\n            function showError(message, successCallback, cancelCallback, id, error) {\r\n                // pipAssert.isDef(message, 'pipToasts.showError: message should be defined');\r\n                // pipAssert.isString(message, 'pipToasts.showError: message should be a string');\r\n                // if (successCallback) {\r\n                //     pipAssert.isFunction(successCallback, 'pipToasts.showError: successCallback should be a function');\r\n                // }\r\n                // if (cancelCallback) {\r\n                //     pipAssert.isFunction(cancelCallback, 'pipToasts.showError: cancelCallback should be a function');\r\n                // }\r\n\r\n                addToast({\r\n                    id: id || null,\r\n                    error: error,\r\n                    type: 'error',\r\n                    message: message || 'Unknown error.',\r\n                    actions: ['ok'],\r\n                    successCallback: successCallback,\r\n                    cancelCallback: cancelCallback\r\n                });\r\n            }\r\n\r\n            // Hide and clear all toast when user signs out\r\n            function hideAllToasts() {\r\n                $mdToast.cancel();\r\n                toasts = [];\r\n            }\r\n\r\n            // Clear toasts by type\r\n            function clearToasts(type?: any) {\r\n                if (type) {\r\n                    // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\r\n                    removeToasts(type);\r\n                } else {\r\n                    $mdToast.cancel();\r\n                    toasts = [];\r\n                }\r\n            }\r\n        }\r\n    );\r\n\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/color_picker.html',\n    '<ul class=\"pip-color-picker {{vm.class}}\" pip-selected=\"vm.currentColorIndex\" pip-enter-space-press=\"vm.enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in vm.colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"vm.selectColor($index)\" aria-label=\"color\" ng-disabled=\"vm.disabled()\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == vm.currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/popover.html',\n    '<div ng-if=\"params.templateUrl\" class=\"pip-popover flex layout-column\" ng-click=\"onPopoverClick($event)\" ng-include=\"params.templateUrl\"></div><div ng-if=\"params.template\" class=\"pip-popover\" ng-click=\"onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/routing_progress.html',\n    '<div class=\"pip-routing-progress layout-column layout-align-center-center\" ng-show=\"showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': toast.type==\\'error\\', \\'pip-column-toast\\': toast.actions.length > 1 || actionLenght > 4, \\'pip-no-action-toast\\': actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"message\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"actions.length > 0 || (toast.type==\\'error\\' && toast.error)\"><div class=\"flex\" ng-if=\"toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"toast.type==\\'error\\' && toast.error && showDetails\" ng-click=\"onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"onAction(action)\" ng-repeat=\"action in actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n"]}