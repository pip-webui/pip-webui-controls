{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/color_picker/color_picker.ts","src/controls.ts","src/dependencies/translate.ts","src/image_slider/image_slider.ts","src/image_slider/image_slider_service.ts","src/image_slider/slider_button.ts","src/image_slider/slider_indicator.ts","src/markdown/markdown.ts","src/popover/popover.ts","src/popover/popover_service.ts","src/progress/routing_progress.ts","src/toast/toasts.ts","temp/pip-webui-controls-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","controls","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","ColorPickerController","$scope","$element","$attrs","$timeout","DEFAULT_COLORS","_$timeout","_$scope","class","colors","_","isArray","colorChange","currentColor","currentColorIndex","indexOf","ngDisabled","$inject","prototype","disabled","selectColor","index","_this","$apply","enterSpacePress","event","pipColorPicker","$parse","templateUrl","controller","controllerAs","2","3","thisModule","angular","filter","$injector","pipTranslate","has","get","key","translate","4","pipImageSliderController","$interval","$pipImageSlider","_index","DEFAULT_INTERVAL","swipeStart","sliderIndex","_type","_interval","_$attrs","_$interval","slideToPrivate","addClass","setIndex","_blocks","find","$","startInterval","_throttled","throttle","toBlock","_newIndex","_direction","id","registerSlider","on","stopInterval","removeSlider","nextBlock","restartInterval","prevBlock","nextIndex","console","log","pipImageIndex","_timePromises","cancel","type","interval","directive","pipImageSlider","ImageSliderService","ANIMATION_DURATION","_sliders","sliderId","sliderScope","getSliderScope","nextCarousel","removeClass","prevCarousel","blocks","oldIndex","direction","blockIndex","service","6","pipButtonType","pipSliderId","vm","7","slideTo","pipSlideTo","css","8","setTranslations","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","location","time","array","attachTypes","attach","attachString","push","toBoolean","value","toString","toLowerCase","textString","isClamped","height","options","obj","item","text","describeAttachments","pipLineCount","isNumber","clampGetter","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","html","listGetter","attr","append","pipText","pipList","textGetter","pipRebind","$watch","newValue","bindText","$on","9","PopoverController","$rootScope","$compile","template","timeout","element","calcH","calcHeight","cancelCallback","backdropElement","backdropClick","responsive","position","content","init","onResize","resize","closePopover","remove","onPopoverClick","$e","stopPropagation","focus","pos","offset","width","docWidth","document","docHeight","popover","left","top","title","footer","contentHeight","outerHeight","Math","max","pipPopover","restrict","scope","PopoverService","_$compile","_$rootScope","popoverTemplate","show","p","params","hide","$new","isObject","locals","$broadcast","11","RoutingController","_image","children","showProgress","logoUrl","loadProgressImage","RoutingProgress","replace","ToastController","$mdToast","toast","_pipErrorDetailsDialog","_$mdToast","message","actions","actionLenght","showDetails","onDetails","error","ok","noop","onAction","action","ToastService","SHOW_TIMEOUT","SHOW_TIMEOUT_NOTIFICATIONS","toasts","sounds","onStateChangeSuccess","onClearToasts","showNextToast","splice","showToast","duration","currentToast","then","showToastOkResult","showToastCancelResult","successCallback","addToast","removeToasts","result","each","cloneDeep","removeToastsById","getToastById","clearToasts","showNotification","showMessage","showError","hideAllToasts","13","run","$templateCache","put"],"mappings":"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","file":"pip-webui-controls.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export interface IColorPicker {\r\n    class: string;\r\n    colors: string[];\r\n    currentColor: string;\r\n    currentColorIndex: number;\r\n    ngDisabled: Function;\r\n    colorChange: Function;\r\n\r\n    enterSpacePress(event): void;\r\n    disabled(): boolean;\r\n    selectColor(index: number);\r\n}\r\n\r\nexport class ColorPickerController implements IColorPicker {\r\n  \r\n    private _$timeout;\r\n    private _$scope: ng.IScope;\r\n\r\n    public class: string;\r\n    public colors: string[];\r\n    public currentColor: string;\r\n    public currentColorIndex: number;\r\n    public ngDisabled: Function;\r\n    public colorChange: Function;\r\n\r\n    constructor( \r\n        $scope: ng.IScope, \r\n        $element,\r\n        $attrs, \r\n        $timeout ) {\r\n            let DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\r\n            this._$timeout = $timeout;\r\n            this._$scope = $scope;\r\n\r\n            this.class = $attrs.class || '';\r\n            this.colors = !$scope['colors'] || _.isArray($scope['colors']) && $scope['colors'].length === 0 ? DEFAULT_COLORS : $scope['colors'];\r\n            this.colorChange = $scope['colorChange'] || null;\r\n            this.currentColor = $scope['currentColor'] || this.colors[0];\r\n            this.currentColorIndex = this.colors.indexOf(this.currentColor);\r\n            this.ngDisabled = $scope['ngDisabled'];\r\n\r\n    }\r\n\r\n    public disabled(): boolean {\r\n        if (this.ngDisabled) {\r\n            return this.ngDisabled();\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n     public selectColor(index: number) {\r\n        if (this.disabled()) { return; }\r\n        this.currentColorIndex = index;\r\n        this.currentColor = this.colors[this.currentColorIndex];\r\n        this._$timeout(() => {\r\n            this._$scope.$apply();\r\n        });\r\n\r\n        if (this.colorChange) {\r\n            this.colorChange();\r\n        }\r\n    };\r\n\r\n    public enterSpacePress(event): void {\r\n        this.selectColor(event.index);\r\n    };\r\n\r\n}\r\n\r\n(() => {\r\n    function pipColorPicker($parse: any) {\r\n        \"ngInject\";\r\n\r\n          return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    colors: '=pipColors',\r\n                    currentColor: '=ngModel',\r\n                    colorChange: '&ngChange'\r\n                },\r\n                templateUrl: 'color_picker/color_picker.html',\r\n                controller: ColorPickerController,\r\n                controllerAs: 'vm'\r\n            };\r\n    }\r\n\r\n\r\n    angular\r\n        .module('pipColorPicker', ['pipControls.Templates'])\r\n        .directive('pipColorPicker', pipColorPicker);\r\n\r\n\r\n})();\r\n\r\n\r\n/// <reference path=\"../../typings/tsd.d.ts\" />\r\n/*\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipColorPicker', [ 'pipControls.Templates']); // 'pipFocused',\r\n\r\n    thisModule.directive('pipColorPicker',\r\n        function () {\r\n            return {\r\n                restrict: 'EA',\r\n                scope: {\r\n                    ngDisabled: '&',\r\n                    colors: '=pipColors',\r\n                    currentColor: '=ngModel',\r\n                    colorChange: '&ngChange'\r\n                },\r\n                templateUrl: 'color_picker/color_picker.html',\r\n                controller: 'pipColorPickerController'\r\n            };\r\n        }\r\n    );\r\n    thisModule.controller('pipColorPickerController',\r\n        function ($scope, $element, $attrs, $timeout) {\r\n            var\r\n                DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\r\n\r\n            $scope.class = $attrs.class || '';\r\n\r\n            if (!$scope.colors || _.isArray($scope.colors) && $scope.colors.length === 0) {\r\n                $scope.colors = DEFAULT_COLORS;\r\n            }\r\n\r\n            $scope.currentColor = $scope.currentColor || $scope.colors[0];\r\n            $scope.currentColorIndex = $scope.colors.indexOf($scope.currentColor);\r\n\r\n            $scope.disabled = function () {\r\n                if ($scope.ngDisabled) {\r\n                    return $scope.ngDisabled();\r\n                }\r\n\r\n                return true;\r\n            };\r\n\r\n            $scope.selectColor = function (index) {\r\n                if ($scope.disabled()) {\r\n                    return;\r\n                }\r\n                $scope.currentColorIndex = index;\r\n\r\n                $scope.currentColor = $scope.colors[$scope.currentColorIndex];\r\n\r\n                $timeout(function () {\r\n                    $scope.$apply();\r\n                });\r\n\r\n                if ($scope.colorChange) {\r\n                    $scope.colorChange();\r\n                }\r\n            };\r\n\r\n            $scope.enterSpacePress = function (event) {\r\n                $scope.selectColor(event.index);\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n*/\r\n\r\n\r\n//import {FileUploadController} from './upload/FileUploadController';\r\n//import {FileProgressController} from './progress/FileProgressController';\r\n//import {FileUploadService} from './service/FileUploadService';","﻿/// <reference path=\"../typings/tsd.d.ts\" />\r\n\r\n(() => {\r\n    'use strict';\r\n\r\n    angular.module('pipControls', [\r\n        'pipMarkdown',\r\n        'pipColorPicker',\r\n        'pipRoutingProgress',\r\n        'pipPopover',\r\n        'pipImageSlider',\r\n        'pipToasts',\r\n        'pipControls.Translate'\r\n    ]);\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipControls.Translate', []);\r\n\r\n    thisModule.filter('translate', function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') \r\n            ? $injector.get('pipTranslate') : null;\r\n\r\n        return function (key) {\r\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    });\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n/*\r\n(() => {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\r\n\r\n    thisModule.directive('pipImageSlider',\r\n        function () {\r\n            return {\r\n                scope: {\r\n                    sliderIndex: '=pipImageIndex'\r\n                },\r\n                controller: function ($scope, $element, $attrs, $parse, $timeout, $interval, $pipImageSlider) {\r\n                    var blocks,\r\n                        index = 0, newIndex,\r\n                        direction,\r\n                        type = $parse($attrs.pipAnimationType)($scope),\r\n                        DEFAULT_INTERVAL = 4500,\r\n                        interval = $parse($attrs.pipAnimationInterval)($scope),\r\n                        timePromises,\r\n                        throttled;\r\n\r\n                    $element.addClass('pip-image-slider');\r\n                    $element.addClass('pip-animation-' + type);\r\n\r\n                    $scope.swipeStart = 0;\r\n                    \r\n                     //if ($swipe)\r\n                     //$swipe.bind($element, {\r\n                     //'start': function(coords) {\r\n                     //if (coords) $scope.swipeStart = coords.x;\r\n                     //else $scope.swipeStart = 0;\r\n                     //},\r\n                     //'end': function(coords) {\r\n                     //var delta;\r\n                     //if (coords) {\r\n                     //delta = $scope.swipeStart - coords.x;\r\n                     //if (delta > 150)  $scope.nextBlock();\r\n                     //if (delta < -150)  $scope.prevBlock();\r\n                     //$scope.swipeStart = 0;\r\n                     //} else $scope.swipeStart = 0;\r\n                     //}\r\n                     //});\r\n                     \r\n                    setIndex();\r\n\r\n                    $timeout(function () {\r\n                        blocks = $element.find('.pip-animation-block');\r\n                        if (blocks.length > 0) {\r\n                            $(blocks[0]).addClass('pip-show');\r\n                        }\r\n                    });\r\n\r\n                    startInterval();\r\n                    throttled = _.throttle(function () {\r\n                        $pipImageSlider.toBlock(type, blocks, index, newIndex, direction);\r\n                        index = newIndex;\r\n                        setIndex();\r\n                    }, 700);\r\n\r\n                    $scope.nextBlock = function () {\r\n                        restartInterval();\r\n                        newIndex = index + 1 === blocks.length ? 0 : index + 1;\r\n                        direction = 'next';\r\n                        throttled();\r\n                    };\r\n\r\n                    $scope.prevBlock = function () {\r\n                        restartInterval();\r\n                        newIndex = index - 1 < 0 ? blocks.length - 1 : index - 1;\r\n                        direction = 'prev';\r\n                        throttled();\r\n                    };\r\n\r\n                    $scope.slideTo = function (nextIndex) {\r\n                        if (nextIndex === index || nextIndex > blocks.length - 1) {\r\n                            return;\r\n                        }\r\n\r\n                        restartInterval();\r\n                        newIndex = nextIndex;\r\n                        direction = nextIndex > index ? 'next' : 'prev';\r\n                        throttled();\r\n                    };\r\n                    \r\n                    if ($attrs.id) $pipImageSlider.registerSlider($attrs.id, $scope);\r\n\r\n                    function setIndex() {\r\n                        if ($attrs.pipImageIndex) $scope.sliderIndex = index;\r\n                    }\r\n\r\n                    function startInterval() {\r\n                        timePromises = $interval(function () {\r\n                            newIndex = index + 1 === blocks.length ? 0 : index + 1;\r\n                            direction = 'next';\r\n                            throttled();\r\n                        }, interval || DEFAULT_INTERVAL);\r\n                    }\r\n\r\n                    function stopInterval() {\r\n                        $interval.cancel(timePromises);\r\n                    }\r\n\r\n                    $element.on('$destroy', function () {\r\n                        stopInterval();\r\n                        $pipImageSlider.removeSlider($attrs.id);\r\n                    });\r\n\r\n                    function restartInterval() {\r\n                        stopInterval();\r\n                        startInterval();\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n*/\r\n\r\nclass pipImageSliderController{\r\n\r\n    private _$attrs;\r\n    private _$interval: angular.IIntervalService;\r\n\r\n    private _blocks: any[];\r\n    private _index: number = 0;\r\n    private _newIndex: number;\r\n    private _direction: string;\r\n    private _type: any;\r\n    private DEFAULT_INTERVAL = 4500;\r\n    private _interval;\r\n    private _timePromises;\r\n    private _throttled: Function;\r\n\r\n    public swipeStart: number = 0;\r\n    public sliderIndex: number;\r\n    public slideTo: Function;\r\n\r\n    constructor(\r\n        $scope: ng.IScope, \r\n        $element, \r\n        $attrs, \r\n        $parse: ng.IParseService, \r\n        $timeout: angular.ITimeoutService,\r\n        $interval: angular.IIntervalService, \r\n        $pipImageSlider) {\r\n\r\n        this.sliderIndex = $scope['sliderIndex'];\r\n        this._type = $scope['type']();\r\n        this._interval = $scope['interval']();\r\n        this._$attrs = $attrs;\r\n        this._$interval = $interval;\r\n        $scope['slideTo'] = this.slideToPrivate;\r\n\r\n        $element.addClass('pip-image-slider');\r\n        $element.addClass('pip-animation-' + this._type);\r\n        \r\n        this.setIndex();\r\n\r\n        $timeout(() => {\r\n            this._blocks = $element.find('.pip-animation-block');\r\n            if (this._blocks.length > 0) {\r\n                $(this._blocks[0]).addClass('pip-show');\r\n            }\r\n        });\r\n\r\n        this.startInterval();\r\n        this._throttled = _.throttle(() => {\r\n            $pipImageSlider.toBlock(this._type, this._blocks, this._index, this._newIndex, this._direction);\r\n            this._index = this._newIndex;;\r\n            $scope['selectIndex'] = this._index;\r\n            this.setIndex();\r\n        }, 700);\r\n        \r\n        if ($attrs.id) { $pipImageSlider.registerSlider($attrs.id, $scope) }\r\n\r\n        $element.on('$destroy', () => {\r\n            this.stopInterval();\r\n            $pipImageSlider.removeSlider($attrs.id);\r\n        });\r\n\r\n    }\r\n\r\n    public nextBlock() {\r\n        this.restartInterval();\r\n        this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\r\n        this._direction = 'next';\r\n        this._throttled();\r\n    }\r\n\r\n    public prevBlock() {\r\n        this.restartInterval();\r\n        this._newIndex = this._index - 1 < 0 ? this._blocks.length - 1 : this._index - 1;\r\n        this._direction = 'prev';\r\n        this._throttled();\r\n    }\r\n\r\n    public slideToPrivate(nextIndex: number) {\r\n        console.log(this);\r\n        if (nextIndex === this._index || nextIndex > this._blocks.length - 1) {\r\n            return;\r\n        }\r\n\r\n        this.restartInterval();\r\n        this._newIndex = nextIndex;\r\n        this._direction = nextIndex > this._index ? 'next' : 'prev';\r\n        this._throttled();\r\n    }\r\n\r\n    private setIndex() {\r\n        if (this._$attrs.pipImageIndex) this.sliderIndex = this._index;\r\n    }\r\n\r\n    private startInterval() {\r\n        this._timePromises = this._$interval(() => {\r\n            this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\r\n            this._direction = 'next';\r\n            this._throttled();\r\n        }, this._interval || this.DEFAULT_INTERVAL);\r\n    }\r\n\r\n    private stopInterval() {\r\n        this._$interval.cancel(this._timePromises);\r\n    }\r\n\r\n    private restartInterval() {\r\n        this.stopInterval();\r\n        this.startInterval();\r\n    }\r\n}\r\n\r\n(() => {\r\n\r\n    function pipImageSlider() {\r\n        return {\r\n            scope: {\r\n                sliderIndex: '=pipImageIndex',\r\n                type: '&pipAnimationType',\r\n                interval: '&pipAnimationInterval'\r\n            },\r\n            controller: pipImageSliderController,\r\n            controllerAs: 'vm'\r\n        };\r\n    }\r\n\r\n\r\n    angular\r\n        .module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service'])\r\n        .directive('pipImageSlider', pipImageSlider);\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\ninterface IImageSliderService {\r\n    registerSlider(sliderId: string, sliderScope): void;\r\n    removeSlider(sliderId: string): void;\r\n    getSliderScope(sliderId: string);\r\n    nextCarousel(nextBlock, prevBlock): void;\r\n    prevCarousel(nextBlock, prevBlock): void;\r\n    toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void;\r\n}\r\n\r\nclass ImageSliderService {\r\n    private _$timeout: angular.ITimeoutService;\r\n    private ANIMATION_DURATION: number = 550;\r\n    private _sliders = {};\r\n\r\n    constructor($timeout: angular.ITimeoutService) {\r\n        this._$timeout = $timeout;\r\n    }\r\n\r\n    public registerSlider(sliderId: string, sliderScope): void {\r\n        console.log('reg', sliderScope);\r\n        this._sliders[sliderId] = sliderScope;\r\n    }\r\n            \r\n    public removeSlider(sliderId: string): void {\r\n        delete this._sliders[sliderId];\r\n    }\r\n\r\n    public getSliderScope(sliderId: string) {\r\n        console.log('ggg', this._sliders, 'jjj');\r\n        return this._sliders[sliderId];\r\n    }\r\n\r\n    public nextCarousel(nextBlock, prevBlock): void {\r\n        nextBlock.addClass('pip-next');\r\n                \r\n        this._$timeout(() => {\r\n            nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\r\n            prevBlock.addClass('animated').removeClass('pip-show');\r\n        }, 100);\r\n    }\r\n\r\n    public prevCarousel(nextBlock, prevBlock): void {\r\n        this._$timeout(() => {\r\n            nextBlock.addClass('animated').addClass('pip-show');\r\n            prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\r\n        }, 100);\r\n    }\r\n\r\n    public toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void {\r\n        let prevBlock = $(blocks[oldIndex]),\r\n            blockIndex: number = nextIndex,\r\n            nextBlock = $(blocks[blockIndex]);\r\n\r\n        if (type === 'carousel') {\r\n            $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\r\n\r\n            if (direction && (direction === 'prev' || direction === 'next')) {\r\n                if (direction === 'prev') {\r\n                    this.prevCarousel(nextBlock, prevBlock);\r\n                } else {\r\n                    this.nextCarousel(nextBlock, prevBlock);\r\n                }\r\n            } else {\r\n                if (nextIndex && nextIndex < oldIndex) {\r\n                    this.prevCarousel(nextBlock, prevBlock);\r\n                } else {\r\n                    this.nextCarousel(nextBlock, prevBlock);\r\n                }\r\n            }\r\n        } else {\r\n            prevBlock.addClass('animated').removeClass('pip-show');\r\n            nextBlock.addClass('animated').addClass('pip-show');\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n(() => {\r\n    'use strict';\r\n    angular\r\n        .module('pipImageSlider.Service', [])\r\n        .service('$pipImageSlider', ImageSliderService);\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(() => {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSliderButton', []);\r\n\r\n    thisModule.directive('pipSliderButton',\r\n        function () {\r\n            return {\r\n                scope: {},\r\n                controller: function ($scope, $element, $parse, $attrs, $pipImageSlider) {\r\n                    var type = $parse($attrs.pipButtonType)($scope),\r\n                        sliderId = $parse($attrs.pipSliderId)($scope);\r\n\r\n                    $element.on('click', () => {\r\n                        if (!sliderId || !type) {\r\n                            return;\r\n                        }\r\n\r\n                        $pipImageSlider.getSliderScope(sliderId).vm[type + 'Block']();\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipSliderIndicator', []);\r\n\r\n    thisModule.directive('pipSliderIndicator',\r\n        function () {\r\n            return {\r\n                scope: false,\r\n                controller: ($scope, $element, $parse, $attrs, $pipImageSlider) => {\r\n                    var sliderId = $parse($attrs.pipSliderId)($scope),\r\n                        slideTo = $parse($attrs.pipSlideTo)($scope);\r\n\r\n                    $element.css('cursor', 'pointer');\r\n                    $element.on('click',  () => {\r\n                        if (!sliderId || slideTo && slideTo < 0) {\r\n                            return;\r\n                        }\r\n                        $pipImageSlider.getSliderScope(sliderId).vm.slideToPrivate(slideTo);\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\ndeclare var marked: any;\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipMarkdown', ['ngSanitize']);\r\n\r\n    thisModule.run(function ($injector) {\r\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            pipTranslate.setTranslations('en', {\r\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\r\n                'checklist': 'Checklist',\r\n                'documents': 'Documents',\r\n                'pictures': 'Pictures',\r\n                'location': 'Location',\r\n                'time': 'Time'\r\n            });\r\n            pipTranslate.setTranslations('ru', {\r\n                'MARKDOWN_ATTACHMENTS': 'Вложения:',\r\n                'checklist': 'Список',\r\n                'documents': 'Документы',\r\n                'pictures': 'Изображения',\r\n                'location': 'Местонахождение',\r\n                'time': 'Время'\r\n            });\r\n        }\r\n    });\r\n\r\n    thisModule.directive('pipMarkdown',\r\n        function ($parse, $injector) {\r\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n            return {\r\n                restrict: 'EA',\r\n                scope: false,\r\n                link: function ($scope: any, $element, $attrs: any) {\r\n                    var\r\n                        textGetter = $parse($attrs.pipText),\r\n                        listGetter = $parse($attrs.pipList),\r\n                        clampGetter = $parse($attrs.pipLineCount);\r\n\r\n                    function describeAttachments(array) {\r\n                        var attachString = '',\r\n                            attachTypes = [];\r\n\r\n                        _.each(array, function (attach) {\r\n                            if (attach.type && attach.type !== 'text') {\r\n                                if (attachString.length === 0 && pipTranslate) {\r\n                                    attachString = pipTranslate.translate('MARKDOWN_ATTACHMENTS');\r\n                                }\r\n\r\n                                if (attachTypes.indexOf(attach.type) < 0) {\r\n                                    attachTypes.push(attach.type);\r\n                                    attachString += attachTypes.length > 1 ? ', ' : ' ';\r\n                                    if (pipTranslate)\r\n                                        attachString += pipTranslate.translate(attach.type);\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        return attachString;\r\n                    }\r\n\r\n                    function toBoolean(value) {\r\n                        if (value == null) return false;\r\n                        if (!value) return false;\r\n                        value = value.toString().toLowerCase();\r\n                        return value == '1' || value == 'true';\r\n                    }\r\n\r\n                    function bindText(value) {\r\n                        var textString, isClamped, height, options, obj;\r\n\r\n                        if (_.isArray(value)) {\r\n                            obj = _.find(value, function (item: any) {\r\n                                return item.type === 'text' && item.text;\r\n                            });\r\n\r\n                            textString = obj ? obj.text : describeAttachments(value);\r\n                        } else {\r\n                            textString = value;\r\n                        }\r\n\r\n                        isClamped = $attrs.pipLineCount && _.isNumber(clampGetter());\r\n                        isClamped = isClamped && textString && textString.length > 0;\r\n                        options = {\r\n                            gfm: true,\r\n                            tables: true,\r\n                            breaks: true,\r\n                            sanitize: true,\r\n                            pedantic: true,\r\n                            smartLists: true,\r\n                            smartypents: false\r\n                        };\r\n                        textString = marked(textString || '', options);\r\n                        if (isClamped) {\r\n                            height = 1.5 * clampGetter();\r\n                        }\r\n                        // Assign value as HTML\r\n                        $element.html('<div' + (isClamped ? listGetter() ? 'class=\"pip-markdown-content ' +\r\n                            'pip-markdown-list\" style=\"max-height: ' + height + 'em\">'\r\n                                : ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : listGetter()\r\n                                ? ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\r\n                        $element.find('a').attr('target', 'blank');\r\n                        if (!listGetter() && isClamped) {\r\n                            $element.append('<div class=\"pip-gradient-block\"></div>');\r\n                        }\r\n                    }\r\n\r\n                    // Fill the text\r\n                    bindText(textGetter($scope));\r\n\r\n                    // Also optimization to avoid watch if it is unnecessary\r\n                    if (toBoolean($attrs.pipRebind)) {\r\n                        $scope.$watch(textGetter, function (newValue) {\r\n                            bindText(newValue);\r\n                        });\r\n                    }\r\n\r\n                    $scope.$on('pipWindowResized', function () {\r\n                        bindText(textGetter($scope));\r\n                    });\r\n\r\n                    // Add class\r\n                    $element.addClass('pip-markdown');\r\n                }\r\n            };\r\n        }\r\n    );\r\n\r\n})();\r\n\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\n\r\nexport class PopoverController {\r\n  \r\n    private _$timeout;\r\n    private _$scope: ng.IScope;\r\n\r\n    public timeout;\r\n    public backdropElement;\r\n    public content;\r\n    public element;\r\n    public calcH: boolean;\r\n\r\n    public templateUrl;\r\n    public template\r\n\r\n    public cancelCallback: Function;\r\n\r\n    constructor( \r\n        $scope: ng.IScope,\r\n        $rootScope,\r\n        $element,\r\n        $timeout, \r\n        $compile\r\n       ) {\r\n           //$scope = _.defaults($scope, $scope.$parent);    // eslint-disable-line \r\n           this._$timeout = $timeout;\r\n           this.templateUrl = $scope['params'].templateUrl;\r\n           this.template = $scope['params'].template;\r\n           this.timeout = $scope['params'].timeout;\r\n           this.element = $scope['params'].element;\r\n           this.calcH = $scope['params'].calcHeight;\r\n           this.cancelCallback = $scope['params'].cancelCallback;\r\n           this.backdropElement = $('.pip-popover-backdrop');\r\n           this.backdropElement.on('click keydown scroll',() =>{ this.backdropClick()});\r\n           this.backdropElement.addClass($scope['params'].responsive !== false ? 'pip-responsive' : '');\r\n\r\n           $timeout(() => {\r\n                this.position();\r\n                if ($scope['params'].template) {\r\n                    this.content = $compile($scope['params'].template)($scope);\r\n                    $element.find('.pip-popover').append(this.content);\r\n                }\r\n\r\n                this.init();\r\n           });\r\n\r\n           $timeout(() => { this.calcHeight(); }, 200);\r\n           $rootScope.$on('pipPopoverResize', () => { this.onResize()});\r\n           $(window).resize(() => { this.onResize() });\r\n\r\n    }\r\n\r\n    public backdropClick() {\r\n        if (this.cancelCallback) {\r\n            this.cancelCallback();\r\n        }\r\n        this.closePopover();\r\n    }\r\n\r\n    public closePopover() {\r\n        this.backdropElement.removeClass('opened');\r\n        this._$timeout(() => {\r\n            this.backdropElement.remove();\r\n        }, 100);\r\n    }\r\n\r\n    public onPopoverClick($e) {\r\n        $e.stopPropagation();\r\n    }\r\n\r\n\r\n    private init() {\r\n        this.backdropElement.addClass('opened');\r\n        $('.pip-popover-backdrop').focus();\r\n        if (this.timeout) {\r\n            this._$timeout(function () {\r\n                this.closePopover();\r\n            }, this.timeout);\r\n        }\r\n    }\r\n\r\n    private position() {\r\n        if (this.element) {\r\n            let element = $(this.element),\r\n                pos = element.offset(),\r\n                width = element.width(),\r\n                height = element.height(),\r\n                docWidth = $(document).width(),\r\n                docHeight = $(document).height(),\r\n                popover = this.backdropElement.find('.pip-popover');\r\n\r\n            if (pos) {\r\n                popover\r\n                    .css('max-width', docWidth - (docWidth - pos.left))\r\n                    .css('max-height', docHeight - (pos.top + height) - 32, 0)\r\n                    .css('left', pos.left - popover.width() + width / 2)\r\n                    .css('top', pos.top + height + 16);\r\n            }\r\n        }\r\n    }\r\n\r\n    private onResize() {\r\n        this.backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\r\n        this.position();\r\n        this.calcHeight();\r\n    }\r\n\r\n    private calcHeight() {\r\n        if (this.calcH === false) { return; }\r\n        let popover = this.backdropElement.find('.pip-popover'),\r\n        title = popover.find('.pip-title'),\r\n        footer = popover.find('.pip-footer'),\r\n        content = popover.find('.pip-content'),\r\n        contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\r\n        content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\r\n    }\r\n}\r\n\r\n(() => {\r\n    function pipPopover($parse: any) {\r\n        \"ngInject\";\r\n\r\n          return {\r\n                restrict: 'EA',\r\n                scope: true,\r\n                templateUrl: 'popover/popover.html',\r\n                controller: PopoverController,\r\n                controllerAs: 'vm'\r\n            };\r\n    }\r\n\r\n\r\n    angular\r\n        .module('pipPopover', ['pipPopover.Service'])\r\n        .directive('pipPopover', pipPopover);\r\n\r\n\r\n})();\r\n\r\n\r\n\r\n/*\r\n(function () {\r\n    'use strict';\r\n\r\n    var thisModule = angular.module('pipPopover', ['pipPopover.Service']);\r\n\r\n    thisModule.directive('pipPopover', function () {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: true,\r\n            templateUrl: 'popover/popover.html',\r\n            controller: function ($scope, $rootScope, $element, $timeout, $compile) {\r\n                var backdropElement, content;\r\n\r\n                backdropElement = $('.pip-popover-backdrop');\r\n                backdropElement.on('click keydown scroll', backdropClick);\r\n                backdropElement.addClass($scope.params.responsive !== false ? 'pip-responsive' : '');\r\n\r\n                $timeout(function () {\r\n                    position();\r\n                    if ($scope.params.template) {\r\n                        content = $compile($scope.params.template)($scope);\r\n                        $element.find('.pip-popover').append(content);\r\n                    }\r\n\r\n                    init();\r\n                });\r\n\r\n                $timeout(function () {\r\n                    calcHeight();\r\n                }, 200);\r\n\r\n                $scope.onPopoverClick = onPopoverClick;\r\n                $scope = _.defaults($scope, $scope.$parent);    // eslint-disable-line \r\n\r\n                $rootScope.$on('pipPopoverResize', onResize);\r\n                $(window).resize(onResize);\r\n\r\n                function init() {\r\n                    backdropElement.addClass('opened');\r\n                    $('.pip-popover-backdrop').focus();\r\n                    if ($scope.params.timeout) {\r\n                        $timeout(function () {\r\n                            closePopover();\r\n                        }, $scope.params.timeout);\r\n                    }\r\n                }\r\n\r\n                function backdropClick() {\r\n                    if ($scope.params.cancelCallback) {\r\n                        $scope.params.cancelCallback();\r\n                    }\r\n\r\n                    closePopover();\r\n                }\r\n\r\n                function closePopover() {\r\n                    backdropElement.removeClass('opened');\r\n                    $timeout(function () {\r\n                        backdropElement.remove();\r\n                    }, 100);\r\n                }\r\n\r\n                function onPopoverClick($e) {\r\n                    $e.stopPropagation();\r\n                }\r\n\r\n                function position() {\r\n                    if ($scope.params.element) {\r\n                        var element = $($scope.params.element),\r\n                            pos = element.offset(),\r\n                            width = element.width(),\r\n                            height = element.height(),\r\n                            docWidth = $(document).width(),\r\n                            docHeight = $(document).height(),\r\n                            popover = backdropElement.find('.pip-popover');\r\n\r\n                        if (pos) {\r\n                            popover\r\n                                .css('max-width', docWidth - (docWidth - pos.left))\r\n                                .css('max-height', docHeight - (pos.top + height) - 32, 0)\r\n                                .css('left', pos.left - popover.width() + width / 2)\r\n                                .css('top', pos.top + height + 16);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                function calcHeight() {\r\n                    if ($scope.params.calcHeight === false) { return; }\r\n\r\n                    var popover = backdropElement.find('.pip-popover'),\r\n                        title = popover.find('.pip-title'),\r\n                        footer = popover.find('.pip-footer'),\r\n                        content = popover.find('.pip-content'),\r\n                        contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\r\n\r\n                    content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\r\n                }\r\n\r\n                function onResize() {\r\n                    backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\r\n                    position();\r\n                    calcHeight();\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n})();*/\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\nexport class PopoverService {\r\n  \r\n    private _$timeout;\r\n    private _$scope: ng.IScope;\r\n    private _$compile;\r\n    private _$rootScope: ng.IRootScopeService;\r\n\r\n    public popoverTemplate: string;\r\n\r\n    constructor( \r\n        $compile,\r\n        $rootScope, \r\n        $timeout\r\n       ) {\r\n           this._$compile = $compile;\r\n           this._$rootScope = $rootScope;\r\n           this._$timeout = $timeout;\r\n           this.popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\r\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\r\n    }\r\n\r\n    public show(p) {\r\n        let element, scope: ng.IScope, params, content;\r\n            \r\n        element = $('body');\r\n        if (element.find('md-backdrop').length > 0) { return; }\r\n        this.hide();\r\n        scope = this._$rootScope.$new();\r\n        params = p && _.isObject(p) ? p : {};\r\n        scope['params'] = params;\r\n        scope['locals'] = params.locals;\r\n        content = this._$compile(this.popoverTemplate)(scope);\r\n        element.append(content);\r\n    }\r\n\r\n    public hide() {\r\n        let backdropElement = $('.pip-popover-backdrop');\r\n        backdropElement.removeClass('opened');\r\n        this._$timeout(() => {\r\n            backdropElement.remove();\r\n        }, 100);\r\n    }\r\n\r\n    public resize() {\r\n        this._$rootScope.$broadcast('pipPopoverResize');\r\n    }\r\n}\r\n\r\n\r\n(() => {\r\n    angular\r\n        .module('pipPopover.Service', [])\r\n        .service('pipPopoverService', PopoverService);\r\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\nclass RoutingController {\r\n    private _image: any;\r\n\r\n    public logoUrl: string;\r\n    public showProgress: Function;\r\n\r\n    constructor( \r\n        $scope: ng.IScope,\r\n        $element)\r\n    {\r\n\r\n        this._image = $element.children('img'); \r\n        this.showProgress = $scope['showProgress']\r\n        this.logoUrl = $scope['logoUrl'];        \r\n        this.loadProgressImage();\r\n\r\n    }\r\n\r\n    public loadProgressImage() {\r\n        if (this.logoUrl) {\r\n            this._image.attr('src', this.logoUrl);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n(() => {\r\n\r\n    function RoutingProgress() {\r\n        return {\r\n            restrict: 'EA',\r\n            replace: true,\r\n            scope: {\r\n                    showProgress: '&',\r\n                    logoUrl: '@'\r\n                },\r\n            templateUrl: 'progress/routing_progress.html',\r\n            controller: RoutingController,\r\n            controllerAs: 'vm'\r\n        };\r\n    }\r\n\r\n\r\n    angular\r\n        .module('pipRoutingProgress', ['ngMaterial'])\r\n        .directive('pipRoutingProgress', RoutingProgress);\r\n\r\n})();\r\n","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n\r\ninterface IPipToast {\r\n    type: string;\r\n    id: string;\r\n    error: any;\r\n    message: string;\r\n    actions: string[];\r\n    duration: number;\r\n    successCallback: Function;\r\n    cancelCallback: Function\r\n}\r\n\r\nclass ToastController {\r\n    private _$mdToast: angular.material.IToastService;\r\n    private _pipErrorDetailsDialog;\r\n\r\n    public message: string;\r\n    public actions: string[];\r\n    public toast: IPipToast;\r\n    public actionLenght: number;\r\n    public showDetails: boolean;\r\n\r\n    constructor( \r\n        $mdToast: angular.material.IToastService, \r\n        toast: IPipToast, \r\n        $injector\r\n       ) {\r\n            this._pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') \r\n                ? $injector.get('pipErrorDetailsDialog') : null;\r\n            this._$mdToast = $mdToast;\r\n            this.message = toast.message;\r\n            this.actions = toast.actions;\r\n            this.toast = toast;\r\n            \r\n            if (toast.actions.length === 0) {\r\n                this.actionLenght = 0;\r\n            } else {\r\n                this.actionLenght = toast.actions.length === 1 ? toast.actions[0].toString().length : null;\r\n            }\r\n\r\n            this.showDetails = this._pipErrorDetailsDialog != null;\r\n\r\n    }\r\n\r\n     public onDetails(): void {\r\n        this._$mdToast.hide();\r\n        if (this._pipErrorDetailsDialog) {\r\n            this._pipErrorDetailsDialog.show(\r\n            {\r\n                error: this.toast.error,\r\n                ok: 'Ok'\r\n            },\r\n            angular.noop,\r\n            angular.noop\r\n            );\r\n        }\r\n    }\r\n\r\n    public onAction(action): void {\r\n        this._$mdToast.hide(\r\n        {\r\n            action: action,\r\n            id: this.toast.id,\r\n            message: this.message\r\n        });\r\n\r\n    }\r\n}\r\n\r\ninterface IToastService {\r\n    showNextToast(): void;\r\n    showToast(toast: IPipToast): void;\r\n    addToast(toast): void;\r\n    removeToasts(type: string): void;\r\n    getToastById(id: string): IPipToast;\r\n    removeToastsById(id: string): void;\r\n    onClearToasts(): void;\r\n    showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string);\r\n    showMessage(message: string, successCallback, cancelCallback, id?: string);\r\n    showError(message: string, successCallback, cancelCallback, id: string, error: any);\r\n    hideAllToasts(): void;\r\n    clearToasts(type?: string);\r\n}\r\n\r\nclass ToastService implements IToastService {\r\n    private SHOW_TIMEOUT: number = 20000;\r\n    private SHOW_TIMEOUT_NOTIFICATIONS: number = 20000;\r\n    private toasts: IPipToast[] = [];\r\n    private currentToast: any;\r\n    private sounds: any = {};\r\n\r\n    private _$mdToast: angular.material.IToastService;\r\n\r\n    constructor(\r\n        $rootScope: ng.IRootScopeService, \r\n        $mdToast: angular.material.IToastService) {\r\n\r\n        this._$mdToast = $mdToast;\r\n\r\n        $rootScope.$on('$stateChangeSuccess', () => {this.onStateChangeSuccess()});\r\n        $rootScope.$on('pipSessionClosed', () => {this.onClearToasts()});\r\n        $rootScope.$on('pipIdentityChanged', () => {this.onClearToasts()});\r\n    }\r\n\r\n    public showNextToast(): void {\r\n        let toast: IPipToast;\r\n\r\n        if (this.toasts.length > 0) {\r\n            toast = this.toasts[0];\r\n            this.toasts.splice(0, 1);\r\n            this.showToast(toast);\r\n        }\r\n    }\r\n\r\n     // Show toast\r\n     public showToast(toast: IPipToast): void {\r\n        this.currentToast = toast;\r\n\r\n        this._$mdToast.show({\r\n            templateUrl: 'toast/toast.html',\r\n            hideDelay: toast.duration || this.SHOW_TIMEOUT,\r\n            position: 'bottom left',\r\n            controller: ToastController,\r\n            controllerAs: 'vm',\r\n            locals: {\r\n                toast: this.currentToast,\r\n                sounds: this.sounds\r\n            }\r\n        })\r\n        .then( \r\n            (action: string) => {\r\n                this.showToastOkResult(action);\r\n            },\r\n            (action: string) => {\r\n                this.showToastCancelResult(action);\r\n            }\r\n        );\r\n    }\r\n\r\n    private showToastCancelResult(action: string):void {\r\n        if (this.currentToast.cancelCallback) {\r\n            this.currentToast.cancelCallback(action);\r\n        }\r\n        this.currentToast = null;\r\n        this.showNextToast();\r\n    }\r\n\r\n    private showToastOkResult(action: string): void {\r\n        if (this.currentToast.successCallback) {\r\n            this.currentToast.successCallback(action);\r\n        }\r\n        this.currentToast = null;\r\n        this.showNextToast();\r\n    }\r\n\r\n    public addToast(toast): void {\r\n        if (this.currentToast && toast.type !== 'error') {\r\n            this.toasts.push(toast);\r\n        } else {\r\n            this.showToast(toast);\r\n        }\r\n    }\r\n\r\n    public removeToasts(type: string): void {\r\n        let result: any[] = [];\r\n        _.each(this.toasts, (toast) => {\r\n            if (!toast.type || toast.type !== type) {\r\n                result.push(toast);\r\n            }\r\n        });\r\n        this.toasts = _.cloneDeep(result);\r\n    }\r\n\r\n    public removeToastsById(id: string): void {\r\n        _.remove(this.toasts, {id: id});\r\n    }\r\n\r\n    public getToastById(id: string): IPipToast {\r\n        return _.find(this.toasts, {id: id});\r\n    }\r\n\r\n    public onStateChangeSuccess() {}\r\n\r\n    public onClearToasts(): void {\r\n        this.clearToasts(null);\r\n    }\r\n\r\n    public showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string) {\r\n        this.addToast({\r\n            id: id || null,\r\n            type: 'notification',\r\n            message: message,\r\n            actions: actions || ['ok'],\r\n            successCallback: successCallback,\r\n            cancelCallback: cancelCallback,\r\n            duration: this.SHOW_TIMEOUT_NOTIFICATIONS\r\n        });\r\n    }\r\n\r\n    public showMessage(message: string, successCallback, cancelCallback, id?: string) {\r\n        this.addToast({\r\n            id: id || null,\r\n            type: 'message',\r\n            message: message,\r\n            actions: ['ok'],\r\n            successCallback: successCallback,\r\n            cancelCallback: cancelCallback\r\n        });\r\n    }\r\n\r\n     public showError(message: string, successCallback, cancelCallback, id: string, error: any) {\r\n        this.addToast({\r\n            id: id || null,\r\n            error: error,\r\n            type: 'error',\r\n            message: message || 'Unknown error.',\r\n            actions: ['ok'],\r\n            successCallback: successCallback,\r\n            cancelCallback: cancelCallback\r\n        });\r\n    }\r\n\r\n    public hideAllToasts(): void {\r\n        this._$mdToast.cancel();\r\n        this.toasts = [];\r\n    }\r\n\r\n    public clearToasts(type?: string) {\r\n        if (type) {\r\n            // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\r\n            this.removeToasts(type);\r\n        } else {\r\n            this._$mdToast.cancel();\r\n            this.toasts = [];\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\n(() => {\r\n    angular\r\n        .module('pipToasts', ['ngMaterial', 'pipControls.Translate'])\r\n        .service('pipToasts', ToastService);\r\n})();\r\n","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/color_picker.html',\n    '<ul class=\"pip-color-picker {{vm.class}}\" pip-selected=\"vm.currentColorIndex\" pip-enter-space-press=\"vm.enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in vm.colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"vm.selectColor($index)\" aria-label=\"color\" ng-disabled=\"vm.disabled()\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == vm.currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/popover.html',\n    '<div ng-if=\"vm.templateUrl\" class=\"pip-popover flex layout-column\" ng-click=\"vm.onPopoverClick($event)\" ng-include=\"vm.templateUrl\"></div><div ng-if=\"vm.template\" class=\"pip-popover\" ng-click=\"vm.onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/routing_progress.html',\n    '<div class=\"pip-routing-progress layout-column layout-align-center-center\" ng-show=\"vm.showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': vm.toast.type==\\'error\\', \\'pip-column-toast\\': vm.toast.actions.length > 1 || vm.actionLenght > 4, \\'pip-no-action-toast\\': vm.actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"vm.message\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"vm.actions.length > 0 || (vm.toast.type==\\'error\\' && vm.toast.error)\"><div class=\"flex\" ng-if=\"vm.toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"vm.toast.type==\\'error\\' && vm.toast.error && vm.showDetails\" ng-click=\"vm.onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"vm.onAction(action)\" ng-repeat=\"action in vm.actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n"]}