{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/color_picker/ColorPicker.ts","src/color_picker/colorPicker.ts","src/dependencies/TranslateFilter.ts","src/image_slider/ImageSlider.ts","src/image_slider/ImageSliderService.ts","src/image_slider/SliderButton.ts","src/image_slider/SliderIndicator.ts","src/image_slider/imageSlider.ts","src/image_slider/imageSliderService.ts","src/image_slider/index.ts","src/image_slider/sliderButton.ts","src/image_slider/sliderIndicator.ts","src/index.ts","src/markdown/Markdown.ts","src/markdown/markdown.ts","src/popover/Popover.ts","src/popover/PopoverService.ts","src/popover/index.ts","src/popover/popover.ts","src/popover/popoverService.ts","src/progress/RoutingProgress.ts","src/progress/routingProgress.ts","src/toast/Toast.ts","src/toast/ToastService.ts","temp/pip-webui-controls-html.min.js","src/toast/index.ts"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","controls","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","ColorPickerBindings","ngDisabled","colors","currentColor","colorChange","DEFAULT_COLORS_1","ColorPickerChanges","ColorPickerController","$scope","$element","$attrs","$timeout","class","prototype","$onChanges","changes","_","isArray","currentValue","currentColorIndex","indexOf","selectColor","index","_this","$apply","enterSpacePress","event","pipColorPicker","bindings","templateUrl","controller","angular","component","translateFilter","$injector","pipTranslate","has","get","key","$inject","filter","Object","defineProperty","value","pipImageSliderController_1","$parse","$interval","pipImageSlider","_index","DEFAULT_INTERVAL","swipeStart","_type","type","_interval","interval","slideTo","slideToPrivate","addClass","setIndex","_blocks","find","$","startInterval","_throttled","throttle","toBlock","_newIndex","_direction","id","registerSlider","$on","stopInterval","removeSlider","nextBlock","restartInterval","prevBlock","nextIndex","pipImageIndex","sliderIndex","_timePromises","Number","cancel","bindToController","controllerAs","ImageSliderService","ANIMATION_DURATION","_sliders","sliderId","sliderScope","getSliderScope","nextCarousel","removeClass","prevCarousel","blocks","oldIndex","direction","blockIndex","7","on","vm","SliderButtonController_1","scope","8","css","undefined","SliderIndicatorController_1","directive","SliderIndicator","ImageSlider","service","11","./ImageSliderService","./SliderButton","./SliderIndicator","12","SliderButton","14","./dependencies/TranslateFilter","./image_slider","./markdown/Markdown","./popover","./progress/RoutingProgress","./toast","15","setTranslations","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","location","time","MarkdownBindings","text","isList","MarkdownChanges","MarkdownController","_pipTranslate","$postLink","bindText","_text","_$scope","newText","describeAttachments","array","attachTypes","attach","attachString","translate","push","textString","isClamped","height","options","obj","item","clamp","isNumber","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","html","attr","append","MarkdownComponent","ConfigTranslations","rebind","run","PopoverController","$rootScope","$compile","$templateRequest","backdropElement","backdropClick","params","responsive","extend","locals","template","content","init","then","calcHeight","onResize","resize","cancelCallback","closePopover","remove","onPopoverClick","stopPropagation","focus","timeout","position","element","pos","offset","width","docWidth","document","docHeight","popover","left","top","title","footer","contentHeight","outerHeight","Math","max","PopoverBindings","Popover","PopoverService","popoverTemplate","show","p","hide","$new","isObject","$broadcast","./PopoverService","21","RoutingController","_image","loadProgressImage","logoUrl","RoutingProgress","RoutingBindings","26","Toast","ToastController_1","$mdToast","toast","_pipErrorDetailsDialog","message","actions","actionLenght","toString","showDetails","onDetails","error","ok","noop","onAction","action","ToastService","SHOW_TIMEOUT","SHOW_TIMEOUT_NOTIFICATIONS","toasts","sounds","onStateChangeSuccess","onClearToasts","showNextToast","splice","showToast","currentToast","hideDelay","duration","showToastOkResult","showToastCancelResult","successCallback","addToast","removeToasts","result","cloneDeep","removeToastsById","getToastById","clearToasts","showNotification","showMessage","showError","hideAllToasts","28","./Toast","./ToastService","29","$templateCache","put"],"mappings":"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","file":"pip-webui-controls.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","{\r\n    interface IColorPickerBindings {\r\n        [key: string]: any;\r\n\r\n        ngDisabled: any;\r\n        colors: any;\r\n        currentColor: any;\r\n        colorChange: any;\r\n    }\r\n\r\n    interface IColorPickerAttributes extends ng.IAttributes {\r\n        class: string;\r\n    }\r\n\r\n    const ColorPickerBindings: IColorPickerBindings = {\r\n        ngDisabled: '<?ngDisabled',\r\n        colors: '<pipColors',\r\n        currentColor: '=ngModel',\r\n        colorChange: '&?ngChange'\r\n    }\r\n\r\n    class ColorPickerChanges implements ng.IOnChangesObject, IColorPickerBindings {\r\n        [key: string]: ng.IChangesObject < any > ;\r\n\r\n        colorChange: ng.IChangesObject < () => ng.IPromise < any >> ;\r\n        currentColor: any;\r\n\r\n        ngDisabled: ng.IChangesObject < boolean > ;\r\n        colors: ng.IChangesObject < string[] > ;\r\n    }\r\n\r\n    const DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\r\n\r\n    class ColorPickerController implements IColorPickerBindings {\r\n        public class: string;\r\n        public colors: string[];\r\n        public currentColor: string;\r\n        public currentColorIndex: number;\r\n        public ngDisabled: boolean;\r\n        public colorChange: Function;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            private $element: JQuery,\r\n            $attrs: IColorPickerAttributes,\r\n            private $timeout: ng.ITimeoutService\r\n        ) { \r\n            this.class = $attrs.class || ''; \r\n        }\r\n\r\n        public $onChanges(changes: ColorPickerChanges) {\r\n            this.colors = changes.colors && _.isArray(changes.colors.currentValue) && changes.colors.currentValue.length !== 0 ?\r\n                changes.colors.currentValue : DEFAULT_COLORS;\r\n            this.currentColor = this.currentColor || this.colors[0];\r\n            this.currentColorIndex = this.colors.indexOf(this.currentColor);\r\n\r\n            this.ngDisabled = changes.ngDisabled.currentValue;\r\n        }\r\n\r\n        public selectColor(index: number) {\r\n            if (this.ngDisabled) {\r\n                return;\r\n            }\r\n            this.currentColorIndex = index;\r\n            this.currentColor = this.colors[this.currentColorIndex];\r\n            this.$timeout(() => {\r\n                this.$scope.$apply();\r\n            });\r\n\r\n            if (this.colorChange) {\r\n                this.colorChange();\r\n            }\r\n        };\r\n\r\n        public enterSpacePress(event): void {\r\n            this.selectColor(event.index);\r\n        };\r\n\r\n    }\r\n\r\n    const pipColorPicker: ng.IComponentOptions = {\r\n        bindings: ColorPickerBindings,\r\n        templateUrl: 'color_picker/ColorPicker.html',\r\n        controller: ColorPickerController\r\n    }\r\n\r\n    angular\r\n        .module('pipColorPicker', ['pipControls.Templates'])\r\n        .component('pipColorPicker', pipColorPicker);\r\n\r\n}","{\r\n    interface IColorPickerBindings {\r\n        [key: string]: any;\r\n\r\n        ngDisabled: any;\r\n        colors: any;\r\n        currentColor: any;\r\n        colorChange: any;\r\n    }\r\n\r\n    interface IColorPickerAttributes extends ng.IAttributes {\r\n        class: string;\r\n    }\r\n\r\n    const ColorPickerBindings: IColorPickerBindings = {\r\n        ngDisabled: '<?ngDisabled',\r\n        colors: '<pipColors',\r\n        currentColor: '=ngModel',\r\n        colorChange: '&?ngChange'\r\n    }\r\n\r\n    class ColorPickerChanges implements ng.IOnChangesObject, IColorPickerBindings {\r\n        [key: string]: ng.IChangesObject < any > ;\r\n\r\n        colorChange: ng.IChangesObject < () => ng.IPromise < any >> ;\r\n        currentColor: any;\r\n\r\n        ngDisabled: ng.IChangesObject < boolean > ;\r\n        colors: ng.IChangesObject < string[] > ;\r\n    }\r\n\r\n    const DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\r\n\r\n    class ColorPickerController implements IColorPickerBindings {\r\n        public class: string;\r\n        public colors: string[];\r\n        public currentColor: string;\r\n        public currentColorIndex: number;\r\n        public ngDisabled: boolean;\r\n        public colorChange: Function;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            private $element: JQuery,\r\n            $attrs: IColorPickerAttributes,\r\n            private $timeout: ng.ITimeoutService\r\n        ) { \r\n            this.class = $attrs.class || ''; \r\n        }\r\n\r\n        public $onChanges(changes: ColorPickerChanges) {\r\n            this.colors = changes.colors && _.isArray(changes.colors.currentValue) && changes.colors.currentValue.length !== 0 ?\r\n                changes.colors.currentValue : DEFAULT_COLORS;\r\n            this.currentColor = this.currentColor || this.colors[0];\r\n            this.currentColorIndex = this.colors.indexOf(this.currentColor);\r\n\r\n            this.ngDisabled = changes.ngDisabled.currentValue;\r\n        }\r\n\r\n        public selectColor(index: number) {\r\n            if (this.ngDisabled) {\r\n                return;\r\n            }\r\n            this.currentColorIndex = index;\r\n            this.currentColor = this.colors[this.currentColorIndex];\r\n            this.$timeout(() => {\r\n                this.$scope.$apply();\r\n            });\r\n\r\n            if (this.colorChange) {\r\n                this.colorChange();\r\n            }\r\n        };\r\n\r\n        public enterSpacePress(event): void {\r\n            this.selectColor(event.index);\r\n        };\r\n\r\n    }\r\n\r\n    const pipColorPicker: ng.IComponentOptions = {\r\n        bindings: ColorPickerBindings,\r\n        templateUrl: 'color_picker/ColorPicker.html',\r\n        controller: ColorPickerController\r\n    }\r\n\r\n    angular\r\n        .module('pipColorPicker', ['pipControls.Templates'])\r\n        .component('pipColorPicker', pipColorPicker);\r\n\r\n}","{\r\n    function translateFilter($injector: ng.auto.IInjectorService) {\r\n        const pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n        return function (key: string) {\r\n            return pipTranslate ? pipTranslate['translate'](key) || key : key;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipControls.Translate', [])\r\n        .filter('translate', translateFilter);\r\n}\r\n","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class pipImageSliderController implements ng.IController {\r\n        private _blocks: any[];\r\n        private _index: number = 0;\r\n        private _newIndex: number;\r\n        private _direction: string;\r\n        private _type: string;\r\n        private DEFAULT_INTERVAL:number = 4500;\r\n        private _interval: number | string;\r\n        private _timePromises;\r\n        private _throttled: Function;\r\n\r\n        public swipeStart: number = 0;\r\n        public sliderIndex: number;\r\n        public slideTo: Function;\r\n        public type: Function;\r\n        public interval: Function;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            private $element: JQuery,\r\n            private $attrs,\r\n            private $parse: ng.IParseService,\r\n            private $timeout: angular.ITimeoutService,\r\n            private $interval: angular.IIntervalService,\r\n            private pipImageSlider: IImageSliderService\r\n        ) {\r\n\r\n            //this.sliderIndex = $scope['vm']['sliderIndex'];\r\n            this._type = this.type();\r\n            this._interval = this.interval();\r\n            this.slideTo = this.slideToPrivate;\r\n\r\n            $element.addClass('pip-image-slider');\r\n            $element.addClass('pip-animation-' + this._type);\r\n\r\n            this.setIndex();\r\n\r\n            $timeout(() => {\r\n                this._blocks = <any>$element.find('.pip-animation-block');\r\n                if (this._blocks.length > 0) {\r\n                    $(this._blocks[0]).addClass('pip-show');\r\n                }\r\n            });\r\n\r\n            this.startInterval();\r\n\r\n            this._throttled = _.throttle(() => {\r\n                pipImageSlider.toBlock(this._type, this._blocks, this._index, this._newIndex, this._direction);\r\n                this._index = this._newIndex;\r\n                this.setIndex();\r\n            }, 700);\r\n\r\n            if ($attrs.id) {\r\n                pipImageSlider.registerSlider($attrs.id, $scope)\r\n            }\r\n\r\n            $scope.$on('$destroy', () => {\r\n                this.stopInterval();\r\n                pipImageSlider.removeSlider($attrs.id);\r\n            });\r\n\r\n        }\r\n\r\n        public nextBlock() {\r\n            this.restartInterval();\r\n            this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\r\n            this._direction = 'next';\r\n            this._throttled();\r\n        }\r\n\r\n        public prevBlock() {\r\n            this.restartInterval();\r\n            this._newIndex = this._index - 1 < 0 ? this._blocks.length - 1 : this._index - 1;\r\n            this._direction = 'prev';\r\n            this._throttled();\r\n        }\r\n\r\n        private slideToPrivate(nextIndex: number) {\r\n            if (nextIndex === this._index || nextIndex > this._blocks.length - 1) {\r\n                return;\r\n            }\r\n\r\n            this.restartInterval();\r\n            this._newIndex = nextIndex;\r\n            this._direction = nextIndex > this._index ? 'next' : 'prev';\r\n            this._throttled();\r\n        }\r\n\r\n        private setIndex() {\r\n            if (this.$attrs.pipImageIndex) this.sliderIndex = this._index;\r\n        }\r\n\r\n        private startInterval() {\r\n            this._timePromises = this.$interval(() => {\r\n                this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\r\n                this._direction = 'next';\r\n                this._throttled();\r\n            }, Number(this._interval || this.DEFAULT_INTERVAL));\r\n        }\r\n\r\n        private stopInterval() {\r\n            this.$interval.cancel(this._timePromises);\r\n        }\r\n\r\n        private restartInterval() {\r\n            this.stopInterval();\r\n            this.startInterval();\r\n        }\r\n    }\r\n\r\n    const ImageSlider = function(): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                sliderIndex: '=pipImageIndex',\r\n                type: '&pipAnimationType',\r\n                interval: '&pipAnimationInterval'\r\n            },\r\n            bindToController: true,\r\n            controller: pipImageSliderController,\r\n            controllerAs: 'vm'\r\n        };\r\n    }\r\n\r\n    angular.module('pipImageSlider')\r\n        .directive('pipImageSlider', ImageSlider);\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class ImageSliderService implements IImageSliderService {\r\n        private ANIMATION_DURATION: number = 550;\r\n        private _sliders: Object = {};\r\n\r\n        constructor(\r\n            private $timeout: angular.ITimeoutService\r\n        ) {}\r\n\r\n        public registerSlider(sliderId: string, sliderScope: ng.IScope): void {\r\n            this._sliders[sliderId] = sliderScope;\r\n        }\r\n\r\n        public removeSlider(sliderId: string): void {\r\n            delete this._sliders[sliderId];\r\n        }\r\n\r\n        public getSliderScope(sliderId: string) {\r\n            return this._sliders[sliderId];\r\n        }\r\n\r\n        public nextCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\r\n            nextBlock.addClass('pip-next');\r\n\r\n            this.$timeout(() => {\r\n                nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\r\n                prevBlock.addClass('animated').removeClass('pip-show');\r\n            }, 100);\r\n        }\r\n\r\n        public prevCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\r\n            this.$timeout(() => {\r\n                nextBlock.addClass('animated').addClass('pip-show');\r\n                prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\r\n            }, 100);\r\n        }\r\n\r\n        public toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void {\r\n            const prevBlock = $(blocks[oldIndex]),\r\n                blockIndex = nextIndex,\r\n                nextBlock = $(blocks[blockIndex]);\r\n\r\n            if (type === 'carousel') {\r\n                $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\r\n\r\n                if (direction && (direction === 'prev' || direction === 'next')) {\r\n                    if (direction === 'prev') {\r\n                        this.prevCarousel(nextBlock, prevBlock);\r\n                    } else {\r\n                        this.nextCarousel(nextBlock, prevBlock);\r\n                    }\r\n                } else {\r\n                    if (nextIndex && nextIndex < oldIndex) {\r\n                        this.prevCarousel(nextBlock, prevBlock);\r\n                    } else {\r\n                        this.nextCarousel(nextBlock, prevBlock);\r\n                    }\r\n                }\r\n            } else {\r\n                prevBlock.addClass('animated').removeClass('pip-show');\r\n                nextBlock.addClass('animated').addClass('pip-show');\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipImageSlider.Service', [])\r\n        .service('pipImageSlider', ImageSliderService);\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class SliderButtonController implements ng.IController {\r\n        public direction: Function;\r\n        public sliderId: Function;\r\n\r\n        constructor(\r\n            $element: JQuery,\r\n            pipImageSlider: IImageSliderService\r\n        ) {\r\n            $element.on('click', () => {\r\n                if (!this.sliderId() || !this.direction()) {\r\n                    return;\r\n                }\r\n\r\n                pipImageSlider.getSliderScope(this.sliderId()).vm[this.direction() + 'Block']();\r\n            });\r\n        }\r\n    }\r\n\r\n    const SliderButton = function (): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                direction: '&pipButtonType',\r\n                sliderId: '&pipSliderId'\r\n            },\r\n            controllerAs: '$ctlr',\r\n            bindToController: true,\r\n            controller: SliderButtonController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipSliderButton', [])\r\n        .directive('pipSliderButton', SliderButton);\r\n\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class SliderIndicatorController implements ng.IController {\r\n        public slideTo: Function;\r\n        public sliderId: Function;\r\n\r\n        constructor(\r\n            $element: JQuery,\r\n            pipImageSlider: IImageSliderService\r\n        ) {\r\n            $element.css('cursor', 'pointer');\r\n            $element.on('click', () => {\r\n                if (!this.sliderId() || this.slideTo() === undefined) {\r\n                    return;\r\n                }\r\n\r\n                pipImageSlider.getSliderScope(this.sliderId()).vm.slideTo(this.slideTo());\r\n            });\r\n        }\r\n    }\r\n\r\n    const SliderIndicator = function (): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                slideTo: '&pipSlideTo',\r\n                sliderId: '&pipSliderId'\r\n            },\r\n            controllerAs: '$ctlr',\r\n            bindToController: true,\r\n            controller: SliderIndicatorController\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipSliderIndicator', [])\r\n        .directive('pipSliderIndicator', SliderIndicator);\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class pipImageSliderController implements ng.IController {\r\n        private _blocks: any[];\r\n        private _index: number = 0;\r\n        private _newIndex: number;\r\n        private _direction: string;\r\n        private _type: string;\r\n        private DEFAULT_INTERVAL:number = 4500;\r\n        private _interval: number | string;\r\n        private _timePromises;\r\n        private _throttled: Function;\r\n\r\n        public swipeStart: number = 0;\r\n        public sliderIndex: number;\r\n        public slideTo: Function;\r\n        public type: Function;\r\n        public interval: Function;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            private $element: JQuery,\r\n            private $attrs,\r\n            private $parse: ng.IParseService,\r\n            private $timeout: angular.ITimeoutService,\r\n            private $interval: angular.IIntervalService,\r\n            private pipImageSlider: IImageSliderService\r\n        ) {\r\n\r\n            //this.sliderIndex = $scope['vm']['sliderIndex'];\r\n            this._type = this.type();\r\n            this._interval = this.interval();\r\n            this.slideTo = this.slideToPrivate;\r\n\r\n            $element.addClass('pip-image-slider');\r\n            $element.addClass('pip-animation-' + this._type);\r\n\r\n            this.setIndex();\r\n\r\n            $timeout(() => {\r\n                this._blocks = <any>$element.find('.pip-animation-block');\r\n                if (this._blocks.length > 0) {\r\n                    $(this._blocks[0]).addClass('pip-show');\r\n                }\r\n            });\r\n\r\n            this.startInterval();\r\n\r\n            this._throttled = _.throttle(() => {\r\n                pipImageSlider.toBlock(this._type, this._blocks, this._index, this._newIndex, this._direction);\r\n                this._index = this._newIndex;\r\n                this.setIndex();\r\n            }, 700);\r\n\r\n            if ($attrs.id) {\r\n                pipImageSlider.registerSlider($attrs.id, $scope)\r\n            }\r\n\r\n            $scope.$on('$destroy', () => {\r\n                this.stopInterval();\r\n                pipImageSlider.removeSlider($attrs.id);\r\n            });\r\n\r\n        }\r\n\r\n        public nextBlock() {\r\n            this.restartInterval();\r\n            this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\r\n            this._direction = 'next';\r\n            this._throttled();\r\n        }\r\n\r\n        public prevBlock() {\r\n            this.restartInterval();\r\n            this._newIndex = this._index - 1 < 0 ? this._blocks.length - 1 : this._index - 1;\r\n            this._direction = 'prev';\r\n            this._throttled();\r\n        }\r\n\r\n        private slideToPrivate(nextIndex: number) {\r\n            if (nextIndex === this._index || nextIndex > this._blocks.length - 1) {\r\n                return;\r\n            }\r\n\r\n            this.restartInterval();\r\n            this._newIndex = nextIndex;\r\n            this._direction = nextIndex > this._index ? 'next' : 'prev';\r\n            this._throttled();\r\n        }\r\n\r\n        private setIndex() {\r\n            if (this.$attrs.pipImageIndex) this.sliderIndex = this._index;\r\n        }\r\n\r\n        private startInterval() {\r\n            this._timePromises = this.$interval(() => {\r\n                this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\r\n                this._direction = 'next';\r\n                this._throttled();\r\n            }, Number(this._interval || this.DEFAULT_INTERVAL));\r\n        }\r\n\r\n        private stopInterval() {\r\n            this.$interval.cancel(this._timePromises);\r\n        }\r\n\r\n        private restartInterval() {\r\n            this.stopInterval();\r\n            this.startInterval();\r\n        }\r\n    }\r\n\r\n    const ImageSlider = function(): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                sliderIndex: '=pipImageIndex',\r\n                type: '&pipAnimationType',\r\n                interval: '&pipAnimationInterval'\r\n            },\r\n            bindToController: true,\r\n            controller: pipImageSliderController,\r\n            controllerAs: 'vm'\r\n        };\r\n    }\r\n\r\n    angular.module('pipImageSlider')\r\n        .directive('pipImageSlider', ImageSlider);\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class ImageSliderService implements IImageSliderService {\r\n        private ANIMATION_DURATION: number = 550;\r\n        private _sliders: Object = {};\r\n\r\n        constructor(\r\n            private $timeout: angular.ITimeoutService\r\n        ) {}\r\n\r\n        public registerSlider(sliderId: string, sliderScope: ng.IScope): void {\r\n            this._sliders[sliderId] = sliderScope;\r\n        }\r\n\r\n        public removeSlider(sliderId: string): void {\r\n            delete this._sliders[sliderId];\r\n        }\r\n\r\n        public getSliderScope(sliderId: string) {\r\n            return this._sliders[sliderId];\r\n        }\r\n\r\n        public nextCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\r\n            nextBlock.addClass('pip-next');\r\n\r\n            this.$timeout(() => {\r\n                nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\r\n                prevBlock.addClass('animated').removeClass('pip-show');\r\n            }, 100);\r\n        }\r\n\r\n        public prevCarousel(nextBlock: JQuery, prevBlock: JQuery): void {\r\n            this.$timeout(() => {\r\n                nextBlock.addClass('animated').addClass('pip-show');\r\n                prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\r\n            }, 100);\r\n        }\r\n\r\n        public toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void {\r\n            const prevBlock = $(blocks[oldIndex]),\r\n                blockIndex = nextIndex,\r\n                nextBlock = $(blocks[blockIndex]);\r\n\r\n            if (type === 'carousel') {\r\n                $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\r\n\r\n                if (direction && (direction === 'prev' || direction === 'next')) {\r\n                    if (direction === 'prev') {\r\n                        this.prevCarousel(nextBlock, prevBlock);\r\n                    } else {\r\n                        this.nextCarousel(nextBlock, prevBlock);\r\n                    }\r\n                } else {\r\n                    if (nextIndex && nextIndex < oldIndex) {\r\n                        this.prevCarousel(nextBlock, prevBlock);\r\n                    } else {\r\n                        this.nextCarousel(nextBlock, prevBlock);\r\n                    }\r\n                }\r\n            } else {\r\n                prevBlock.addClass('animated').removeClass('pip-show');\r\n                nextBlock.addClass('animated').addClass('pip-show');\r\n            }\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipImageSlider.Service', [])\r\n        .service('pipImageSlider', ImageSliderService);\r\n}","angular\r\n    .module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\r\n\r\nimport './ImageSlider';\r\nimport './ImageSliderService';\r\nimport './SliderButton';\r\nimport './SliderIndicator';\r\n\r\nexport * from './IImageSliderService';","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class SliderButtonController implements ng.IController {\r\n        public direction: Function;\r\n        public sliderId: Function;\r\n\r\n        constructor(\r\n            $element: JQuery,\r\n            pipImageSlider: IImageSliderService\r\n        ) {\r\n            $element.on('click', () => {\r\n                if (!this.sliderId() || !this.direction()) {\r\n                    return;\r\n                }\r\n\r\n                pipImageSlider.getSliderScope(this.sliderId()).vm[this.direction() + 'Block']();\r\n            });\r\n        }\r\n    }\r\n\r\n    const SliderButton = function (): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                direction: '&pipButtonType',\r\n                sliderId: '&pipSliderId'\r\n            },\r\n            controllerAs: '$ctlr',\r\n            bindToController: true,\r\n            controller: SliderButtonController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipSliderButton', [])\r\n        .directive('pipSliderButton', SliderButton);\r\n\r\n}","import { IImageSliderService } from './IImageSliderService';\r\n\r\n{\r\n    class SliderIndicatorController implements ng.IController {\r\n        public slideTo: Function;\r\n        public sliderId: Function;\r\n\r\n        constructor(\r\n            $element: JQuery,\r\n            pipImageSlider: IImageSliderService\r\n        ) {\r\n            $element.css('cursor', 'pointer');\r\n            $element.on('click', () => {\r\n                if (!this.sliderId() || this.slideTo() === undefined) {\r\n                    return;\r\n                }\r\n\r\n                pipImageSlider.getSliderScope(this.sliderId()).vm.slideTo(this.slideTo());\r\n            });\r\n        }\r\n    }\r\n\r\n    const SliderIndicator = function (): ng.IDirective {\r\n        return {\r\n            scope: {\r\n                slideTo: '&pipSlideTo',\r\n                sliderId: '&pipSliderId'\r\n            },\r\n            controllerAs: '$ctlr',\r\n            bindToController: true,\r\n            controller: SliderIndicatorController\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipSliderIndicator', [])\r\n        .directive('pipSliderIndicator', SliderIndicator);\r\n}","import './dependencies/TranslateFilter';\r\nimport './color_picker/ColorPicker';\r\nimport './image_slider';\r\nimport './markdown/Markdown';\r\nimport './popover';\r\nimport './progress/RoutingProgress';\r\nimport './toast';\r\n\r\nangular.module('pipControls', [\r\n    'pipMarkdown',\r\n    'pipColorPicker',\r\n    'pipRoutingProgress',\r\n    'pipPopover',\r\n    'pipImageSlider',\r\n    'pipToasts',\r\n    'pipControls.Translate'\r\n]);\r\n\r\nexport * from './image_slider';\r\nexport * from './popover';\r\nexport * from './toast';","declare var marked: any;\r\n\r\n{\r\n  const ConfigTranslations = ($injector: ng.auto.IInjectorService) => {\r\n        const pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            (<any>pipTranslate).setTranslations('en', {\r\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\r\n                'checklist': 'Checklist',\r\n                'documents': 'Documents',\r\n                'pictures': 'Pictures',\r\n                'location': 'Location',\r\n                'time': 'Time'\r\n            });\r\n            (<any>pipTranslate).setTranslations('ru', {\r\n                'MARKDOWN_ATTACHMENTS': ':',\r\n                'checklist': '',\r\n                'documents': '',\r\n                'pictures': '',\r\n                'location': '',\r\n                'time': ''\r\n            });\r\n        }\r\n    }\r\n\r\n    interface IMarkdownBindings {\r\n        [key: string]: any;\r\n\r\n        text: any;\r\n        isList: any;\r\n        clamp: any;\r\n        rebind: any;\r\n    }\r\n\r\n    const MarkdownBindings: IMarkdownBindings = {\r\n        text: '<pipText',\r\n        isList: '<?pipList',\r\n        clamp: '<?pipLineCount',\r\n        rebind: '<?pipRebind'\r\n    }\r\n\r\n    class MarkdownChanges implements ng.IOnChangesObject, IMarkdownBindings {\r\n        [key: string]: ng.IChangesObject < any > ;\r\n\r\n        text: ng.IChangesObject < string > ;\r\n        isList: ng.IChangesObject < boolean > ;\r\n        clamp: ng.IChangesObject < number | string > ;\r\n        rebind: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class MarkdownController implements IMarkdownBindings, ng.IController {\r\n        private _pipTranslate;\r\n\r\n        public text: string;\r\n        public isList: boolean;\r\n        public clamp: string | number;\r\n        public rebind: boolean;\r\n\r\n        constructor(\r\n            private $scope: angular.IScope,\r\n            private $element: JQuery,\r\n            $injector: ng.auto.IInjectorService\r\n        ) {\r\n            this._pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n        }\r\n\r\n        public $postLink() {\r\n            // Fill the text\r\n            this.bindText(this.text);\r\n\r\n            this.$scope.$on('pipWindowResized', function () {\r\n                if (this.bindText) this.bindText(this._text(this._$scope));\r\n            });\r\n\r\n            // Add class\r\n            this.$element.addClass('pip-markdown');\r\n\r\n        }\r\n\r\n        public $onChanges(changes: MarkdownChanges) {\r\n            const newText = changes.text.currentValue;\r\n\r\n            if (this.rebind) {\r\n                this.text = newText;\r\n                this.bindText(this.text);\r\n            }\r\n        }\r\n\r\n        private describeAttachments(array) {\r\n            var attachString = '',\r\n                attachTypes = [];\r\n\r\n            _.each(array, function (attach) {\r\n                if (attach.type && attach.type !== 'text') {\r\n                    if (attachString.length === 0 && this._pipTranslate) {\r\n                        attachString = this._pipTranslate.translate('MARKDOWN_ATTACHMENTS');\r\n                    }\r\n\r\n                    if (attachTypes.indexOf(attach.type) < 0) {\r\n                        attachTypes.push(attach.type);\r\n                        attachString += attachTypes.length > 1 ? ', ' : ' ';\r\n                        if (this._pipTranslate)\r\n                            attachString += this._pipTranslate.translate(attach.type);\r\n                    }\r\n                }\r\n            });\r\n\r\n            return attachString;\r\n        }\r\n\r\n        private bindText(value) {\r\n            let textString, isClamped, height, options, obj;\r\n\r\n            if (_.isArray(value)) {\r\n                obj = _.find(value, function (item: any) {\r\n                    return item.type === 'text' && item.text;\r\n                });\r\n\r\n                textString = obj ? obj.text : this.describeAttachments(value);\r\n            } else {\r\n                textString = value;\r\n            }\r\n\r\n            isClamped = this.clamp && _.isNumber(this.clamp);\r\n            isClamped = isClamped && textString && textString.length > 0;\r\n            options = {\r\n                gfm: true,\r\n                tables: true,\r\n                breaks: true,\r\n                sanitize: true,\r\n                pedantic: true,\r\n                smartLists: true,\r\n                smartypents: false\r\n            };\r\n            textString = marked(textString || '', options);\r\n            if (isClamped) {\r\n                height = 1.5 * Number(this.clamp);\r\n            }\r\n            // Assign value as HTML\r\n            this.$element.html('<div' + (isClamped ? this.isList ? 'class=\"pip-markdown-content ' +\r\n                'pip-markdown-list\" style=\"max-height: ' + height + 'em\">' :\r\n                ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : this.isList ?\r\n                ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\r\n            this.$element.find('a').attr('target', 'blank');\r\n            if (!this.isList && isClamped) {\r\n                this.$element.append('<div class=\"pip-gradient-block\"></div>');\r\n            }\r\n        }\r\n    }\r\n    const MarkdownComponent = {\r\n        controller: MarkdownController,\r\n        bindings: MarkdownBindings\r\n    }\r\n\r\n    angular\r\n        .module('pipMarkdown', ['ngSanitize'])\r\n        .run(ConfigTranslations)\r\n        .component('pipMarkdown', MarkdownComponent);\r\n}","declare var marked: any;\r\n\r\n{\r\n  const ConfigTranslations = ($injector: ng.auto.IInjectorService) => {\r\n        const pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n\r\n        if (pipTranslate) {\r\n            (<any>pipTranslate).setTranslations('en', {\r\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\r\n                'checklist': 'Checklist',\r\n                'documents': 'Documents',\r\n                'pictures': 'Pictures',\r\n                'location': 'Location',\r\n                'time': 'Time'\r\n            });\r\n            (<any>pipTranslate).setTranslations('ru', {\r\n                'MARKDOWN_ATTACHMENTS': ':',\r\n                'checklist': '',\r\n                'documents': '',\r\n                'pictures': '',\r\n                'location': '',\r\n                'time': ''\r\n            });\r\n        }\r\n    }\r\n\r\n    interface IMarkdownBindings {\r\n        [key: string]: any;\r\n\r\n        text: any;\r\n        isList: any;\r\n        clamp: any;\r\n        rebind: any;\r\n    }\r\n\r\n    const MarkdownBindings: IMarkdownBindings = {\r\n        text: '<pipText',\r\n        isList: '<?pipList',\r\n        clamp: '<?pipLineCount',\r\n        rebind: '<?pipRebind'\r\n    }\r\n\r\n    class MarkdownChanges implements ng.IOnChangesObject, IMarkdownBindings {\r\n        [key: string]: ng.IChangesObject < any > ;\r\n\r\n        text: ng.IChangesObject < string > ;\r\n        isList: ng.IChangesObject < boolean > ;\r\n        clamp: ng.IChangesObject < number | string > ;\r\n        rebind: ng.IChangesObject < boolean > ;\r\n    }\r\n\r\n    class MarkdownController implements IMarkdownBindings, ng.IController {\r\n        private _pipTranslate;\r\n\r\n        public text: string;\r\n        public isList: boolean;\r\n        public clamp: string | number;\r\n        public rebind: boolean;\r\n\r\n        constructor(\r\n            private $scope: angular.IScope,\r\n            private $element: JQuery,\r\n            $injector: ng.auto.IInjectorService\r\n        ) {\r\n            this._pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\r\n        }\r\n\r\n        public $postLink() {\r\n            // Fill the text\r\n            this.bindText(this.text);\r\n\r\n            this.$scope.$on('pipWindowResized', function () {\r\n                if (this.bindText) this.bindText(this._text(this._$scope));\r\n            });\r\n\r\n            // Add class\r\n            this.$element.addClass('pip-markdown');\r\n\r\n        }\r\n\r\n        public $onChanges(changes: MarkdownChanges) {\r\n            const newText = changes.text.currentValue;\r\n\r\n            if (this.rebind) {\r\n                this.text = newText;\r\n                this.bindText(this.text);\r\n            }\r\n        }\r\n\r\n        private describeAttachments(array) {\r\n            var attachString = '',\r\n                attachTypes = [];\r\n\r\n            _.each(array, function (attach) {\r\n                if (attach.type && attach.type !== 'text') {\r\n                    if (attachString.length === 0 && this._pipTranslate) {\r\n                        attachString = this._pipTranslate.translate('MARKDOWN_ATTACHMENTS');\r\n                    }\r\n\r\n                    if (attachTypes.indexOf(attach.type) < 0) {\r\n                        attachTypes.push(attach.type);\r\n                        attachString += attachTypes.length > 1 ? ', ' : ' ';\r\n                        if (this._pipTranslate)\r\n                            attachString += this._pipTranslate.translate(attach.type);\r\n                    }\r\n                }\r\n            });\r\n\r\n            return attachString;\r\n        }\r\n\r\n        private bindText(value) {\r\n            let textString, isClamped, height, options, obj;\r\n\r\n            if (_.isArray(value)) {\r\n                obj = _.find(value, function (item: any) {\r\n                    return item.type === 'text' && item.text;\r\n                });\r\n\r\n                textString = obj ? obj.text : this.describeAttachments(value);\r\n            } else {\r\n                textString = value;\r\n            }\r\n\r\n            isClamped = this.clamp && _.isNumber(this.clamp);\r\n            isClamped = isClamped && textString && textString.length > 0;\r\n            options = {\r\n                gfm: true,\r\n                tables: true,\r\n                breaks: true,\r\n                sanitize: true,\r\n                pedantic: true,\r\n                smartLists: true,\r\n                smartypents: false\r\n            };\r\n            textString = marked(textString || '', options);\r\n            if (isClamped) {\r\n                height = 1.5 * Number(this.clamp);\r\n            }\r\n            // Assign value as HTML\r\n            this.$element.html('<div' + (isClamped ? this.isList ? 'class=\"pip-markdown-content ' +\r\n                'pip-markdown-list\" style=\"max-height: ' + height + 'em\">' :\r\n                ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : this.isList ?\r\n                ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\r\n            this.$element.find('a').attr('target', 'blank');\r\n            if (!this.isList && isClamped) {\r\n                this.$element.append('<div class=\"pip-gradient-block\"></div>');\r\n            }\r\n        }\r\n    }\r\n    const MarkdownComponent = {\r\n        controller: MarkdownController,\r\n        bindings: MarkdownBindings\r\n    }\r\n\r\n    angular\r\n        .module('pipMarkdown', ['ngSanitize'])\r\n        .run(ConfigTranslations)\r\n        .component('pipMarkdown', MarkdownComponent);\r\n}","{\r\n    interface IPopoverBindings {\r\n        [key: string]: any;\r\n\r\n        params: any;\r\n    }\r\n\r\n    const PopoverBindings: IPopoverBindings = {\r\n        params: '<pipParams'\r\n    }\r\n\r\n    class PopoverController implements IPopoverBindings, ng.IController {\r\n        private backdropElement;\r\n        private content;\r\n        public params: any;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $rootScope: ng.IRootScopeService,\r\n            $element: JQuery,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $compile: ng.ICompileService,\r\n            private $templateRequest: ng.ITemplateRequestService\r\n        ) {\r\n            this.backdropElement = $('.pip-popover-backdrop');\r\n            this.backdropElement.on('click keydown scroll', () => {\r\n                this.backdropClick();\r\n            });\r\n            this.backdropElement.addClass(this.params.responsive !== false ? 'pip-responsive' : '');\r\n\r\n            $timeout(() => {\r\n                this.position();\r\n                angular.extend($scope, this.params.locals);\r\n\r\n                if (this.params.template) {\r\n                    this.content = $compile(this.params.template)($scope);\r\n                    $element.find('.pip-popover').append(this.content);\r\n\r\n                    this.init();\r\n                } else {\r\n                    this.$templateRequest(this.params.templateUrl, false).then((html) => {\r\n                        this.content = $compile(html)($scope);\r\n                        $element.find('.pip-popover').append(this.content);\r\n\r\n                        this.init();\r\n                    });\r\n                }\r\n            });\r\n\r\n            $timeout(() => {\r\n                this.calcHeight();\r\n            }, 200);\r\n            $rootScope.$on('pipPopoverResize', () => {\r\n                this.onResize()\r\n            });\r\n            $(window).resize(() => {\r\n                this.onResize()\r\n            });\r\n        }\r\n\r\n        public backdropClick() {\r\n            if (this.params.cancelCallback) {\r\n                this.params.cancelCallback();\r\n            }\r\n            this.closePopover();\r\n        }\r\n\r\n        public closePopover() {\r\n            this.backdropElement.removeClass('opened');\r\n            this.$timeout(() => {\r\n                this.backdropElement.remove();\r\n            }, 100);\r\n        }\r\n\r\n        public onPopoverClick(event) {\r\n            event.stopPropagation();\r\n        }\r\n\r\n        private init() {\r\n            this.backdropElement.addClass('opened');\r\n            $('.pip-popover-backdrop').focus();\r\n            if (this.params.timeout) {\r\n                this.$timeout(function () {\r\n                    this.closePopover();\r\n                }, this.params.timeout);\r\n            }\r\n        }\r\n\r\n        private position() {\r\n            if (this.params.element) {\r\n                let element = $(this.params.element),\r\n                    pos = element.offset(),\r\n                    width = element.width(),\r\n                    height = element.height(),\r\n                    docWidth = $(document).width(),\r\n                    docHeight = $(document).height(),\r\n                    popover = this.backdropElement.find('.pip-popover');\r\n\r\n                if (pos) {\r\n                    popover\r\n                        .css('max-width', docWidth - (docWidth - pos.left))\r\n                        .css('max-height', docHeight - (pos.top + height) - 32, 0)\r\n                        .css('left', pos.left - popover.width() + width / 2)\r\n                        .css('top', pos.top + height + 16);\r\n                }\r\n            }\r\n        }\r\n\r\n        private onResize() {\r\n            this.backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\r\n            this.position();\r\n            this.calcHeight();\r\n        }\r\n\r\n        private calcHeight() {\r\n            if (this.params.calcHeight === false) {\r\n                return;\r\n            }\r\n            const popover = this.backdropElement.find('.pip-popover'),\r\n                title = popover.find('.pip-title'),\r\n                footer = popover.find('.pip-footer'),\r\n                content = popover.find('.pip-content'),\r\n                contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\r\n            content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\r\n        }\r\n    }\r\n\r\n    const Popover: ng.IComponentOptions = {\r\n        bindings: PopoverBindings,\r\n        templateUrl: 'popover/Popover.html',\r\n        controller: PopoverController\r\n    }\r\n\r\n    angular\r\n        .module('pipPopover')\r\n        .component('pipPopover', Popover);\r\n}","import { IPopoverService } from './IPopoverService';\r\n\r\n{\r\n    interface PopoverTemplateScope extends ng.IScope {\r\n        params ? : any;\r\n        locals ? : any;\r\n    }\r\n\r\n    class PopoverService implements IPopoverService {\r\n        private popoverTemplate: string;\r\n\r\n        constructor(\r\n            private $compile: ng.ICompileService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService\r\n        ) {\r\n            this.popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\r\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\r\n        }\r\n\r\n        public show(p: Object) {\r\n            let element: JQuery, scope: PopoverTemplateScope, params: any, content: ng.IRootElementService;\r\n\r\n            element = $('body');\r\n            if (element.find('md-backdrop').length > 0) {\r\n                return;\r\n            }\r\n            this.hide();\r\n            scope = this.$rootScope.$new();\r\n            params = p && _.isObject(p) ? p : {};\r\n            scope.params = params;\r\n            scope.locals = params.locals;\r\n            content = this.$compile(this.popoverTemplate)(scope);\r\n            element.append(content);\r\n        }\r\n\r\n        public hide() {\r\n            const backdropElement = $('.pip-popover-backdrop');\r\n            backdropElement.removeClass('opened');\r\n            this.$timeout(() => {\r\n                backdropElement.remove();\r\n            }, 100);\r\n        }\r\n\r\n        public resize() {\r\n            this.$rootScope.$broadcast('pipPopoverResize');\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipPopover.Service', [])\r\n        .service('pipPopoverService', PopoverService);\r\n}","angular.module('pipPopover', ['pipPopover.Service']);\r\n\r\nimport './Popover';\r\nimport './PopoverService';\r\n\r\nexport * from './IPopoverService';","{\r\n    interface IPopoverBindings {\r\n        [key: string]: any;\r\n\r\n        params: any;\r\n    }\r\n\r\n    const PopoverBindings: IPopoverBindings = {\r\n        params: '<pipParams'\r\n    }\r\n\r\n    class PopoverController implements IPopoverBindings, ng.IController {\r\n        private backdropElement;\r\n        private content;\r\n        public params: any;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $rootScope: ng.IRootScopeService,\r\n            $element: JQuery,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $compile: ng.ICompileService,\r\n            private $templateRequest: ng.ITemplateRequestService\r\n        ) {\r\n            this.backdropElement = $('.pip-popover-backdrop');\r\n            this.backdropElement.on('click keydown scroll', () => {\r\n                this.backdropClick();\r\n            });\r\n            this.backdropElement.addClass(this.params.responsive !== false ? 'pip-responsive' : '');\r\n\r\n            $timeout(() => {\r\n                this.position();\r\n                angular.extend($scope, this.params.locals);\r\n\r\n                if (this.params.template) {\r\n                    this.content = $compile(this.params.template)($scope);\r\n                    $element.find('.pip-popover').append(this.content);\r\n\r\n                    this.init();\r\n                } else {\r\n                    this.$templateRequest(this.params.templateUrl, false).then((html) => {\r\n                        this.content = $compile(html)($scope);\r\n                        $element.find('.pip-popover').append(this.content);\r\n\r\n                        this.init();\r\n                    });\r\n                }\r\n            });\r\n\r\n            $timeout(() => {\r\n                this.calcHeight();\r\n            }, 200);\r\n            $rootScope.$on('pipPopoverResize', () => {\r\n                this.onResize()\r\n            });\r\n            $(window).resize(() => {\r\n                this.onResize()\r\n            });\r\n        }\r\n\r\n        public backdropClick() {\r\n            if (this.params.cancelCallback) {\r\n                this.params.cancelCallback();\r\n            }\r\n            this.closePopover();\r\n        }\r\n\r\n        public closePopover() {\r\n            this.backdropElement.removeClass('opened');\r\n            this.$timeout(() => {\r\n                this.backdropElement.remove();\r\n            }, 100);\r\n        }\r\n\r\n        public onPopoverClick(event) {\r\n            event.stopPropagation();\r\n        }\r\n\r\n        private init() {\r\n            this.backdropElement.addClass('opened');\r\n            $('.pip-popover-backdrop').focus();\r\n            if (this.params.timeout) {\r\n                this.$timeout(function () {\r\n                    this.closePopover();\r\n                }, this.params.timeout);\r\n            }\r\n        }\r\n\r\n        private position() {\r\n            if (this.params.element) {\r\n                let element = $(this.params.element),\r\n                    pos = element.offset(),\r\n                    width = element.width(),\r\n                    height = element.height(),\r\n                    docWidth = $(document).width(),\r\n                    docHeight = $(document).height(),\r\n                    popover = this.backdropElement.find('.pip-popover');\r\n\r\n                if (pos) {\r\n                    popover\r\n                        .css('max-width', docWidth - (docWidth - pos.left))\r\n                        .css('max-height', docHeight - (pos.top + height) - 32, 0)\r\n                        .css('left', pos.left - popover.width() + width / 2)\r\n                        .css('top', pos.top + height + 16);\r\n                }\r\n            }\r\n        }\r\n\r\n        private onResize() {\r\n            this.backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\r\n            this.position();\r\n            this.calcHeight();\r\n        }\r\n\r\n        private calcHeight() {\r\n            if (this.params.calcHeight === false) {\r\n                return;\r\n            }\r\n            const popover = this.backdropElement.find('.pip-popover'),\r\n                title = popover.find('.pip-title'),\r\n                footer = popover.find('.pip-footer'),\r\n                content = popover.find('.pip-content'),\r\n                contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\r\n            content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\r\n        }\r\n    }\r\n\r\n    const Popover: ng.IComponentOptions = {\r\n        bindings: PopoverBindings,\r\n        templateUrl: 'popover/Popover.html',\r\n        controller: PopoverController\r\n    }\r\n\r\n    angular\r\n        .module('pipPopover')\r\n        .component('pipPopover', Popover);\r\n}","import { IPopoverService } from './IPopoverService';\r\n\r\n{\r\n    interface PopoverTemplateScope extends ng.IScope {\r\n        params ? : any;\r\n        locals ? : any;\r\n    }\r\n\r\n    class PopoverService implements IPopoverService {\r\n        private popoverTemplate: string;\r\n\r\n        constructor(\r\n            private $compile: ng.ICompileService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService\r\n        ) {\r\n            this.popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\r\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\r\n        }\r\n\r\n        public show(p: Object) {\r\n            let element: JQuery, scope: PopoverTemplateScope, params: any, content: ng.IRootElementService;\r\n\r\n            element = $('body');\r\n            if (element.find('md-backdrop').length > 0) {\r\n                return;\r\n            }\r\n            this.hide();\r\n            scope = this.$rootScope.$new();\r\n            params = p && _.isObject(p) ? p : {};\r\n            scope.params = params;\r\n            scope.locals = params.locals;\r\n            content = this.$compile(this.popoverTemplate)(scope);\r\n            element.append(content);\r\n        }\r\n\r\n        public hide() {\r\n            const backdropElement = $('.pip-popover-backdrop');\r\n            backdropElement.removeClass('opened');\r\n            this.$timeout(() => {\r\n                backdropElement.remove();\r\n            }, 100);\r\n        }\r\n\r\n        public resize() {\r\n            this.$rootScope.$broadcast('pipPopoverResize');\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipPopover.Service', [])\r\n        .service('pipPopoverService', PopoverService);\r\n}","{\r\n    interface IRoutingBindings {\r\n        [key: string]: any;\r\n\r\n        logoUrl: any;\r\n        showProgress: any;\r\n    }\r\n\r\n    const RoutingBindings: IRoutingBindings = {\r\n        showProgress: '&',\r\n        logoUrl: '@'\r\n    }\r\n\r\n    class RoutingController implements ng.IController, IRoutingBindings {\r\n        private _image: any;\r\n\r\n        public logoUrl: string;\r\n        public showProgress: Function;\r\n\r\n        constructor(\r\n            $scope: ng.IScope,\r\n            private $element: JQuery\r\n        ) { }\r\n\r\n        public $postLink() {\r\n            this._image = this.$element.find('img');\r\n            this.loadProgressImage();\r\n        }\r\n\r\n        public loadProgressImage() {\r\n            if (this.logoUrl) {\r\n                this._image.attr('src', this.logoUrl);\r\n            }\r\n        }\r\n    }\r\n\r\n    const RoutingProgress: ng.IComponentOptions = {\r\n        bindings: RoutingBindings,\r\n        templateUrl: 'progress/RoutingProgress.html',\r\n        controller: RoutingController\r\n    }\r\n\r\n    angular\r\n        .module('pipRoutingProgress', ['ngMaterial'])\r\n        .component('pipRoutingProgress', RoutingProgress);\r\n}","{\r\n    interface IRoutingBindings {\r\n        [key: string]: any;\r\n\r\n        logoUrl: any;\r\n        showProgress: any;\r\n    }\r\n\r\n    const RoutingBindings: IRoutingBindings = {\r\n        showProgress: '&',\r\n        logoUrl: '@'\r\n    }\r\n\r\n    class RoutingController implements ng.IController, IRoutingBindings {\r\n        private _image: any;\r\n\r\n        public logoUrl: string;\r\n        public showProgress: Function;\r\n\r\n        constructor(\r\n            $scope: ng.IScope,\r\n            private $element: JQuery\r\n        ) { }\r\n\r\n        public $postLink() {\r\n            this._image = this.$element.find('img');\r\n            this.loadProgressImage();\r\n        }\r\n\r\n        public loadProgressImage() {\r\n            if (this.logoUrl) {\r\n                this._image.attr('src', this.logoUrl);\r\n            }\r\n        }\r\n    }\r\n\r\n    const RoutingProgress: ng.IComponentOptions = {\r\n        bindings: RoutingBindings,\r\n        templateUrl: 'progress/RoutingProgress.html',\r\n        controller: RoutingController\r\n    }\r\n\r\n    angular\r\n        .module('pipRoutingProgress', ['ngMaterial'])\r\n        .component('pipRoutingProgress', RoutingProgress);\r\n}","export class Toast {\r\n    type: string;\r\n    id: string;\r\n    error: any;\r\n    message: string;\r\n    actions: string[];\r\n    duration: number;\r\n    successCallback: Function;\r\n    cancelCallback: Function\r\n}\r\n","import { Toast } from './Toast';\r\nimport { IToastService } from './IToastService';\r\n\r\n{\r\n    class ToastController {\r\n        private _pipErrorDetailsDialog;\r\n\r\n        public message: string;\r\n        public actions: string[];\r\n        public actionLenght: number;\r\n        public showDetails: boolean;\r\n\r\n        constructor(\r\n            private $mdToast: angular.material.IToastService,\r\n            public toast: Toast,\r\n            $injector: ng.auto.IInjectorService\r\n        ) {\r\n            this._pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') ?\r\n                $injector.get('pipErrorDetailsDialog') : null;\r\n            this.message = toast.message;\r\n            this.actions = toast.actions;\r\n\r\n            if (toast.actions.length === 0) {\r\n                this.actionLenght = 0;\r\n            } else {\r\n                this.actionLenght = toast.actions.length === 1 ? toast.actions[0].toString().length : null;\r\n            }\r\n\r\n            this.showDetails = this._pipErrorDetailsDialog != null;\r\n        }\r\n\r\n        public onDetails(): void {\r\n            this.$mdToast.hide();\r\n            if (this._pipErrorDetailsDialog) {\r\n                this._pipErrorDetailsDialog.show({\r\n                        error: this.toast.error,\r\n                        ok: 'Ok'\r\n                    },\r\n                    angular.noop,\r\n                    angular.noop\r\n                );\r\n            }\r\n        }\r\n\r\n        public onAction(action): void {\r\n            this.$mdToast.hide({\r\n                action: action,\r\n                id: this.toast.id,\r\n                message: this.message\r\n            });\r\n        }\r\n    }\r\n\r\n    class ToastService implements IToastService {\r\n        private SHOW_TIMEOUT: number = 20000;\r\n        private SHOW_TIMEOUT_NOTIFICATIONS: number = 20000;\r\n        private toasts: Toast[] = [];\r\n        private currentToast: any;\r\n        private sounds: any = {};\r\n\r\n        constructor(\r\n            $rootScope: ng.IRootScopeService,\r\n            private $mdToast: angular.material.IToastService\r\n        ) {\r\n            $rootScope.$on('$stateChangeSuccess', () => { this.onStateChangeSuccess() });\r\n            $rootScope.$on('pipSessionClosed', () => { this.onClearToasts() });\r\n            $rootScope.$on('pipIdentityChanged', () => { this.onClearToasts() });\r\n        }\r\n\r\n        public showNextToast(): void {\r\n            let toast: Toast;\r\n\r\n            if (this.toasts.length > 0) {\r\n                toast = this.toasts[0];\r\n                this.toasts.splice(0, 1);\r\n                this.showToast(toast);\r\n            }\r\n        }\r\n\r\n        // Show toast\r\n        public showToast(toast: Toast): void {\r\n            this.currentToast = toast;\r\n\r\n            this.$mdToast.show({\r\n                    templateUrl: 'toast/Toast.html',\r\n                    hideDelay: toast.duration || this.SHOW_TIMEOUT,\r\n                    position: 'bottom left',\r\n                    controller: ToastController,\r\n                    controllerAs: 'vm',\r\n                    locals: {\r\n                        toast: this.currentToast,\r\n                        sounds: this.sounds\r\n                    }\r\n                })\r\n                .then(\r\n                    (action: string) => {\r\n                        this.showToastOkResult(action);\r\n                    },\r\n                    (action: string) => {\r\n                        this.showToastCancelResult(action);\r\n                    }\r\n                );\r\n        }\r\n\r\n        private showToastCancelResult(action: string): void {\r\n            if (this.currentToast.cancelCallback) {\r\n                this.currentToast.cancelCallback(action);\r\n            }\r\n            this.currentToast = null;\r\n            this.showNextToast();\r\n        }\r\n\r\n        private showToastOkResult(action: string): void {\r\n            if (this.currentToast.successCallback) {\r\n                this.currentToast.successCallback(action);\r\n            }\r\n            this.currentToast = null;\r\n            this.showNextToast();\r\n        }\r\n\r\n        public addToast(toast): void {\r\n            if (this.currentToast && toast.type !== 'error') {\r\n                this.toasts.push(toast);\r\n            } else {\r\n                this.showToast(toast);\r\n            }\r\n        }\r\n\r\n        public removeToasts(type: string): void {\r\n            const result: any[] = [];\r\n            _.each(this.toasts, (toast) => {\r\n                if (!toast.type || toast.type !== type) {\r\n                    result.push(toast);\r\n                }\r\n            });\r\n            this.toasts = _.cloneDeep(result);\r\n        }\r\n\r\n        public removeToastsById(id: string): void {\r\n            _.remove(this.toasts, {\r\n                id: id\r\n            });\r\n        }\r\n\r\n        public getToastById(id: string): Toast {\r\n            return _.find(this.toasts, {\r\n                id: id\r\n            });\r\n        }\r\n\r\n        public onStateChangeSuccess() {}\r\n\r\n        public onClearToasts(): void {\r\n            this.clearToasts(null);\r\n        }\r\n\r\n        public showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string) {\r\n            this.addToast({\r\n                id: id || null,\r\n                type: 'notification',\r\n                message: message,\r\n                actions: actions || ['ok'],\r\n                successCallback: successCallback,\r\n                cancelCallback: cancelCallback,\r\n                duration: this.SHOW_TIMEOUT_NOTIFICATIONS\r\n            });\r\n        }\r\n\r\n        public showMessage(message: string, successCallback, cancelCallback, id ? : string) {\r\n            this.addToast({\r\n                id: id || null,\r\n                type: 'message',\r\n                message: message,\r\n                actions: ['ok'],\r\n                successCallback: successCallback,\r\n                cancelCallback: cancelCallback\r\n            });\r\n        }\r\n\r\n        public showError(message: string, successCallback, cancelCallback, id: string, error: any) {\r\n            this.addToast({\r\n                id: id || null,\r\n                error: error,\r\n                type: 'error',\r\n                message: message || 'Unknown error.',\r\n                actions: ['ok'],\r\n                successCallback: successCallback,\r\n                cancelCallback: cancelCallback\r\n            });\r\n        }\r\n\r\n        public hideAllToasts(): void {\r\n            this.$mdToast.cancel();\r\n            this.toasts = [];\r\n        }\r\n\r\n        public clearToasts(type ? : string) {\r\n            if (type) {\r\n                // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\r\n                this.removeToasts(type);\r\n            } else {\r\n                this.$mdToast.cancel();\r\n                this.toasts = [];\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    angular\r\n        .module('pipToasts')\r\n        .service('pipToasts', ToastService);\r\n}","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/colorPicker.html',\n    '<ul class=\"pip-color-picker {{$ctrl.class}}\" pip-selected=\"$ctrl.currentColorIndex\" pip-enter-space-press=\"$ctrl.enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in $ctrl.colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"$ctrl.selectColor($index)\" aria-label=\"color\" ng-disabled=\"$ctrl.ngDisabled\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == $ctrl.currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/popover.html',\n    '<div class=\"pip-popover\" ng-click=\"$ctrl.params.onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/routingProgress.html',\n    '<div class=\"layout-column layout-align-center-center\" ng-show=\"$ctrl.showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': vm.toast.type==\\'error\\', \\'pip-column-toast\\': vm.toast.actions.length > 1 || vm.actionLenght > 4, \\'pip-no-action-toast\\': vm.actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"vm.message\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"vm.actions.length > 0 || (vm.toast.type==\\'error\\' && vm.toast.error)\"><div class=\"flex\" ng-if=\"vm.toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"vm.toast.type==\\'error\\' && vm.toast.error && vm.showDetails\" ng-click=\"vm.onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"vm.onAction(action)\" ng-repeat=\"action in vm.actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n","angular.module('pipToasts', ['ngMaterial', 'pipControls.Translate'])\r\n\r\nimport './ToastService';\r\nimport './Toast';\r\n\r\nexport * from './IToastService';"]}