{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/color_picker/color_picker.ts","src/controls.ts","src/dependencies/translate.ts","src/image_slider/image_slider.ts","src/image_slider/image_slider_service.ts","src/image_slider/slider_button.ts","src/image_slider/slider_indicator.ts","src/markdown/markdown.ts","src/popover/popover.ts","src/popover/popover_service.ts","src/progress/routing_progress.ts","src/toast/toasts.ts","temp/pip-webui-controls-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","controls","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","DEFAULT_COLORS","ColorPickerController","$scope","$element","$attrs","$timeout","_$timeout","_$scope","class","colors","_","isArray","colorChange","currentColor","currentColorIndex","indexOf","ngDisabled","prototype","$onChanges","changes","currentValue","disabled","selectColor","index","_this","$apply","enterSpacePress","event","pipColorPicker","bindings","templateUrl","controller","controllerAs","angular","component","thisModule","filter","$injector","pipTranslate","has","get","key","translate","pipImageSliderController","$parse","$interval","pipImageSlider","_index","DEFAULT_INTERVAL","swipeStart","sliderIndex","_type","_interval","_$attrs","_$interval","slideToPrivate","addClass","setIndex","_blocks","find","$","startInterval","_throttled","throttle","toBlock","_newIndex","_direction","id","registerSlider","on","stopInterval","removeSlider","$inject","nextBlock","restartInterval","prevBlock","nextIndex","pipImageIndex","_timePromises","cancel","type","interval","bindToController","directive","5","ImageSliderService","ANIMATION_DURATION","_sliders","sliderId","sliderScope","getSliderScope","nextCarousel","removeClass","prevCarousel","blocks","oldIndex","direction","blockIndex","6","pipButtonType","pipSliderId","vm","7","slideTo","pipSlideTo","css","8","Config","setTranslations","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","location","time","MarkdownController","_pipTranslate","_$parse","_$injector","_$element","_text","_isList","_clamp","_rebind","$postLink","$on","bindText","newText","describeAttachments","array","attachTypes","attach","attachString","push","value","isClamped","height","options","obj","item","text","textString","pipLineCount","isNumber","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","html","attr","append","isList","clamp","rebind","9","PopoverController","$rootScope","$compile","template","timeout","element","calcH","calcHeight","cancelCallback","backdropElement","backdropClick","responsive","position","content","init","onResize","resize","closePopover","remove","onPopoverClick","$e","stopPropagation","focus","pos","offset","width","docWidth","document","docHeight","popover","left","top","title","footer","contentHeight","outerHeight","Math","max","pipPopover","restrict","scope","PopoverService","_$compile","_$rootScope","popoverTemplate","show","p","params","hide","$new","isObject","locals","$broadcast","service","11","RoutingController","showProgress","logoUrl","_image","loadProgressImage","RoutingProgress","replace","ToastController","$mdToast","toast","_pipErrorDetailsDialog","_$mdToast","message","actions","actionLenght","toString","onDetails","error","ok","noop","onAction","action","ToastService","SHOW_TIMEOUT","SHOW_TIMEOUT_NOTIFICATIONS","toasts","sounds","onStateChangeSuccess","onClearToasts","showNextToast","splice","showToast","currentToast","duration","then","showToastOkResult","showToastCancelResult","successCallback","addToast","removeToasts","result","each","cloneDeep","removeToastsById","getToastById","clearToasts","showNotification","showMessage","showError","hideAllToasts","13","run","$templateCache","put"],"mappings":"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","file":"pip-webui-controls.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","export interface IColorPicker {\n    class: string;\n    colors: string[];\n    currentColor: string;\n    currentColorIndex: number;\n    ngDisabled: Function;\n    colorChange: Function;\n\n    enterSpacePress(event): void;\n    disabled(): boolean;\n    selectColor(index: number);\n}\n\nconst DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\n\nexport class ColorPickerController implements IColorPicker {\n\n    private _$timeout;\n    private _$scope: ng.IScope;\n\n    public class: string;\n    public colors: string[];\n    public currentColor: string;\n    public currentColorIndex: number;\n    public ngDisabled: Function;\n    public colorChange: Function;\n\n    constructor(\n        $scope: ng.IScope,\n        $element,\n        $attrs,\n        $timeout) {\n        this._$timeout = $timeout;\n        this._$scope = $scope;\n\n        this.class = $attrs.class || '';\n        this.colors = !$scope['vm']['colors'] || \n                _.isArray($scope['vm']['colors']) && $scope['vm']['colors'].length === 0 ? DEFAULT_COLORS : $scope['vm']['colors'];\n        this.colorChange = $scope['vm']['colorChange'] || null;\n        this.currentColor = $scope['vm']['currentColor'] || this.colors[0];\n        this.currentColorIndex = this.colors.indexOf(this.currentColor);\n        this.ngDisabled = $scope['vm']['ngDisabled'] || false;\n    }\n\n    public $onChanges(changes: any) {\n        this.colors = _.isArray(changes['colors'].currentValue) && changes['colors'].currentValue.length !== 0 ? \n            changes['colors'].currentValue : DEFAULT_COLORS;\n        this.currentColor = changes['currentColor'].currentValue || this.colors[0];\n    }\n\n    public disabled(): boolean {\n        if (this.ngDisabled) {\n            return true;\n        }\n\n        return false;\n    };\n\n    public selectColor(index: number) {\n        if (this.disabled()) {\n            return;\n        }\n        this.currentColorIndex = index;\n        this.currentColor = this.colors[this.currentColorIndex];\n        this._$timeout(() => {\n            this._$scope.$apply();\n        });\n\n        if (this.colorChange) {\n            this.colorChange();\n        }\n    };\n\n    public enterSpacePress(event): void {\n        this.selectColor(event.index);\n    };\n\n}\n\nconst pipColorPicker = {\n    bindings: {\n        ngDisabled: '<?ngDisabled',\n        colors: '<pipColors',\n        currentColor: '=ngModel',\n        colorChange: '<?ngChange'\n    },\n    templateUrl: 'color_picker/color_picker.html',\n    controller: ColorPickerController,\n    controllerAs: 'vm'\n}\n\nangular\n    .module('pipColorPicker', ['pipControls.Templates'])\n    .component('pipColorPicker', pipColorPicker);","﻿/// <reference path=\"../typings/tsd.d.ts\" />\n\n(() => {\n    'use strict';\n\n    angular.module('pipControls', [\n        'pipMarkdown',\n        'pipColorPicker',\n        'pipRoutingProgress',\n        'pipPopover',\n        'pipImageSlider',\n        'pipToasts',\n        'pipControls.Translate'\n    ]);\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipControls.Translate', []);\n\n    thisModule.filter('translate', function ($injector) {\n        var pipTranslate = $injector.has('pipTranslate') \n            ? $injector.get('pipTranslate') : null;\n\n        return function (key) {\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\n        }\n    });\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\nclass pipImageSliderController{\n\n    private _$attrs;\n    private _$interval: angular.IIntervalService;\n    private _$scope: angular.IScope;\n\n    private _blocks: any[];\n    private _index: number = 0;\n    private _newIndex: number;\n    private _direction: string;\n    private _type: any;\n    private DEFAULT_INTERVAL = 4500;\n    private _interval;\n    private _timePromises;\n    private _throttled: Function;\n\n    public swipeStart: number = 0;\n    public sliderIndex: number;\n    public slideTo: Function;\n\n    constructor(\n        $scope: ng.IScope, \n        $element, \n        $attrs, \n        $parse: ng.IParseService, \n        $timeout: angular.ITimeoutService,\n        $interval: angular.IIntervalService, \n        pipImageSlider) {\n\n        this.sliderIndex = $scope['vm']['sliderIndex'];\n        this._type = $scope['vm']['type']();\n        this._interval = $scope['vm']['interval']();\n        this._$attrs = $attrs;\n        this._$interval = $interval;\n        this._$scope = $scope;\n        $scope['slideTo'] = this.slideToPrivate;\n\n        $element.addClass('pip-image-slider');\n        $element.addClass('pip-animation-' + this._type);\n        \n        this.setIndex();\n\n        $timeout(() => {\n            this._blocks = $element.find('.pip-animation-block');\n            if (this._blocks.length > 0) {\n                $(this._blocks[0]).addClass('pip-show');\n            }\n        });\n\n        this.startInterval();\n\n        this._throttled = _.throttle(() => {\n            pipImageSlider.toBlock(this._type, this._blocks, this._index, this._newIndex, this._direction);\n            this._index = this._newIndex;\n            this.setIndex();\n        }, 700);\n        \n        if ($attrs.id) { pipImageSlider.registerSlider($attrs.id, $scope) }\n\n        $element.on('$destroy', () => {\n            this.stopInterval();\n            pipImageSlider.removeSlider($attrs.id);\n        });\n\n    }\n\n    public nextBlock() {\n        this.restartInterval();\n        this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\n        this._direction = 'next';\n        this._throttled();\n    }\n\n    public prevBlock() {\n        this.restartInterval();\n        this._newIndex = this._index - 1 < 0 ? this._blocks.length - 1 : this._index - 1;\n        this._direction = 'prev';\n        this._throttled();\n    }\n\n    private slideToPrivate(nextIndex: number) {\n        if (nextIndex === this._index || nextIndex > this._blocks.length - 1) {\n            return;\n        }\n\n        this.restartInterval();\n        this._newIndex = nextIndex;\n        this._direction = nextIndex > this._index ? 'next' : 'prev';\n        this._throttled();\n    }\n\n    private setIndex() {\n        if (this._$attrs.pipImageIndex) this.sliderIndex = this._index;\n    }\n\n    private startInterval() {\n        this._timePromises = this._$interval(() => {\n            this._newIndex = this._index + 1 === this._blocks.length ? 0 : this._index + 1;\n            this._direction = 'next';\n            this._throttled();\n        }, this._interval || this.DEFAULT_INTERVAL);\n    }\n\n    private stopInterval() {\n        this._$interval.cancel(this._timePromises);\n    }\n\n    private restartInterval() {\n        this.stopInterval();\n        this.startInterval();\n    }\n}\n\n(() => {\n\n    function pipImageSlider() {\n        return {\n            scope: {\n                sliderIndex: '=pipImageIndex',\n                type: '&pipAnimationType',\n                interval: '&pipAnimationInterval'\n            },\n            bindToController: true,\n            controller: pipImageSliderController,\n            controllerAs: 'vm'\n        };\n    }\n\n\n    angular\n        .module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service'])\n        .directive('pipImageSlider', pipImageSlider);\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\ninterface IImageSliderService {\n    registerSlider(sliderId: string, sliderScope): void;\n    removeSlider(sliderId: string): void;\n    getSliderScope(sliderId: string);\n    nextCarousel(nextBlock, prevBlock): void;\n    prevCarousel(nextBlock, prevBlock): void;\n    toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void;\n}\n\nclass ImageSliderService {\n    private _$timeout: angular.ITimeoutService;\n    private ANIMATION_DURATION: number = 550;\n    private _sliders = {};\n\n    constructor($timeout: angular.ITimeoutService) {\n        this._$timeout = $timeout;\n    }\n\n    public registerSlider(sliderId: string, sliderScope): void {\n        this._sliders[sliderId] = sliderScope;\n    }\n            \n    public removeSlider(sliderId: string): void {\n        delete this._sliders[sliderId];\n    }\n\n    public getSliderScope(sliderId: string) {\n        return this._sliders[sliderId];\n    }\n\n    public nextCarousel(nextBlock, prevBlock): void {\n        nextBlock.addClass('pip-next');\n                \n        this._$timeout(() => {\n            nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\n            prevBlock.addClass('animated').removeClass('pip-show');\n        }, 100);\n    }\n\n    public prevCarousel(nextBlock, prevBlock): void {\n        this._$timeout(() => {\n            nextBlock.addClass('animated').addClass('pip-show');\n            prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\n        }, 100);\n    }\n\n    public toBlock(type: string, blocks: any[], oldIndex: number, nextIndex: number, direction: string): void {\n        let prevBlock = $(blocks[oldIndex]),\n            blockIndex: number = nextIndex,\n            nextBlock = $(blocks[blockIndex]);\n\n        if (type === 'carousel') {\n            $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\n\n            if (direction && (direction === 'prev' || direction === 'next')) {\n                if (direction === 'prev') {\n                    this.prevCarousel(nextBlock, prevBlock);\n                } else {\n                    this.nextCarousel(nextBlock, prevBlock);\n                }\n            } else {\n                if (nextIndex && nextIndex < oldIndex) {\n                    this.prevCarousel(nextBlock, prevBlock);\n                } else {\n                    this.nextCarousel(nextBlock, prevBlock);\n                }\n            }\n        } else {\n            prevBlock.addClass('animated').removeClass('pip-show');\n            nextBlock.addClass('animated').addClass('pip-show');\n        }\n    }\n\n}\n\n\n(() => {\n    'use strict';\n    angular\n        .module('pipImageSlider.Service', [])\n        .service('pipImageSlider', ImageSliderService);\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(() => {\n    'use strict';\n\n    var thisModule = angular.module('pipSliderButton', []);\n\n    thisModule.directive('pipSliderButton',\n        function () {\n            return {\n                scope: {},\n                controller: function ($scope, $element, $parse, $attrs, pipImageSlider) {\n                    var type = $parse($attrs.pipButtonType)($scope),\n                        sliderId = $parse($attrs.pipSliderId)($scope);\n\n                    $element.on('click', () => {\n                        if (!sliderId || !type) {\n                            return;\n                        }\n\n                        pipImageSlider.getSliderScope(sliderId).vm[type + 'Block']();\n                    });\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipSliderIndicator', []);\n\n    thisModule.directive('pipSliderIndicator',\n        function () {\n            return {\n                scope: false,\n                controller: ($scope, $element, $parse, $attrs, pipImageSlider) => {\n                    var sliderId = $parse($attrs.pipSliderId)($scope),\n                        slideTo = $parse($attrs.pipSlideTo)($scope);\n\n                    $element.css('cursor', 'pointer');\n                    $element.on('click',  () => {\n                        if (!sliderId || slideTo && slideTo < 0) {\n                            return;\n                        }\n                        pipImageSlider.getSliderScope(sliderId).vm.slideToPrivate(slideTo);\n                    });\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\ndeclare var marked: any;\n\nfunction Config($injector) {\n    const pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n    if (pipTranslate) {\n        pipTranslate.setTranslations('en', {\n            'MARKDOWN_ATTACHMENTS': 'Attachments:',\n            'checklist': 'Checklist',\n            'documents': 'Documents',\n            'pictures': 'Pictures',\n            'location': 'Location',\n            'time': 'Time'\n        });\n        pipTranslate.setTranslations('ru', {\n            'MARKDOWN_ATTACHMENTS': 'Вложения:',\n            'checklist': 'Список',\n            'documents': 'Документы',\n            'pictures': 'Изображения',\n            'location': 'Местонахождение',\n            'time': 'Время'\n        });\n    }\n}\n\nclass MarkdownController {\n    private _pipTranslate;\n    private _$parse: angular.IParseService;\n    private _$scope: angular.IScope;\n    private _$injector;\n    private _$element;\n    private _$attrs;\n    private _text;\n    private _isList;\n    private _clamp;\n    private _rebind;\n\n    constructor(\n        $scope: angular.IScope,\n        $parse: angular.IParseService,\n        $attrs,\n        $element,\n        $injector\n    ) {\n        this._pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n        this._$parse = $parse;\n        this._$scope = $scope;\n        this._$injector = $injector;\n        this._$element = $element;\n        this._$attrs = $attrs;\n        this._text = $scope['$ctrl']['text'];\n        this._isList = $scope['$ctrl']['isList'];\n        this._clamp = $scope['$ctrl']['clamp'];\n        this._rebind = $scope['$ctrl']['rebind'];\n    }\n\n    public $postLink() {\n        // Fill the text\n        this.bindText(this._text);\n\n        this._$scope.$on('pipWindowResized', function () {\n            if (this.bindText) this.bindText(this._text(this._$scope));\n        });\n\n        // Add class\n        this._$element.addClass('pip-markdown');\n\n    }\n\n    public $onChanges(changes: any) {\n        const newText = changes['text'].currentValue;\n\n        if (this._rebind) {\n            if (this._text !== newText) {\n                this._text = newText;\n                this.bindText(this._text);\n            }\n        }\n    }\n\n    private describeAttachments(array) {\n        var attachString = '',\n            attachTypes = [];\n\n        _.each(array, function (attach) {\n            if (attach.type && attach.type !== 'text') {\n                if (attachString.length === 0 && this._pipTranslate) {\n                    attachString = this._pipTranslate.translate('MARKDOWN_ATTACHMENTS');\n                }\n\n                if (attachTypes.indexOf(attach.type) < 0) {\n                    attachTypes.push(attach.type);\n                    attachString += attachTypes.length > 1 ? ', ' : ' ';\n                    if (this._pipTranslate)\n                        attachString += this._pipTranslate.translate(attach.type);\n                }\n            }\n        });\n\n        return attachString;\n    }\n\n    private bindText(value) {\n        var textString, isClamped, height, options, obj;\n\n        if (_.isArray(value)) {\n            obj = _.find(value, function (item: any) {\n                return item.type === 'text' && item.text;\n            });\n\n            textString = obj ? obj.text : this.describeAttachments(value);\n        } else {\n            textString = value;\n        }\n\n        isClamped = this._$attrs.pipLineCount && _.isNumber(this._clamp);\n        isClamped = isClamped && textString && textString.length > 0;\n        options = {\n            gfm: true,\n            tables: true,\n            breaks: true,\n            sanitize: true,\n            pedantic: true,\n            smartLists: true,\n            smartypents: false\n        };\n        textString = marked(textString || '', options);\n        if (isClamped) {\n            height = 1.5 * this._clamp;\n        } \n        // Assign value as HTML\n        this._$element.html('<div' + (isClamped ? this._isList ? 'class=\"pip-markdown-content ' +\n            'pip-markdown-list\" style=\"max-height: ' + height + 'em\">' :\n            ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : this._isList ?\n            ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\n        this._$element.find('a').attr('target', 'blank');\n        if (!this._isList && isClamped) {\n            this._$element.append('<div class=\"pip-gradient-block\"></div>');\n        }\n    }\n}\n\n(function () {\n    'use strict';\n\n    const MarkdownComponent = {\n        controller: MarkdownController,\n        bindings: {\n            text: '<pipText',\n            isList: '<?pipList',\n            clamp: '<?pipLineCount',\n            rebind: '<?pipRebind'\n        }\n    }\n\n    angular.module('pipMarkdown', ['ngSanitize'])\n        .run(Config)\n        .component('pipMarkdown', MarkdownComponent);\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n\nexport class PopoverController {\n  \n    private _$timeout;\n    private _$scope: ng.IScope;\n\n    public timeout;\n    public backdropElement;\n    public content;\n    public element;\n    public calcH: boolean;\n\n    public templateUrl;\n    public template\n\n    public cancelCallback: Function;\n\n    constructor( \n        $scope: ng.IScope,\n        $rootScope,\n        $element,\n        $timeout, \n        $compile\n       ) {\n           //$scope = _.defaults($scope, $scope.$parent);    // eslint-disable-line \n           this._$timeout = $timeout;\n           this.templateUrl = $scope['params'].templateUrl;\n           this.template = $scope['params'].template;\n           this.timeout = $scope['params'].timeout;\n           this.element = $scope['params'].element;\n           this.calcH = $scope['params'].calcHeight;\n           this.cancelCallback = $scope['params'].cancelCallback;\n           this.backdropElement = $('.pip-popover-backdrop');\n           this.backdropElement.on('click keydown scroll',() =>{ this.backdropClick()});\n           this.backdropElement.addClass($scope['params'].responsive !== false ? 'pip-responsive' : '');\n\n           $timeout(() => {\n                this.position();\n                if ($scope['params'].template) {\n                    this.content = $compile($scope['params'].template)($scope);\n                    $element.find('.pip-popover').append(this.content);\n                }\n\n                this.init();\n           });\n\n           $timeout(() => { this.calcHeight(); }, 200);\n           $rootScope.$on('pipPopoverResize', () => { this.onResize()});\n           $(window).resize(() => { this.onResize() });\n\n    }\n\n    public backdropClick() {\n        if (this.cancelCallback) {\n            this.cancelCallback();\n        }\n        this.closePopover();\n    }\n\n    public closePopover() {\n        this.backdropElement.removeClass('opened');\n        this._$timeout(() => {\n            this.backdropElement.remove();\n        }, 100);\n    }\n\n    public onPopoverClick($e) {\n        $e.stopPropagation();\n    }\n\n\n    private init() {\n        this.backdropElement.addClass('opened');\n        $('.pip-popover-backdrop').focus();\n        if (this.timeout) {\n            this._$timeout(function () {\n                this.closePopover();\n            }, this.timeout);\n        }\n    }\n\n    private position() {\n        if (this.element) {\n            let element = $(this.element),\n                pos = element.offset(),\n                width = element.width(),\n                height = element.height(),\n                docWidth = $(document).width(),\n                docHeight = $(document).height(),\n                popover = this.backdropElement.find('.pip-popover');\n\n            if (pos) {\n                popover\n                    .css('max-width', docWidth - (docWidth - pos.left))\n                    .css('max-height', docHeight - (pos.top + height) - 32, 0)\n                    .css('left', pos.left - popover.width() + width / 2)\n                    .css('top', pos.top + height + 16);\n            }\n        }\n    }\n\n    private onResize() {\n        this.backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\n        this.position();\n        this.calcHeight();\n    }\n\n    private calcHeight() {\n        if (this.calcH === false) { return; }\n        let popover = this.backdropElement.find('.pip-popover'),\n        title = popover.find('.pip-title'),\n        footer = popover.find('.pip-footer'),\n        content = popover.find('.pip-content'),\n        contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\n        content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\n    }\n}\n\n(() => {\n    function pipPopover($parse: any) {\n        \"ngInject\";\n\n          return {\n                restrict: 'EA',\n                scope: true,\n                templateUrl: 'popover/popover.html',\n                controller: PopoverController,\n                controllerAs: 'vm'\n            };\n    }\n\n    angular\n        .module('pipPopover', ['pipPopover.Service'])\n        .directive('pipPopover', pipPopover);\n\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\n\nexport class PopoverService {\n  \n    private _$timeout;\n    private _$scope: ng.IScope;\n    private _$compile;\n    private _$rootScope: ng.IRootScopeService;\n\n    public popoverTemplate: string;\n\n    constructor( \n        $compile,\n        $rootScope, \n        $timeout\n       ) {\n           this._$compile = $compile;\n           this._$rootScope = $rootScope;\n           this._$timeout = $timeout;\n           this.popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\n    }\n\n    public show(p) {\n        let element, scope: ng.IScope, params, content;\n            \n        element = $('body');\n        if (element.find('md-backdrop').length > 0) { return; }\n        this.hide();\n        scope = this._$rootScope.$new();\n        params = p && _.isObject(p) ? p : {};\n        scope['params'] = params;\n        scope['locals'] = params.locals;\n        content = this._$compile(this.popoverTemplate)(scope);\n        element.append(content);\n    }\n\n    public hide() {\n        let backdropElement = $('.pip-popover-backdrop');\n        backdropElement.removeClass('opened');\n        this._$timeout(() => {\n            backdropElement.remove();\n        }, 100);\n    }\n\n    public resize() {\n        this._$rootScope.$broadcast('pipPopoverResize');\n    }\n}\n\n\n(() => {\n    angular\n        .module('pipPopover.Service', [])\n        .service('pipPopoverService', PopoverService);\n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\n\nclass RoutingController {\n    private _image: any;\n    private _$element;\n\n    public logoUrl: string;\n    public showProgress: Function;\n\n    constructor( \n        $scope: ng.IScope,\n        $element)\n    {\n\n        this._$element = $element;\n        this.showProgress = $scope['vm']['showProgress'];\n        this.logoUrl = $scope['vm']['logoUrl'];    \n    }\n\n    public $postLink() {\n        this._image = this._$element.find('img'); \n        this.loadProgressImage();\n    }\n\n    public loadProgressImage() {\n        if (this.logoUrl) {\n            this._image.attr('src', this.logoUrl);\n        }\n    }\n}\n\n\n(() => {\n\n    const RoutingProgress = {\n            replace: true,\n            bindings: {\n                showProgress: '&',\n                logoUrl: '@'\n            },\n            templateUrl: 'progress/routing_progress.html',\n            controller: RoutingController,\n            controllerAs: 'vm'\n    }\n\n\n    angular\n        .module('pipRoutingProgress', ['ngMaterial'])\n        .component('pipRoutingProgress', RoutingProgress);\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\ninterface IPipToast {\n    type: string;\n    id: string;\n    error: any;\n    message: string;\n    actions: string[];\n    duration: number;\n    successCallback: Function;\n    cancelCallback: Function\n}\n\nclass ToastController {\n    private _$mdToast: angular.material.IToastService;\n    private _pipErrorDetailsDialog;\n\n    public message: string;\n    public actions: string[];\n    public toast: IPipToast;\n    public actionLenght: number;\n    public showDetails: boolean;\n\n    constructor( \n        $mdToast: angular.material.IToastService, \n        toast: IPipToast, \n        $injector\n       ) {\n            this._pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') \n                ? $injector.get('pipErrorDetailsDialog') : null;\n            this._$mdToast = $mdToast;\n            this.message = toast.message;\n            this.actions = toast.actions;\n            this.toast = toast;\n            \n            if (toast.actions.length === 0) {\n                this.actionLenght = 0;\n            } else {\n                this.actionLenght = toast.actions.length === 1 ? toast.actions[0].toString().length : null;\n            }\n\n            this.showDetails = this._pipErrorDetailsDialog != null;\n\n    }\n\n     public onDetails(): void {\n        this._$mdToast.hide();\n        if (this._pipErrorDetailsDialog) {\n            this._pipErrorDetailsDialog.show(\n            {\n                error: this.toast.error,\n                ok: 'Ok'\n            },\n            angular.noop,\n            angular.noop\n            );\n        }\n    }\n\n    public onAction(action): void {\n        this._$mdToast.hide(\n        {\n            action: action,\n            id: this.toast.id,\n            message: this.message\n        });\n\n    }\n}\n\ninterface IToastService {\n    showNextToast(): void;\n    showToast(toast: IPipToast): void;\n    addToast(toast): void;\n    removeToasts(type: string): void;\n    getToastById(id: string): IPipToast;\n    removeToastsById(id: string): void;\n    onClearToasts(): void;\n    showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string);\n    showMessage(message: string, successCallback, cancelCallback, id?: string);\n    showError(message: string, successCallback, cancelCallback, id: string, error: any);\n    hideAllToasts(): void;\n    clearToasts(type?: string);\n}\n\nclass ToastService implements IToastService {\n    private SHOW_TIMEOUT: number = 20000;\n    private SHOW_TIMEOUT_NOTIFICATIONS: number = 20000;\n    private toasts: IPipToast[] = [];\n    private currentToast: any;\n    private sounds: any = {};\n\n    private _$mdToast: angular.material.IToastService;\n\n    constructor(\n        $rootScope: ng.IRootScopeService, \n        $mdToast: angular.material.IToastService) {\n\n        this._$mdToast = $mdToast;\n\n        $rootScope.$on('$stateChangeSuccess', () => {this.onStateChangeSuccess()});\n        $rootScope.$on('pipSessionClosed', () => {this.onClearToasts()});\n        $rootScope.$on('pipIdentityChanged', () => {this.onClearToasts()});\n    }\n\n    public showNextToast(): void {\n        let toast: IPipToast;\n\n        if (this.toasts.length > 0) {\n            toast = this.toasts[0];\n            this.toasts.splice(0, 1);\n            this.showToast(toast);\n        }\n    }\n\n     // Show toast\n     public showToast(toast: IPipToast): void {\n        this.currentToast = toast;\n\n        this._$mdToast.show({\n            templateUrl: 'toast/toast.html',\n            hideDelay: toast.duration || this.SHOW_TIMEOUT,\n            position: 'bottom left',\n            controller: ToastController,\n            controllerAs: 'vm',\n            locals: {\n                toast: this.currentToast,\n                sounds: this.sounds\n            }\n        })\n        .then( \n            (action: string) => {\n                this.showToastOkResult(action);\n            },\n            (action: string) => {\n                this.showToastCancelResult(action);\n            }\n        );\n    }\n\n    private showToastCancelResult(action: string):void {\n        if (this.currentToast.cancelCallback) {\n            this.currentToast.cancelCallback(action);\n        }\n        this.currentToast = null;\n        this.showNextToast();\n    }\n\n    private showToastOkResult(action: string): void {\n        if (this.currentToast.successCallback) {\n            this.currentToast.successCallback(action);\n        }\n        this.currentToast = null;\n        this.showNextToast();\n    }\n\n    public addToast(toast): void {\n        if (this.currentToast && toast.type !== 'error') {\n            this.toasts.push(toast);\n        } else {\n            this.showToast(toast);\n        }\n    }\n\n    public removeToasts(type: string): void {\n        let result: any[] = [];\n        _.each(this.toasts, (toast) => {\n            if (!toast.type || toast.type !== type) {\n                result.push(toast);\n            }\n        });\n        this.toasts = _.cloneDeep(result);\n    }\n\n    public removeToastsById(id: string): void {\n        _.remove(this.toasts, {id: id});\n    }\n\n    public getToastById(id: string): IPipToast {\n        return _.find(this.toasts, {id: id});\n    }\n\n    public onStateChangeSuccess() {}\n\n    public onClearToasts(): void {\n        this.clearToasts(null);\n    }\n\n    public showNotification(message: string, actions: string[], successCallback, cancelCallback, id: string) {\n        this.addToast({\n            id: id || null,\n            type: 'notification',\n            message: message,\n            actions: actions || ['ok'],\n            successCallback: successCallback,\n            cancelCallback: cancelCallback,\n            duration: this.SHOW_TIMEOUT_NOTIFICATIONS\n        });\n    }\n\n    public showMessage(message: string, successCallback, cancelCallback, id?: string) {\n        this.addToast({\n            id: id || null,\n            type: 'message',\n            message: message,\n            actions: ['ok'],\n            successCallback: successCallback,\n            cancelCallback: cancelCallback\n        });\n    }\n\n     public showError(message: string, successCallback, cancelCallback, id: string, error: any) {\n        this.addToast({\n            id: id || null,\n            error: error,\n            type: 'error',\n            message: message || 'Unknown error.',\n            actions: ['ok'],\n            successCallback: successCallback,\n            cancelCallback: cancelCallback\n        });\n    }\n\n    public hideAllToasts(): void {\n        this._$mdToast.cancel();\n        this.toasts = [];\n    }\n\n    public clearToasts(type?: string) {\n        if (type) {\n            // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\n            this.removeToasts(type);\n        } else {\n            this._$mdToast.cancel();\n            this.toasts = [];\n        }\n    }\n\n}\n\n\n(() => {\n    angular\n        .module('pipToasts', ['ngMaterial', 'pipControls.Translate'])\n        .service('pipToasts', ToastService);\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/color_picker.html',\n    '<ul class=\"pip-color-picker {{vm.class}}\" pip-selected=\"vm.currentColorIndex\" pip-enter-space-press=\"vm.enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in vm.colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"vm.selectColor($index)\" aria-label=\"color\" ng-disabled=\"vm.disabled()\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == vm.currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/popover.html',\n    '<div ng-if=\"vm.templateUrl\" class=\"pip-popover flex layout-column\" ng-click=\"vm.onPopoverClick($event)\" ng-include=\"vm.templateUrl\"></div><div ng-if=\"vm.template\" class=\"pip-popover\" ng-click=\"vm.onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': vm.toast.type==\\'error\\', \\'pip-column-toast\\': vm.toast.actions.length > 1 || vm.actionLenght > 4, \\'pip-no-action-toast\\': vm.actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"vm.message\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"vm.actions.length > 0 || (vm.toast.type==\\'error\\' && vm.toast.error)\"><div class=\"flex\" ng-if=\"vm.toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"vm.toast.type==\\'error\\' && vm.toast.error && vm.showDetails\" ng-click=\"vm.onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"vm.onAction(action)\" ng-repeat=\"action in vm.actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/routing_progress.html',\n    '<div class=\"pip-routing-progress layout-column layout-align-center-center\" ng-show=\"vm.showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n"]}